{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{\"3whx\":function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return r});var i=n(\"KZX/\"),o=n(\"oTcB\"),c=n(\"8Y7J\"),r=function(){function e(){}return e.\\u0275mod=c.Jb({type:e}),e.\\u0275inj=c.Ib({factory:function(t){return new(t||e)},imports:[[i.a,o.b],i.a]}),e}()},U6ZW:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ROUTES\",function(){return et}),n.d(t,\"AdminReportModule\",function(){return tt});var i=n(\"iInd\"),o=n(\"3whx\"),c=n(\"kU/X\"),r=n(\"/e7+\"),a=n(\"jgEc\"),s=n(\"LLt/\"),l=n(\"8Y7J\"),b=n(\"G0yt\"),d=n(\"s7LF\"),p=n(\"UPO+\"),h=n(\"SVse\"),u=n(\"HF3I\");function g(e,t){1&e&&(l.Qb(0,\"th\"),l.Jc(1,\"Sale Date\"),l.Pb())}function v(e,t){1&e&&(l.Qb(0,\"th\",3),l.Jc(1,\"Advance\"),l.Pb())}function f(e,t){1&e&&(l.Qb(0,\"th\",3),l.Jc(1,\"Due\"),l.Pb())}function m(e,t){1&e&&(l.Qb(0,\"th\"),l.Jc(1,\"Ref\"),l.Pb())}function y(e,t){1&e&&(l.Qb(0,\"th\",3),l.Jc(1,\"ref. fee\"),l.Pb())}function P(e,t){1&e&&(l.Qb(0,\"th\"),l.Jc(1,\"Status\"),l.Pb())}function Q(e,t){if(1&e&&(l.Qb(0,\"td\"),l.Jc(1),l.fc(2,\"date\"),l.Pb()),2&e){var n=l.ec().$implicit;l.zb(1),l.Lc(\" \",l.hc(2,1,n.created,\"d MMM,y\"),\" \")}}function S(e,t){if(1&e&&(l.Qb(0,\"td\",3),l.Jc(1),l.Pb()),2&e){var n=l.ec().$implicit;l.zb(1),l.Kc(n.advance)}}function M(e,t){if(1&e&&(l.Qb(0,\"td\",3),l.Jc(1),l.Pb()),2&e){var n=l.ec().$implicit;l.zb(1),l.Kc(n.due)}}function k(e,t){if(1&e&&(l.Qb(0,\"td\"),l.Jc(1),l.Pb()),2&e){var n=l.ec().$implicit;l.zb(1),l.Kc(n.ref)}}function D(e,t){if(1&e&&(l.Qb(0,\"td\",3),l.Jc(1),l.Pb()),2&e){var n=l.ec().$implicit;l.zb(1),l.Kc(n.refFee)}}var w=function(e,t){return{\"bg-primary\":e,\"bg-danger\":t}};function L(e,t){if(1&e&&(l.Qb(0,\"td\",13),l.Jc(1),l.Pb()),2&e){var n=l.ec().$implicit;l.mc(\"ngClass\",l.rc(2,w,\"Paid\"==n.status,\"Unpaid\"==n.status)),l.zb(1),l.Lc(\" \",n.status,\" \")}}function J(e,t){if(1&e&&(l.Qb(0,\"td\"),l.Qb(1,\"a\",14),l.Jc(2),l.Pb(),l.Pb()),2&e){var n=l.ec().$implicit;l.zb(1),l.oc(\"routerLink\",\"/dashboard/printTicket/\",n.bookingId,\"\"),l.zb(1),l.Lc(\" \",n.bookingId,\"\")}}function T(e,t){if(1&e&&(l.Qb(0,\"td\"),l.Qb(1,\"a\",14),l.Jc(2),l.Pb(),l.Pb()),2&e){var n=l.ec().$implicit;l.zb(1),l.oc(\"routerLink\",\"/dashboard/ship-print-ticket/\",n.bookingId,\"\"),l.zb(1),l.Lc(\" \",n.bookingId,\"\")}}function z(e,t){if(1&e&&(l.Qb(0,\"td\"),l.Jc(1),l.Pb()),2&e){var n=l.ec().$implicit;l.zb(1),l.Kc(n.bookingId)}}var R=function(e,t){return{\"bg-warning\":e,\"bg-danger\":t}};function C(e,t){if(1&e&&(l.Qb(0,\"tr\",11),l.Qb(1,\"td\"),l.Jc(2),l.Pb(),l.Qb(3,\"td\"),l.Jc(4),l.Pb(),l.Qb(5,\"td\"),l.Jc(6),l.Mb(7,\"br\"),l.Jc(8),l.Pb(),l.Qb(9,\"td\"),l.Jc(10),l.Pb(),l.Qb(11,\"td\"),l.Jc(12),l.Pb(),l.Hc(13,Q,3,4,\"td\",2),l.Qb(14,\"td\"),l.Jc(15),l.fc(16,\"date\"),l.Pb(),l.Qb(17,\"td\",3),l.Jc(18),l.Pb(),l.Hc(19,S,2,1,\"td\",4),l.Hc(20,M,2,1,\"td\",4),l.Qb(21,\"td\",3),l.Jc(22),l.Pb(),l.Qb(23,\"td\",3),l.Jc(24),l.Pb(),l.Hc(25,k,2,1,\"td\",2),l.Hc(26,D,2,1,\"td\",4),l.Hc(27,L,2,5,\"td\",12),l.Hc(28,J,3,2,\"td\",2),l.Hc(29,T,3,2,\"td\",2),l.Hc(30,z,2,1,\"td\",2),l.Pb()),2&e){var n=t.$implicit,i=t.index,o=l.ec();l.mc(\"ngClass\",l.rc(26,R,\"ROOM_RESERVED\"==n.bookingStatus,\"ROOM_CANCELED\"==n.bookingStatus)),l.zb(2),l.Kc(i+1),l.zb(2),l.Kc(n.hotelName),l.zb(2),l.Mc(\" \",n.company,\" \",n.role?\"[\"+n.role+\"]\":\"\",\" \"),l.zb(2),l.Lc(\" \",n.updatedBy?\"Canceled by : \"+n.updatedBy:\"\",\" \"),l.zb(2),l.Mc(\"\",n.customerName,\"[\",n.customerPhone,\"]\"),l.zb(2),l.Mc(\"\",n.roomNumber,\" [\",n.category,\"]\"),l.zb(1),l.mc(\"ngIf\",\"Ship\"===o.serviceType),l.zb(2),l.Lc(\" \",l.hc(16,23,n.date,\"d MMM,y\"),\" \"),l.zb(3),l.Kc(n.price),l.zb(1),l.mc(\"ngIf\",\"Hotel\"===o.serviceType),l.zb(1),l.mc(\"ngIf\",\"Hotel\"===o.serviceType),l.zb(2),l.Kc(n.paymentMethod),l.zb(2),l.Kc(n.commission),l.zb(1),l.mc(\"ngIf\",\"Hotel\"===o.serviceType),l.zb(1),l.mc(\"ngIf\",\"Hotel\"===o.serviceType),l.zb(1),l.mc(\"ngIf\",\"Hotel\"===o.serviceType),l.zb(1),l.mc(\"ngIf\",\"Hotel\"===o.serviceType),l.zb(1),l.mc(\"ngIf\",\"Ship\"===o.serviceType&&!o.authService.isAgent()),l.zb(1),l.mc(\"ngIf\",\"Ship\"===o.serviceType&&o.authService.isAgent())}}function A(e,t){1&e&&l.Mb(0,\"th\")}function N(e,t){if(1&e&&(l.Qb(0,\"th\",7),l.Jc(1),l.Pb()),2&e){var n=l.ec();l.zb(1),l.Kc(n.total.totalAdvance)}}function x(e,t){if(1&e&&(l.Qb(0,\"th\",7),l.Jc(1),l.Pb()),2&e){var n=l.ec();l.zb(1),l.Kc(n.total.totalDue)}}function I(e,t){1&e&&(l.Qb(0,\"th\"),l.Jc(1,\"Advance\"),l.Pb())}function H(e,t){1&e&&(l.Qb(0,\"th\"),l.Jc(1,\"Due\"),l.Pb())}function O(e,t){if(1&e&&(l.Qb(0,\"td\"),l.Jc(1),l.Pb()),2&e){var n=l.ec().$implicit,i=l.ec(2);l.zb(1),l.Kc(i.advanceMap.get(n.key))}}function B(e,t){if(1&e&&(l.Qb(0,\"td\"),l.Jc(1),l.Pb()),2&e){var n=l.ec().$implicit,i=l.ec(2);l.zb(1),l.Kc(i.dueMap.get(n.key))}}function E(e,t){if(1&e&&(l.Qb(0,\"tr\"),l.Qb(1,\"td\"),l.Jc(2),l.Pb(),l.Qb(3,\"td\"),l.Jc(4),l.Pb(),l.Qb(5,\"td\"),l.Jc(6),l.Pb(),l.Qb(7,\"td\"),l.Jc(8),l.Pb(),l.Hc(9,O,2,1,\"td\",2),l.Hc(10,B,2,1,\"td\",2),l.Pb()),2&e){var n=t.$implicit,i=l.ec(2);l.zb(2),l.Kc(n.key),l.zb(2),l.Kc(i.totalSeatMap.get(n.key)),l.zb(2),l.Kc(i.rentMap.get(n.key)),l.zb(2),l.Kc(i.totalCommissionMap.get(n.key)),l.zb(1),l.mc(\"ngIf\",\"Hotel\"===i.serviceType),l.zb(1),l.mc(\"ngIf\",\"Hotel\"===i.serviceType)}}function K(e,t){if(1&e&&(l.Qb(0,\"th\"),l.Jc(1),l.Pb()),2&e){var n=l.ec(2);l.zb(1),l.Kc(n.total.totalAdvance)}}function F(e,t){if(1&e&&(l.Qb(0,\"th\"),l.Jc(1),l.Pb()),2&e){var n=l.ec(2);l.zb(1),l.Kc(n.total.totalDue)}}function _(e,t){if(1&e&&(l.Qb(0,\"div\",15),l.Qb(1,\"div\",16),l.Qb(2,\"table\",1),l.Qb(3,\"tr\"),l.Qb(4,\"th\"),l.Jc(5,\"User Name\"),l.Pb(),l.Qb(6,\"th\"),l.Jc(7),l.Pb(),l.Qb(8,\"th\"),l.Jc(9,\"Rent\"),l.Pb(),l.Qb(10,\"th\"),l.Jc(11,\"Commission\"),l.Pb(),l.Hc(12,I,2,0,\"th\",2),l.Hc(13,H,2,0,\"th\",2),l.Pb(),l.Hc(14,E,11,6,\"tr\",17),l.fc(15,\"keyvalue\"),l.Qb(16,\"tr\"),l.Qb(17,\"th\"),l.Jc(18,\"Total\"),l.Pb(),l.Qb(19,\"th\"),l.Jc(20),l.Pb(),l.Qb(21,\"th\"),l.Jc(22),l.Pb(),l.Qb(23,\"th\"),l.Jc(24),l.Pb(),l.Hc(25,K,2,1,\"th\",2),l.Hc(26,F,2,1,\"th\",2),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&e){var n=l.ec();l.zb(7),l.Kc(\"Hotel\"===n.serviceType?\"No. of Room\":\"No. Of Seat\"),l.zb(5),l.mc(\"ngIf\",\"Hotel\"===n.serviceType),l.zb(1),l.mc(\"ngIf\",\"Hotel\"===n.serviceType),l.zb(1),l.mc(\"ngForOf\",l.gc(15,9,n.rentMap)),l.zb(6),l.Kc(n.total.totalSeatNumber),l.zb(2),l.Kc(n.total.totalrent),l.zb(2),l.Kc(n.total.totalCommission),l.zb(1),l.mc(\"ngIf\",\"Hotel\"===n.serviceType),l.zb(1),l.mc(\"ngIf\",\"Hotel\"===n.serviceType)}}var $=function(){function e(e){this.authService=e,this.rentMap=new Map,this.advanceMap=new Map,this.dueMap=new Map,this.totalSeatMap=new Map,this.totalCommissionMap=new Map}return e.prototype.ngOnChanges=function(e){e.bookingList&&null!=this.bookingList&&this.calculateReportList()},e.prototype.calculateReportList=function(){var e=this;this.total={totalrent:0,totalAdvance:0,totalDue:0,totalSeatNumber:0,totalCommission:0},this.rentMap=new Map,this.advanceMap=new Map,this.dueMap=new Map,this.totalSeatMap=new Map,this.totalCommissionMap=new Map,this.bookingList.forEach(function(t){e.total.totalrent+=t.price,e.total.totalAdvance+=t.advance,e.total.totalDue+=t.due,e.total.totalCommission+=t.commission,e.total.totalSeatNumber+=t.numberOfSeat,t.company&&(e.rentMap.set(t.company,e.rentMap.get(t.company)?e.rentMap.get(t.company)+t.price:t.price),e.advanceMap.set(t.company,e.advanceMap.get(t.company)?e.advanceMap.get(t.company)+t.advance:t.advance),e.dueMap.set(t.company,e.dueMap.get(t.company)?e.dueMap.get(t.company)+t.due:t.due),e.totalSeatMap.set(t.company,e.totalSeatMap.get(t.company)?e.totalSeatMap.get(t.company)+t.numberOfSeat:t.numberOfSeat),e.totalCommissionMap.set(t.company,e.totalCommissionMap.get(t.company)?e.totalCommissionMap.get(t.company)+t.commission:t.commission))})},e.\\u0275fac=function(t){return new(t||e)(l.Lb(s.a))},e.\\u0275cmp=l.Fb({type:e,selectors:[[\"booking-report-list\"]],inputs:{title:\"title\",bookingList:\"bookingList\",serviceType:\"serviceType\"},features:[l.xb],decls:51,vars:18,consts:[[1,\"text-center\"],[1,\"table\",\"table-bordered\",\"table-hover\",\"table-responsive-sm\"],[4,\"ngIf\"],[1,\"text-right\"],[\"class\",\"text-right\",4,\"ngIf\"],[3,\"ngClass\",4,\"ngFor\",\"ngForOf\"],[\"colspan\",\"3\"],[2,\"text-align\",\"center\"],[\"style\",\"text-align: center;\",4,\"ngIf\"],[\"colspan\",\"4\"],[\"class\",\"row\",4,\"ngIf\"],[3,\"ngClass\"],[\"class\",\"text-white\",3,\"ngClass\",4,\"ngIf\"],[1,\"text-white\",3,\"ngClass\"],[\"target\",\"_blank\",3,\"routerLink\"],[1,\"row\"],[1,\"col-auto\"],[4,\"ngFor\",\"ngForOf\"]],template:function(e,t){1&e&&(l.Qb(0,\"h3\",0),l.Jc(1),l.Pb(),l.Qb(2,\"table\",1),l.Qb(3,\"thead\"),l.Qb(4,\"tr\"),l.Qb(5,\"th\"),l.Jc(6,\"#\"),l.Pb(),l.Qb(7,\"th\"),l.Jc(8),l.Pb(),l.Qb(9,\"th\"),l.Jc(10,\"Sold by\"),l.Pb(),l.Qb(11,\"th\"),l.Jc(12,\"Customer\"),l.Pb(),l.Qb(13,\"th\"),l.Jc(14),l.Pb(),l.Hc(15,g,2,0,\"th\",2),l.Qb(16,\"th\",3),l.Jc(17),l.Pb(),l.Qb(18,\"th\",3),l.Jc(19,\"Price\"),l.Pb(),l.Hc(20,v,2,0,\"th\",4),l.Hc(21,f,2,0,\"th\",4),l.Qb(22,\"th\",3),l.Jc(23,\"Payment Method\"),l.Pb(),l.Qb(24,\"th\",3),l.Jc(25,\"Commission\"),l.Pb(),l.Hc(26,m,2,0,\"th\",2),l.Hc(27,y,2,0,\"th\",4),l.Hc(28,P,2,0,\"th\",2),l.Qb(29,\"th\"),l.Jc(30,\"Id\"),l.Pb(),l.Pb(),l.Pb(),l.Qb(31,\"tbody\"),l.Hc(32,C,31,29,\"tr\",5),l.Pb(),l.Qb(33,\"tfoot\"),l.Qb(34,\"tr\"),l.Mb(35,\"td\",6),l.Qb(36,\"th\"),l.Jc(37,\"Total\"),l.Pb(),l.Qb(38,\"th\",7),l.Jc(39),l.Pb(),l.Mb(40,\"th\"),l.Hc(41,A,1,0,\"th\",2),l.Qb(42,\"th\",7),l.Jc(43),l.Pb(),l.Hc(44,N,2,1,\"th\",8),l.Hc(45,x,2,1,\"th\",8),l.Mb(46,\"th\"),l.Qb(47,\"th\",7),l.Jc(48),l.Pb(),l.Mb(49,\"th\",9),l.Pb(),l.Pb(),l.Pb(),l.Hc(50,_,27,11,\"div\",10)),2&e&&(l.zb(1),l.Lc(\" \",t.title,\"\\n\"),l.zb(7),l.Kc(\"Ship\"===t.serviceType?\"Ship Name\":\"Hotel Name\"),l.zb(6),l.Kc(\"Ship\"===t.serviceType?\"Seat No.\":\"Room No.\"),l.zb(1),l.mc(\"ngIf\",\"Ship\"===t.serviceType),l.zb(2),l.Kc(\"Ship\"===t.serviceType?\"Journey Date\":\"Checkin Date\"),l.zb(3),l.mc(\"ngIf\",\"Hotel\"===t.serviceType),l.zb(1),l.mc(\"ngIf\",\"Hotel\"===t.serviceType),l.zb(5),l.mc(\"ngIf\",\"Hotel\"===t.serviceType),l.zb(1),l.mc(\"ngIf\",\"Hotel\"===t.serviceType),l.zb(1),l.mc(\"ngIf\",\"Hotel\"===t.serviceType),l.zb(4),l.mc(\"ngForOf\",t.bookingList),l.zb(7),l.Kc(t.total.totalSeatNumber),l.zb(2),l.mc(\"ngIf\",\"Ship\"===t.serviceType),l.zb(2),l.Kc(t.total.totalrent),l.zb(1),l.mc(\"ngIf\",\"Hotel\"===t.serviceType),l.zb(1),l.mc(\"ngIf\",\"Hotel\"===t.serviceType),l.zb(3),l.Kc(t.total.totalCommission),l.zb(2),l.mc(\"ngIf\",!t.authService.hasRole(\"SERVICE_AGENT_SHIP\")&&!t.authService.hasRole(\"OFFICE_AGENT\")))},directives:[h.p,h.o,h.n,i.c],pipes:[h.f,h.j],styles:[\".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:3px;font-size:14px}\"]}),e}();function G(e,t){if(1&e&&(l.Qb(0,\"option\",36),l.Jc(1),l.Pb()),2&e){var n=l.ec();l.zb(1),l.Lc(\"\",n.checkinText,\" Date\")}}function U(e,t){1&e&&(l.Qb(0,\"div\",6),l.Qb(1,\"div\",7),l.Jc(2,\"Role\"),l.Pb(),l.Pb())}function q(e,t){if(1&e&&(l.Qb(0,\"option\",37),l.Jc(1),l.Pb()),2&e){var n=t.$implicit;l.mc(\"value\",n.name),l.zb(1),l.Lc(\" \",n.name,\" \")}}function j(e,t){1&e&&(l.Qb(0,\"option\",38),l.Jc(1,\" Reserved \"),l.Pb())}function Y(e,t){if(1&e&&(l.Qb(0,\"div\"),l.Mb(1,\"loading\",39),l.Pb()),2&e){var n=l.ec();l.zb(1),l.mc(\"message\",n.message)}}function V(e,t){if(1&e&&l.Mb(0,\"booking-report-list\",41),2&e){var n=l.ec(2);l.mc(\"title\",n.reportHead)(\"bookingList\",n.serviceAdminBookingReportList)(\"serviceType\",n.selectedList[0].id)}}function X(e,t){if(1&e&&(l.Ob(0),l.Hc(1,V,1,3,\"booking-report-list\",40),l.Nb()),2&e){var n=l.ec();l.zb(1),l.mc(\"ngIf\",null!=n.selectedList&&n.selectedList.length>0)}}function Z(e,t){1&e&&(l.Qb(0,\"h4\",42),l.Mb(1,\"i\",43),l.Jc(2,\" No record yet \"),l.Pb())}var W=function(){function e(e,t,n,i){this.reportService=e,this.utilService=t,this.authService=n,this.restDataService=i,this.savedList=[],this.serviceAdminBookingReportList=[],this.reportType=\"Booking\",this.checkinText=\"Checkin\",this.allText=\"All\",this.filterRole=\"All\",this.filterServiceName=\"All\",this.filterBookingStatus=\"ROOM_SOLD\",this.reportHead=\"\",this.loading=!1,this.dropdownData=[],this.selectedList=[],this.serviceTypes=[],this.dropdownServiceNameData=[],this.selectedServiceNameList=[]}return e.prototype.ngOnInit=function(){this.dropdownSettings={singleSelection:!0,idField:\"id\",textField:\"name\",selectAllText:\"Select All\",unSelectAllText:\"UnSelect All\",itemsShowLimit:3,allowSearchFilter:!0},this.setDate(),this.getServiceTypeList(),this.loadRoleDropdown()},e.prototype.getServiceTypeList=function(){var e=this;try{this.restDataService.sendAuthenticateGetRequestObserver(\"api/v1/admin/reports/service-type\",\"\").subscribe(function(t){e.responseModel=t,e.serviceTypes=e.responseModel.content;for(var n=[],i=[],o=0;o<e.serviceTypes.length;o++)0===o&&i.push({id:e.serviceTypes[o],name:e.serviceTypes[o]}),n.push({id:e.serviceTypes[o],name:e.serviceTypes[o]});e.dropdownData=n,e.selectedList=i,e.onLoad(0)})}catch(t){console.log(t)}},e.prototype.setDate=function(){var e=new Date;this.date={year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}},e.prototype.getDate=function(){return this.date.day+\"-\"+this.date.month+\"-\"+this.date.year},e.prototype.onLoad=function(e){var t=null;if(null!==this.selectedList&&this.selectedList.length>0&&(t=this.selectedList[0].id),null!==t){var n=new Date(this.date.year,this.date.month-1,this.date.day+e);switch(this.date=this.utilService.convertJsDateToNgbDate(n),this.reportType){case\"Reservation\":this.getAdminBookingReport(this.date,t,0,0);break;case\"Booking\":this.getAdminBookingReport(this.date,t,1,0);break;case\"Checkin\":this.getAdminBookingReport(this.date,t,0,1)}}},e.prototype.onTypeChange=function(e){this.reportType=e,this.onLoad(0)},e.prototype.onPrint=function(){window.print()},e.prototype.onFilterChange=function(){var e=this;if(this.selectedServiceNameList.length>0){switch(this.filterRole){case\"All\":this.serviceAdminBookingReportList=this.savedList;break;default:this.serviceAdminBookingReportList=this.savedList.filter(function(t){return t.role===e.filterRole})}var t=this.selectedServiceNameList[0].name;if(this.filterBookingStatus&&(this.serviceAdminBookingReportList=this.serviceAdminBookingReportList.filter(function(t){return t.bookingStatus===e.filterBookingStatus})),t)switch(t){case\"All\":break;default:this.serviceAdminBookingReportList=this.serviceAdminBookingReportList.filter(function(e){return e.hotelName===t})}}},e.prototype.getAdminBookingReport=function(e,t,n,i){return o=this,void 0,r=function(){var o=this;return function(e,t){var n,i,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(n)throw new TypeError(\"Generator is already executing.\");for(;r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(a){c=[6,a],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}(this,function(c){switch(c.label){case 0:return this.loading=!0,[4,this.reportService.getAdminBookingReport(this.utilService.makeDateString(e),t,n,i).subscribe(function(e){o.savedList=e,o.savedList.sort(o.utilService.dynamicSortObject(\"date\")),o.savedList.sort(o.utilService.dynamicSortObject(\"roomNumber\")),o.onFilterChange(),o.reportHead=\"Booking report for date of : \"+o.getDate(),o.loading=!1})];case 1:return c.sent(),[2]}})},new((c=void 0)||(c=Promise))(function(e,t){function n(e){try{a(r.next(e))}catch(n){t(n)}}function i(e){try{a(r.throw(e))}catch(n){t(n)}}function a(t){var o;t.done?e(t.value):(o=t.value,o instanceof c?o:new c(function(e){e(o)})).then(n,i)}a((r=r.apply(o,[])).next())});var o,c,r},e.prototype.loadServiceNameDropdown=function(e){var t=this;if(null!=e&&e.length>0)try{\"Ship\"===e[0].id?(this.checkinText=\"Journey\",this.allText=\"\"):\"Hotel\"===e[0].id&&(this.checkinText=\"Checkin\",this.allText=\"All\"),this.selectedList=e,this.onLoad(0),this.restDataService.sendAuthenticateGetRequestObserver(\"api/v1/admin/reports/service-dropdown/\"+e[0].id,\"\").subscribe(function(e){t.responseModel=e,t.serviceNames=t.responseModel.content;var n=[];n.push({id:\"\",name:\"All\"});for(var i=0;i<t.serviceNames.length;i++)n.push({id:t.serviceNames[i].id,name:t.serviceNames[i].serviceName});t.dropdownServiceNameData=n,t.selectedServiceNameList=[{id:\"\",name:\"All\"}]})}catch(n){console.log(n)}},e.prototype.loadRoleDropdown=function(){var e=this;try{this.restDataService.sendAuthenticateGetRequestObserver(\"api/v1/admin/reports/role-dropdown\",\"\").subscribe(function(t){e.responseModel=t,e.roles=e.responseModel.content})}catch(t){console.log(t)}},e.\\u0275fac=function(t){return new(t||e)(l.Lb(c.a),l.Lb(r.a),l.Lb(s.a),l.Lb(a.a))},e.\\u0275cmp=l.Fb({type:e,selectors:[[\"app-booking-report\"]],decls:58,vars:21,consts:[[1,\"container-fluid\",\"d-print-none\"],[1,\"row\",\"px-3\",\"details-title\",\"text-left\"],[1,\"container-fluid\"],[1,\"row\",\"d-print-none\"],[1,\"col-sm-2\",\"p-0\",2,\"margin-left\",\"2px!important\"],[1,\"input-group\",\"mb-2\"],[1,\"input-group-prepend\"],[1,\"input-group-text\"],[\"placeholder\",\"yyyy-mm-dd\",\"name\",\"dp\",\"id\",\"reportDate\",\"ngbDatepicker\",\"\",1,\"form-control\",3,\"ngModel\",\"ngModelChange\",\"dateSelect\",\"click\"],[\"d\",\"ngbDatepicker\"],[1,\"input-group-append\"],[\"type\",\"button\",1,\"btn\",\"btn-outline-secondary\",3,\"click\"],[1,\"fa\",\"fa-calendar\"],[\"id\",\"serviceType\",\"name\",\"serviceType\",2,\"width\",\"100%\",3,\"placeholder\",\"settings\",\"data\",\"ngModel\",\"ngModelChange\"],[\"id\",\"serviceName\",\"name\",\"serviceName\",2,\"width\",\"100%\",3,\"placeholder\",\"settings\",\"data\",\"ngModel\",\"ngModelChange\"],[\"id\",\"reportType\",1,\"form-control\",3,\"ngModel\",\"ngModelChange\",\"change\"],[\"value\",\"Booking\"],[\"value\",\"Checkin\",4,\"ngIf\"],[\"value\",\"Reservation\"],[1,\"col-sm-3\",\"p-0\",2,\"margin-left\",\"2px!important\"],[\"class\",\"input-group-prepend\",4,\"ngIf\"],[\"id\",\"role\",1,\"form-control\",3,\"ngModel\",\"ngModelChange\",\"change\"],[\"value\",\"All\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"id\",\"status\",1,\"form-control\",3,\"ngModel\",\"ngModelChange\",\"change\"],[\"value\",\"ROOM_SOLD\"],[\"value\",\"ROOM_RESERVED\",4,\"ngIf\"],[\"value\",\"ROOM_CANCELED\"],[1,\"col-auto\"],[1,\"btn\",\"btn-sm\",\"btn-primary\",3,\"click\"],[1,\"fa\",\"fa-print\"],[1,\"row\"],[1,\"col-12\"],[4,\"ngIf\"],[4,\"ngIf\",\"ngIfElse\"],[\"noRecord\",\"\"],[\"value\",\"Checkin\"],[3,\"value\"],[\"value\",\"ROOM_RESERVED\"],[3,\"message\"],[3,\"title\",\"bookingList\",\"serviceType\",4,\"ngIf\"],[3,\"title\",\"bookingList\",\"serviceType\"],[1,\"text-center\"],[1,\"fa\",\"fa-frown-o\"]],template:function(e,t){if(1&e){var n=l.Rb();l.Qb(0,\"div\",0),l.Qb(1,\"span\",1),l.Jc(2,\"Booking report\"),l.Pb(),l.Pb(),l.Qb(3,\"div\",2),l.Qb(4,\"div\",3),l.Qb(5,\"div\",4),l.Qb(6,\"div\",5),l.Qb(7,\"div\",6),l.Qb(8,\"div\",7),l.Jc(9,\"Date\"),l.Pb(),l.Pb(),l.Qb(10,\"input\",8,9),l.bc(\"ngModelChange\",function(e){return t.date=e})(\"dateSelect\",function(){return t.onLoad(0)})(\"click\",function(){return l.yc(n),l.wc(11).toggle()}),l.Pb(),l.Qb(12,\"div\",10),l.Qb(13,\"button\",11),l.bc(\"click\",function(){return l.yc(n),l.wc(11).toggle()}),l.Mb(14,\"i\",12),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(15,\"div\",4),l.Qb(16,\"div\",5),l.Qb(17,\"ng-multiselect-dropdown\",13),l.bc(\"ngModelChange\",function(e){return t.loadServiceNameDropdown(e)})(\"ngModelChange\",function(e){return t.selectedList=e}),l.Pb(),l.Pb(),l.Pb(),l.Qb(18,\"div\",4),l.Qb(19,\"div\",5),l.Qb(20,\"ng-multiselect-dropdown\",14),l.bc(\"ngModelChange\",function(e){return t.selectedServiceNameList=e})(\"ngModelChange\",function(){return t.onFilterChange()}),l.Pb(),l.Pb(),l.Pb(),l.Qb(21,\"div\",4),l.Qb(22,\"div\",5),l.Qb(23,\"div\",6),l.Qb(24,\"div\",7),l.Jc(25,\"Type\"),l.Pb(),l.Pb(),l.Qb(26,\"select\",15),l.bc(\"ngModelChange\",function(e){return t.reportType=e})(\"change\",function(e){return t.onTypeChange(e.target.value)}),l.Qb(27,\"option\",16),l.Jc(28,\" Sale date \"),l.Pb(),l.Hc(29,G,2,1,\"option\",17),l.Qb(30,\"option\",18),l.Jc(31),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(32,\"div\",19),l.Qb(33,\"div\",5),l.Hc(34,U,3,0,\"div\",20),l.Qb(35,\"select\",21),l.bc(\"ngModelChange\",function(e){return t.filterRole=e})(\"change\",function(){return t.onFilterChange()}),l.Qb(36,\"option\",22),l.Jc(37,\"All\"),l.Pb(),l.Hc(38,q,2,2,\"option\",23),l.Pb(),l.Qb(39,\"div\",6),l.Qb(40,\"div\",7),l.Jc(41,\"Status\"),l.Pb(),l.Pb(),l.Qb(42,\"select\",24),l.bc(\"ngModelChange\",function(e){return t.filterBookingStatus=e})(\"change\",function(){return t.onFilterChange()}),l.Qb(43,\"option\",25),l.Jc(44,\" Sold \"),l.Pb(),l.Hc(45,j,2,0,\"option\",26),l.Qb(46,\"option\",27),l.Jc(47,\" Canceled \"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(48,\"div\",28),l.Qb(49,\"button\",29),l.bc(\"click\",function(){return t.onPrint()}),l.Mb(50,\"i\",30),l.Jc(51,\" Print \"),l.Pb(),l.Pb(),l.Pb(),l.Qb(52,\"div\",31),l.Qb(53,\"div\",32),l.Hc(54,Y,2,1,\"div\",33),l.Hc(55,X,2,1,\"ng-container\",34),l.Hc(56,Z,3,0,\"ng-template\",null,35,l.Ic),l.Pb(),l.Pb(),l.Pb()}if(2&e){var i=l.wc(57);l.zb(10),l.mc(\"ngModel\",t.date),l.zb(7),l.mc(\"placeholder\",\"Select Service Type\")(\"settings\",t.dropdownSettings)(\"data\",t.dropdownData)(\"ngModel\",t.selectedList),l.zb(3),l.mc(\"placeholder\",\"Select Service Name\")(\"settings\",t.dropdownSettings)(\"data\",t.dropdownServiceNameData)(\"ngModel\",t.selectedServiceNameList),l.zb(6),l.mc(\"ngModel\",t.reportType),l.zb(3),l.mc(\"ngIf\",null!=t.selectedList&&t.selectedList.length>0&&\"Hotel\"===t.selectedList[0].id),l.zb(2),l.Mc(\" \",t.checkinText,\" Date \",t.allText,\"\"),l.zb(3),l.mc(\"ngIf\",!(t.authService.hasRole(\"SERVICE_AGENT_SHIP\")||t.authService.hasRole(\"B2B_AGENT\")||t.authService.hasRole(\"SERVICE_AGENT_HOTEL\")||t.authService.hasRole(\"OFFICE_AGENT\"))),l.zb(1),l.mc(\"ngModel\",t.filterRole),l.zb(3),l.mc(\"ngForOf\",t.roles),l.zb(4),l.mc(\"ngModel\",t.filterBookingStatus),l.zb(3),l.mc(\"ngIf\",!(t.authService.hasRole(\"SERVICE_AGENT_SHIP\")||t.authService.hasRole(\"B2B_AGENT\")||t.authService.hasRole(\"B2B_COUNTER\")||t.authService.hasRole(\"SERVICE_AGENT_HOTEL\")||t.authService.hasRole(\"OFFICE_AGENT\"))),l.zb(9),l.mc(\"ngIf\",t.loading),l.zb(1),l.mc(\"ngIf\",t.serviceAdminBookingReportList.length>0&&!t.loading)(\"ngIfElse\",i)}},directives:[b.j,d.b,d.n,d.q,p.a,d.v,d.r,d.x,h.p,h.o,u.a,$],styles:[\"\"]}),e}(),ee=n(\"EApP\"),te=n(\"53Co\");function ne(e,t){1&e&&(l.Qb(0,\"div\",22),l.Mb(1,\"loading\"),l.Pb())}function ie(e,t){1&e&&(l.Qb(0,\"th\",25),l.Jc(1,\"Advance\"),l.Pb())}function oe(e,t){1&e&&(l.Qb(0,\"th\",25),l.Jc(1,\"Due\"),l.Pb())}function ce(e,t){if(1&e&&(l.Qb(0,\"td\",25),l.Jc(1),l.Pb()),2&e){var n=l.ec().$implicit;l.zb(1),l.Kc(n.totalAdvance)}}function re(e,t){if(1&e&&(l.Qb(0,\"td\",25),l.Jc(1),l.Pb()),2&e){var n=l.ec().$implicit;l.zb(1),l.Kc(n.totalDue)}}function ae(e,t){if(1&e&&(l.Qb(0,\"tr\"),l.Qb(1,\"td\"),l.Jc(2),l.Pb(),l.Qb(3,\"td\"),l.Jc(4),l.Pb(),l.Qb(5,\"td\"),l.Jc(6),l.Pb(),l.Qb(7,\"td\",25),l.Jc(8),l.Pb(),l.Qb(9,\"td\",25),l.Jc(10),l.Pb(),l.Hc(11,ce,2,1,\"td\",26),l.Hc(12,re,2,1,\"td\",26),l.Pb()),2&e){var n=t.$implicit,i=t.index,o=l.ec(2);l.zb(2),l.Kc(i+1),l.zb(2),l.Kc(null==n?null:n.date),l.zb(2),l.Lc(\" \",n.hotelName,\" \"),l.zb(2),l.Kc(n.totalNumberOfRooms),l.zb(2),l.Kc(n.totalRent),l.zb(1),l.mc(\"ngIf\",\"Journey\"!==o.checkinText),l.zb(1),l.mc(\"ngIf\",\"Journey\"!==o.checkinText)}}function se(e,t){if(1&e&&(l.Qb(0,\"td\",25),l.Jc(1),l.Pb()),2&e){var n=l.ec(2);l.zb(1),l.Kc(n.getSum(\"totalAdvance\"))}}function le(e,t){if(1&e&&(l.Qb(0,\"td\",25),l.Jc(1),l.Pb()),2&e){var n=l.ec(2);l.zb(1),l.Kc(n.getSum(\"totalDue\"))}}function be(e,t){if(1&e&&(l.Qb(0,\"div\",23),l.Qb(1,\"table\",24),l.Qb(2,\"thead\"),l.Qb(3,\"tr\"),l.Qb(4,\"th\"),l.Jc(5,\"Sl.\"),l.Pb(),l.Qb(6,\"th\"),l.Jc(7,\"Date\"),l.Pb(),l.Qb(8,\"th\"),l.Jc(9),l.Pb(),l.Qb(10,\"th\",25),l.Jc(11),l.Pb(),l.Qb(12,\"th\",25),l.Jc(13,\"Rent\"),l.Pb(),l.Hc(14,ie,2,0,\"th\",26),l.Hc(15,oe,2,0,\"th\",26),l.Pb(),l.Pb(),l.Qb(16,\"tbody\"),l.Hc(17,ae,13,7,\"tr\",27),l.Qb(18,\"tr\"),l.Mb(19,\"td\"),l.Mb(20,\"td\"),l.Qb(21,\"td\",25),l.Jc(22,\"Total\"),l.Pb(),l.Qb(23,\"td\",25),l.Jc(24),l.Pb(),l.Qb(25,\"td\",25),l.Jc(26),l.Pb(),l.Hc(27,se,2,1,\"td\",26),l.Hc(28,le,2,1,\"td\",26),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&e){var n=l.ec();l.zb(9),l.Kc(\"Journey\"==n.checkinText?\"Ship Name\":\"Hotel Name\"),l.zb(2),l.Kc(\"Journey\"==n.checkinText?\"Number of Seats\":\"Number of Rooms\"),l.zb(3),l.mc(\"ngIf\",\"Journey\"!==n.checkinText),l.zb(1),l.mc(\"ngIf\",\"Journey\"!==n.checkinText),l.zb(2),l.mc(\"ngForOf\",n.serviceAdminBookingReportList),l.zb(7),l.Kc(n.getSum(\"totalNumberOfRooms\")),l.zb(2),l.Kc(n.getSum(\"totalRent\")),l.zb(1),l.mc(\"ngIf\",\"Journey\"!==n.checkinText),l.zb(1),l.mc(\"ngIf\",\"Journey\"!==n.checkinText)}}var de=function(){function e(e,t,n,i){this.reportService=e,this.utilService=t,this.toastrService=n,this.restDataService=i,this.reportList=[],this.serviceAdminBookingReportList=[],this.daterange={},this.mode=\"Sell\",this.loading=!1,this.dropdownData=[],this.selectedList=[],this.checkinText=\"Checkin\",this.dropdownServiceNameData=[],this.selectedServiceNameList=[],this.serviceTypes=[],this.filterServiceName=\"All\"}return e.prototype.ngOnInit=function(){this.dropdownSettings={singleSelection:!0,idField:\"id\",textField:\"name\",selectAllText:\"Select All\",unSelectAllText:\"UnSelect All\",itemsShowLimit:3,allowSearchFilter:!0},this.setDateRanges(),this.getServiceTypeList()},e.prototype.getServiceTypeList=function(){var e=this;try{this.restDataService.sendAuthenticateGetRequestObserver(\"api/v1/admin/reports/service-type\",\"\").subscribe(function(t){e.responseModel=t,e.serviceTypes=e.responseModel.content;for(var n=[],i=[],o=0;o<e.serviceTypes.length;o++)0===o&&i.push({id:e.serviceTypes[o],name:e.serviceTypes[o]}),n.push({id:e.serviceTypes[o],name:e.serviceTypes[o]});e.dropdownData=n,e.selectedList=i})}catch(t){console.log(t)}},e.prototype.loadServiceNameDropdown=function(e){var t=this;if(null!=e&&e.length>0)try{\"Ship\"===e[0].id?this.checkinText=\"Journey\":\"Hotel\"===e[0].id&&(this.checkinText=\"Checkin\"),this.selectedList=e,this.restDataService.sendAuthenticateGetRequestObserver(\"api/v1/admin/reports/service-dropdown/\"+e[0].id,\"\").subscribe(function(e){t.responseModel=e,t.serviceNames=t.responseModel.content;for(var n=[],i=0;i<t.serviceNames.length;i++)n.push({id:t.serviceNames[i].id,name:t.serviceNames[i].serviceName});t.dropdownServiceNameData=n})}catch(n){console.log(n)}},e.prototype.setDateRanges=function(){this.daterange.checkoutDate=new Date,this.daterange.checkinDate=new Date,this.daterange.checkinDate.setDate(this.daterange.checkinDate.getDate()-10),(new Date).setDate(this.daterange.checkinDate.getDate()-90),(new Date).setDate(this.daterange.checkinDate.getDate()+2),this.options={autoApply:!0,locale:{format:\"DD MMM,YY\"},startDate:this.daterange.checkinDate,endDate:this.daterange.checkoutDate,alwaysShowCalendars:!1}},e.prototype.selectedDate=function(e){this.daterange.checkinDate=e.start._d,this.daterange.checkoutDate=e.end._d,this.daterange.label=e.label},e.prototype.filterReportDataByServiceName=function(e){if(null!=e&&e.length>0)switch(this.filterServiceName=e[0].name,e[0].name){case\"All\":this.serviceAdminBookingReportList=this.reportList;break;default:this.serviceAdminBookingReportList=this.reportList.filter(function(t){return t.hotelName===e[0].name})}},e.prototype.getSum=function(e){for(var t=0,n=0;n<this.serviceAdminBookingReportList.length;n++)t+=this.serviceAdminBookingReportList[n][e];return t},e.prototype.getAdminReservationReportRange=function(e,t,n,i,o){var c=this;this.loading=!0,this.serviceAdminBookingReportList=[],this.reportList=[],this.reportService.getAdminReservationReportRange(this.utilService.getDateString(e),this.utilService.getDateString(t),n,i,o).subscribe(function(e){c.reportList=e,c.serviceAdminBookingReportList=e,c.loading=!1})},e.prototype.onSearch=function(){var e=null,t=null;null!==this.selectedList&&this.selectedList.length>0&&(e=this.selectedList[0].id),null!==this.selectedServiceNameList&&this.selectedServiceNameList.length>0&&(t=this.selectedServiceNameList[0].id),null!==e?null!==t?this.getAdminReservationReportRange(this.daterange.checkinDate,this.daterange.checkoutDate,e,this.mode,t):this.toastrService.error(\"Error\",\"Please service name first\"):this.toastrService.error(\"Error\",\"Please service type first\")},e.\\u0275fac=function(t){return new(t||e)(l.Lb(c.a),l.Lb(r.a),l.Lb(ee.b),l.Lb(a.a))},e.\\u0275cmp=l.Fb({type:e,selectors:[[\"app-booking-range-report\"]],decls:33,vars:13,consts:[[1,\"container-fluid\"],[1,\"row\",\"px-3\",\"details-title\",\"text-left\"],[1,\"row\"],[1,\"col-auto\",\"mb-2\"],[1,\"input-group\"],[1,\"input-group-prepend\"],[1,\"input-group-text\"],[1,\"fa\",\"fa-calendar\"],[\"type\",\"text\",\"name\",\"daterangeInput\",\"daterangepicker\",\"\",1,\"form-control\",3,\"options\",\"selected\"],[1,\"col-sm-2\",\"p-0\",2,\"margin-left\",\"5px!important\"],[1,\"input-group\",\"mb-2\"],[\"id\",\"serviceType\",\"name\",\"serviceType\",2,\"width\",\"100%\",3,\"placeholder\",\"settings\",\"data\",\"ngModel\",\"ngModelChange\"],[\"id\",\"serviceName\",\"name\",\"serviceName\",2,\"width\",\"100%\",3,\"placeholder\",\"settings\",\"data\",\"ngModel\",\"ngModelChange\"],[1,\"col-auto\"],[\"id\",\"reportType\",1,\"form-control\",3,\"ngModel\",\"ngModelChange\"],[\"value\",\"Sell\"],[\"value\",\"Reserve\"],[1,\"d-flex\",\"align-items-center\"],[1,\"btn\",\"btn-sm\",\"btn-success\",2,\"margin-bottom\",\"100px\",\"margin-left\",\"20px\",3,\"click\"],[1,\"row\",\"mb-5\"],[\"class\",\"col text-center\",4,\"ngIf\"],[\"class\",\"col\",4,\"ngIf\"],[1,\"col\",\"text-center\"],[1,\"col\"],[1,\"table\",\"table-bordered\",\"table-hover\",\"table-responsive-sm\"],[1,\"text-right\"],[\"class\",\"text-right\",4,\"ngIf\"],[4,\"ngFor\",\"ngForOf\"]],template:function(e,t){1&e&&(l.Qb(0,\"div\",0),l.Qb(1,\"span\",1),l.Jc(2,\"Booking range report\"),l.Pb(),l.Pb(),l.Qb(3,\"div\",0),l.Qb(4,\"div\",2),l.Qb(5,\"div\",3),l.Qb(6,\"div\",4),l.Qb(7,\"div\",5),l.Qb(8,\"div\",6),l.Mb(9,\"i\",7),l.Pb(),l.Pb(),l.Qb(10,\"input\",8),l.bc(\"selected\",function(e){return t.selectedDate(e)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(11,\"div\",9),l.Qb(12,\"div\",10),l.Qb(13,\"ng-multiselect-dropdown\",11),l.bc(\"ngModelChange\",function(e){return t.loadServiceNameDropdown(e)})(\"ngModelChange\",function(e){return t.selectedList=e}),l.Pb(),l.Pb(),l.Pb(),l.Qb(14,\"div\",9),l.Qb(15,\"div\",10),l.Qb(16,\"ng-multiselect-dropdown\",12),l.bc(\"ngModelChange\",function(e){return t.selectedServiceNameList=e})(\"ngModelChange\",function(e){return t.filterReportDataByServiceName(e)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(17,\"div\",13),l.Qb(18,\"div\",10),l.Qb(19,\"div\",5),l.Qb(20,\"div\",6),l.Jc(21,\"Type\"),l.Pb(),l.Pb(),l.Qb(22,\"select\",14),l.bc(\"ngModelChange\",function(e){return t.mode=e}),l.Qb(23,\"option\",15),l.Jc(24,\"sells date \"),l.Pb(),l.Qb(25,\"option\",16),l.Jc(26),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(27,\"div\",17),l.Qb(28,\"button\",18),l.bc(\"click\",function(){return t.onSearch()}),l.Jc(29,\"Search\"),l.Pb(),l.Pb(),l.Pb(),l.Qb(30,\"div\",19),l.Hc(31,ne,2,0,\"div\",20),l.Hc(32,be,29,9,\"div\",21),l.Pb(),l.Pb()),2&e&&(l.zb(10),l.mc(\"options\",t.options),l.zb(3),l.mc(\"placeholder\",\"Select Service Type\")(\"settings\",t.dropdownSettings)(\"data\",t.dropdownData)(\"ngModel\",t.selectedList),l.zb(3),l.mc(\"placeholder\",\"Select Service Name\")(\"settings\",t.dropdownSettings)(\"data\",t.dropdownServiceNameData)(\"ngModel\",t.selectedServiceNameList),l.zb(6),l.mc(\"ngModel\",t.mode),l.zb(4),l.Lc(\"\",t.checkinText,\" date \"),l.zb(5),l.mc(\"ngIf\",t.loading),l.zb(1),l.mc(\"ngIf\",!t.loading))},directives:[te.b,p.a,d.n,d.q,d.v,d.r,d.x,h.p,u.a,h.o],styles:[\"td[_ngcontent-%COMP%]{padding:3px;font-size:14px}\"]}),e}(),pe=n(\"0sMf\"),he=n(\"YBP9\"),ue=function(e,t,n,i){return new(n||(n=Promise))(function(o,c){function r(e){try{s(i.next(e))}catch(t){c(t)}}function a(e){try{s(i.throw(e))}catch(t){c(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,a)}s((i=i.apply(e,t||[])).next())})},ge=function(e,t){var n,i,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(n)throw new TypeError(\"Generator is already executing.\");for(;r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(a){c=[6,a],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};function ve(e,t){1&e&&l.Mb(0,\"loading\")}function fe(e,t){if(1&e){var n=l.Rb();l.Qb(0,\"tr\"),l.Qb(1,\"td\"),l.Jc(2),l.Pb(),l.Qb(3,\"td\"),l.Jc(4),l.fc(5,\"date\"),l.Pb(),l.Qb(6,\"td\"),l.Jc(7),l.Pb(),l.Qb(8,\"td\",19),l.Jc(9),l.Pb(),l.Qb(10,\"td\",19),l.Jc(11),l.Pb(),l.Qb(12,\"td\",19),l.Jc(13),l.Pb(),l.Qb(14,\"td\",19),l.Qb(15,\"a\",22),l.bc(\"click\",function(){l.yc(n);var e=t.$implicit;return l.ec(2).onBookingDetails(e.bookingId)}),l.Jc(16),l.Pb(),l.Pb(),l.Pb()}if(2&e){var i=t.$implicit,o=t.index;l.zb(2),l.Kc(o+1),l.zb(2),l.Kc(l.gc(5,8,i.date)),l.zb(3),l.Mc(\" \",i.company,\" \",i.role?\"[\"+i.role+\"]\":\"\",\" \"),l.zb(2),l.Kc(i.hotelswaveCommission),l.zb(2),l.Kc(i.hotelswaveAgentCommission),l.zb(2),l.Kc(i.price),l.zb(3),l.Kc(i.bookingId)}}function me(e,t){if(1&e&&(l.Qb(0,\"table\",18),l.Qb(1,\"thead\"),l.Qb(2,\"tr\"),l.Qb(3,\"th\"),l.Jc(4,\"Sl.\"),l.Pb(),l.Qb(5,\"th\"),l.Jc(6,\"Date\"),l.Pb(),l.Qb(7,\"th\"),l.Jc(8,\"Sold by\"),l.Pb(),l.Qb(9,\"th\",19),l.Jc(10,\"Hotelswave Commission\"),l.Pb(),l.Qb(11,\"th\",19),l.Jc(12,\"Hotelswave Agent Commission\"),l.Pb(),l.Qb(13,\"th\",19),l.Jc(14,\"Price\"),l.Pb(),l.Qb(15,\"th\",19),l.Jc(16,\"Bookign ID\"),l.Pb(),l.Pb(),l.Pb(),l.Qb(17,\"tbody\"),l.Hc(18,fe,17,10,\"tr\",20),l.Pb(),l.Qb(19,\"tfoot\"),l.Qb(20,\"tr\"),l.Mb(21,\"th\"),l.Qb(22,\"th\"),l.Jc(23,\"Total\"),l.Pb(),l.Mb(24,\"th\"),l.Qb(25,\"th\",19),l.Jc(26),l.Pb(),l.Qb(27,\"th\",19),l.Jc(28),l.Pb(),l.Qb(29,\"th\",19),l.Jc(30),l.Pb(),l.Mb(31,\"th\",21),l.Pb(),l.Pb(),l.Pb()),2&e){var n=l.ec();l.zb(18),l.mc(\"ngForOf\",n.reportList),l.zb(8),l.Kc(n.total.totalHotelswaveCommission),l.zb(2),l.Kc(n.total.toatalHotelswaveAgentCommission),l.zb(2),l.Kc(n.total.totalPrice)}}function ye(e,t){if(1&e){var n=l.Rb();l.Qb(0,\"div\",9),l.Mb(1,\"admin-booking-details\",23),l.Qb(2,\"button\",24),l.bc(\"click\",function(){return l.yc(n),l.ec().onCloseBooking()}),l.Jc(3,\"Close\"),l.Pb(),l.Pb()}if(2&e){var i=l.ec();l.zb(1),l.mc(\"booking\",i.booking)}}var Pe=function(){function e(e,t,n){this.reportService=e,this.bookingService=t,this.utilService=n,this.loading=!1,this.mode=\"Reserve\",this.reportList=[],this.daterange={}}return e.prototype.ngOnInit=function(){this.total={totalHotelswaveCommission:0,toatalHotelswaveAgentCommission:0,totalPrice:0},this.setDateRanges(),this.onLoad()},e.prototype.setDateRanges=function(){this.daterange.checkoutDate=new Date,this.daterange.checkinDate=new Date,this.daterange.checkinDate.setDate(this.daterange.checkinDate.getDate()-1);var e=new Date;e.setDate(this.daterange.checkinDate.getDate()-90);var t=new Date;t.setDate(this.daterange.checkinDate.getDate()+90),this.options={autoApply:!0,locale:{format:\"DD MMM,YY\"},minDate:e,maxDate:t,startDate:this.daterange.checkinDate,endDate:this.daterange.checkoutDate,alwaysShowCalendars:!1}},e.prototype.selectedDate=function(e){this.daterange.checkinDate=e.start._d,this.daterange.checkoutDate=e.end._d,this.daterange.label=e.label,this.onLoad()},e.prototype.onLoad=function(){switch(this.mode){case\"Reserve\":this.getAdminCommissionReportByCheckIn(this.daterange.checkinDate,this.daterange.checkoutDate);break;case\"Sell\":this.getAdminCommissionReportBySells(this.daterange.checkinDate,this.daterange.checkoutDate)}},e.prototype.getAdminCommissionReportBySells=function(e,t){return ue(this,void 0,void 0,function(){var n=this;return ge(this,function(i){return this.loading=!0,this.reportService.getAdminCommissionReportBySells(this.utilService.getDateString(e),this.utilService.getDateString(t)).subscribe(function(e){n.reportList=e,n.calculateServiceAdminBookingReportList(),n.loading=!1}),[2]})})},e.prototype.getAdminCommissionReportByCheckIn=function(e,t){return ue(this,void 0,void 0,function(){var n=this;return ge(this,function(i){switch(i.label){case 0:return this.loading=!0,[4,this.reportService.getAdminCommissionReportByCheckIn(this.utilService.getDateString(e),this.utilService.getDateString(t)).subscribe(function(e){n.reportList=e,n.calculateServiceAdminBookingReportList(),n.loading=!1})];case 1:return i.sent(),[2]}})})},e.prototype.onBookingDetails=function(e){return ue(this,void 0,void 0,function(){var t=this;return ge(this,function(n){switch(n.label){case 0:return console.log(\"Details: \",e),[4,this.bookingService.getAdminBooking(e).subscribe(function(e){t.booking=e})];case 1:return n.sent(),[2]}})})},e.prototype.onCloseBooking=function(){this.booking=null},e.prototype.calculateServiceAdminBookingReportList=function(){var e=this;this.total={totalHotelswaveCommission:0,toatalHotelswaveAgentCommission:0,totalPrice:0},this.reportList.forEach(function(t){e.total.totalHotelswaveCommission+=t.hotelswaveCommission,e.total.toatalHotelswaveAgentCommission+=t.hotelswaveAgentCommission,e.total.totalPrice+=t.price})},e.\\u0275fac=function(t){return new(t||e)(l.Lb(c.a),l.Lb(pe.a),l.Lb(r.a))},e.\\u0275cmp=l.Fb({type:e,selectors:[[\"app-commission-report\"]],decls:26,vars:5,consts:[[1,\"container-fluid\"],[1,\"row\",\"px-3\",\"details-title\",\"text-left\"],[1,\"row\"],[1,\"col-auto\",\"mb-2\"],[1,\"input-group\"],[1,\"input-group-prepend\"],[1,\"input-group-text\"],[1,\"fa\",\"fa-calendar\"],[\"type\",\"text\",\"name\",\"daterangeInput\",\"daterangepicker\",\"\",1,\"form-control\",3,\"options\",\"selected\"],[1,\"col-auto\"],[1,\"input-group\",\"mb-2\"],[\"id\",\"reportType\",1,\"form-control\",3,\"ngModel\",\"ngModelChange\",\"change\"],[\"value\",\"Reserve\"],[\"value\",\"Sell\"],[1,\"col\",\"text-center\"],[4,\"ngIf\"],[\"class\",\"table table-bordered table-hover table-responsive-sm\",4,\"ngIf\"],[\"class\",\"col-auto\",4,\"ngIf\"],[1,\"table\",\"table-bordered\",\"table-hover\",\"table-responsive-sm\"],[1,\"text-right\"],[4,\"ngFor\",\"ngForOf\"],[\"colspan\",\"3\"],[3,\"click\"],[3,\"booking\"],[1,\"btn\",\"btn-sm\",\"btn-danger\",3,\"click\"]],template:function(e,t){1&e&&(l.Qb(0,\"div\",0),l.Qb(1,\"span\",1),l.Jc(2,\"Commission report\"),l.Pb(),l.Pb(),l.Qb(3,\"div\",0),l.Qb(4,\"div\",2),l.Qb(5,\"div\",3),l.Qb(6,\"div\",4),l.Qb(7,\"div\",5),l.Qb(8,\"div\",6),l.Mb(9,\"i\",7),l.Pb(),l.Pb(),l.Qb(10,\"input\",8),l.bc(\"selected\",function(e){return t.selectedDate(e)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(11,\"div\",9),l.Qb(12,\"div\",10),l.Qb(13,\"div\",5),l.Qb(14,\"div\",6),l.Jc(15,\"Type\"),l.Pb(),l.Pb(),l.Qb(16,\"select\",11),l.bc(\"ngModelChange\",function(e){return t.mode=e})(\"change\",function(){return t.onLoad()}),l.Qb(17,\"option\",12),l.Jc(18,\" By checkin date \"),l.Pb(),l.Qb(19,\"option\",13),l.Jc(20,\" By sells date \"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(21,\"div\",2),l.Qb(22,\"div\",14),l.Hc(23,ve,1,0,\"loading\",15),l.Hc(24,me,32,4,\"table\",16),l.Pb(),l.Hc(25,ye,4,1,\"div\",17),l.Pb(),l.Pb()),2&e&&(l.zb(10),l.mc(\"options\",t.options),l.zb(6),l.mc(\"ngModel\",t.mode),l.zb(7),l.mc(\"ngIf\",t.loading),l.zb(1),l.mc(\"ngIf\",!t.loading),l.zb(1),l.mc(\"ngIf\",t.booking))},directives:[te.b,d.v,d.n,d.q,d.r,d.x,h.p,u.a,h.o,he.a],pipes:[h.f],styles:[\"td[_ngcontent-%COMP%]{padding:3px;font-size:14px}a[_ngcontent-%COMP%]{cursor:pointer;color:#00f!important;font-weight:600}\"]}),e}(),Qe=n(\"d26D\"),Se=n(\"ITiG\"),Me=function(e,t,n,i){return new(n||(n=Promise))(function(o,c){function r(e){try{s(i.next(e))}catch(t){c(t)}}function a(e){try{s(i.throw(e))}catch(t){c(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,a)}s((i=i.apply(e,t||[])).next())})},ke=function(e,t){var n,i,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(n)throw new TypeError(\"Generator is already executing.\");for(;r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(a){c=[6,a],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};function De(e,t){if(1&e&&(l.Qb(0,\"option\",36),l.Jc(1),l.Pb()),2&e){var n=t.$implicit;l.mc(\"value\",n.name),l.zb(1),l.Lc(\" \",n.name,\" \")}}function we(e,t){if(1&e&&(l.Qb(0,\"option\",36),l.Jc(1),l.Pb()),2&e){var n=t.$implicit;l.mc(\"value\",n.id),l.zb(1),l.Mc(\"\",n.name,\"[\",n.phoneNumber,\"] \")}}function Le(e,t){if(1&e){var n=l.Rb();l.Qb(0,\"div\",37),l.Qb(1,\"button\",38),l.bc(\"click\",function(){return l.yc(n),l.ec().onSearch()}),l.Jc(2,\"Search\"),l.Pb(),l.Pb()}}function Je(e,t){if(1&e&&(l.Qb(0,\"div\"),l.Mb(1,\"loading\",39),l.Pb()),2&e){var n=l.ec();l.zb(1),l.mc(\"message\",n.message)}}function Te(e,t){1&e&&(l.Qb(0,\"th\",42),l.Jc(1,\"Advance\"),l.Pb())}function ze(e,t){1&e&&(l.Qb(0,\"th\",42),l.Jc(1,\"Due\"),l.Pb())}function Re(e,t){1&e&&(l.Qb(0,\"th\"),l.Jc(1,\"Ref\"),l.Pb())}function Ce(e,t){1&e&&(l.Qb(0,\"th\",42),l.Jc(1,\"Ref Fee.\"),l.Pb())}function Ae(e,t){if(1&e&&(l.Qb(0,\"td\",42),l.Jc(1),l.Pb()),2&e){var n=l.ec().$implicit;l.zb(1),l.Kc(n.advance)}}function Ne(e,t){if(1&e&&(l.Qb(0,\"td\",42),l.Jc(1),l.Pb()),2&e){var n=l.ec().$implicit;l.zb(1),l.Kc(n.due)}}function xe(e,t){if(1&e&&(l.Qb(0,\"td\"),l.Jc(1),l.Pb()),2&e){var n=l.ec().$implicit;l.zb(1),l.Kc(n.ref)}}function Ie(e,t){if(1&e&&(l.Qb(0,\"td\",42),l.Jc(1),l.Pb()),2&e){var n=l.ec().$implicit;l.zb(1),l.Kc(n.refFee)}}var He=function(e,t){return{\"bg-warning\":e,\"bg-danger\":t}},Oe=function(e,t){return{\"bg-primary\":e,\"bg-danger\":t}};function Be(e,t){if(1&e&&(l.Qb(0,\"tr\",46),l.Qb(1,\"td\",42),l.Jc(2),l.fc(3,\"date\"),l.Pb(),l.Qb(4,\"td\"),l.Jc(5),l.Pb(),l.Qb(6,\"td\"),l.Jc(7),l.Pb(),l.Qb(8,\"td\"),l.Jc(9),l.Pb(),l.Qb(10,\"td\",42),l.Jc(11),l.fc(12,\"date\"),l.Pb(),l.Qb(13,\"td\",42),l.Jc(14),l.Pb(),l.Hc(15,Ae,2,1,\"td\",43),l.Hc(16,Ne,2,1,\"td\",43),l.Qb(17,\"td\",42),l.Jc(18),l.Pb(),l.Qb(19,\"td\",42),l.Jc(20),l.Pb(),l.Hc(21,xe,2,1,\"td\",32),l.Hc(22,Ie,2,1,\"td\",43),l.Qb(23,\"td\",47),l.Jc(24),l.Pb(),l.Pb()),2&e){var n=t.$implicit,i=l.ec(2);l.mc(\"ngClass\",l.rc(23,He,\"ROOM_RESERVED\"==n.bookingStatus,\"ROOM_CANCELED\"==n.bookingStatus)),l.zb(2),l.Lc(\" \",l.hc(3,17,n.created,\"d MMM,y\"),\" \"),l.zb(3),l.Kc(n.hotelName),l.zb(2),l.Mc(\"\",n.customerName,\"[\",n.customerPhone,\"]\"),l.zb(2),l.Mc(\"\",n.roomNumber,\" [\",n.category,\"]\"),l.zb(2),l.Lc(\" \",l.hc(12,20,n.date,\"d MMM,y\"),\" \"),l.zb(3),l.Kc(n.price),l.zb(1),l.mc(\"ngIf\",\"Journey\"!=i.checkinText),l.zb(1),l.mc(\"ngIf\",\"Journey\"!=i.checkinText),l.zb(2),l.Kc(n.paymentMethod),l.zb(2),l.Kc(n.commission),l.zb(1),l.mc(\"ngIf\",\"Journey\"!=i.checkinText),l.zb(1),l.mc(\"ngIf\",\"Journey\"!=i.checkinText),l.zb(1),l.mc(\"ngClass\",l.rc(26,Oe,\"Paid\"==n.status,\"Unpaid\"==n.status)),l.zb(1),l.Lc(\" \",n.status,\" \")}}function Ee(e,t){if(1&e&&(l.Qb(0,\"th\",42),l.Jc(1),l.Pb()),2&e){var n=l.ec(2);l.zb(1),l.Kc(n.total.totalAdvance)}}function Ke(e,t){if(1&e&&(l.Qb(0,\"th\",42),l.Jc(1),l.Pb()),2&e){var n=l.ec(2);l.zb(1),l.Kc(n.total.totalDue)}}function Fe(e,t){1&e&&l.Mb(0,\"td\")}function _e(e,t){1&e&&l.Mb(0,\"td\",42)}function $e(e,t){if(1&e&&(l.Qb(0,\"div\"),l.Qb(1,\"h3\",40),l.Jc(2),l.Pb(),l.Qb(3,\"table\",41),l.Qb(4,\"thead\"),l.Qb(5,\"tr\"),l.Qb(6,\"th\"),l.Jc(7,\"Sells Date\"),l.Pb(),l.Qb(8,\"th\"),l.Jc(9),l.Pb(),l.Qb(10,\"th\"),l.Jc(11,\"Customer Name\"),l.Pb(),l.Qb(12,\"th\"),l.Jc(13),l.Pb(),l.Qb(14,\"th\",42),l.Jc(15),l.Pb(),l.Qb(16,\"th\",42),l.Jc(17,\"Rent\"),l.Pb(),l.Hc(18,Te,2,0,\"th\",43),l.Hc(19,ze,2,0,\"th\",43),l.Qb(20,\"th\",42),l.Jc(21,\"Payment Method\"),l.Pb(),l.Qb(22,\"th\",42),l.Jc(23,\"Commission\"),l.Pb(),l.Hc(24,Re,2,0,\"th\",32),l.Hc(25,Ce,2,0,\"th\",43),l.Qb(26,\"th\"),l.Jc(27,\"Status\"),l.Pb(),l.Pb(),l.Pb(),l.Qb(28,\"tbody\"),l.Hc(29,Be,25,29,\"tr\",44),l.Pb(),l.Qb(30,\"tfoot\"),l.Qb(31,\"tr\"),l.Qb(32,\"th\"),l.Jc(33,\"Total\"),l.Pb(),l.Mb(34,\"td\"),l.Mb(35,\"td\"),l.Qb(36,\"td\",45),l.Jc(37),l.Pb(),l.Mb(38,\"th\"),l.Qb(39,\"th\",42),l.Jc(40),l.Pb(),l.Hc(41,Ee,2,1,\"th\",43),l.Hc(42,Ke,2,1,\"th\",43),l.Mb(43,\"th\",42),l.Qb(44,\"th\",42),l.Jc(45),l.Pb(),l.Hc(46,Fe,1,0,\"td\",32),l.Hc(47,_e,1,0,\"td\",43),l.Mb(48,\"td\",42),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&e){var n=l.ec();l.zb(2),l.Mc(\" \",n.reportType,\" report for date of : \",n.getDate(),\" \"),l.zb(7),l.Kc(\"Journey\"==n.checkinText?\"Ship Name\":\"Hotel Name\"),l.zb(4),l.Kc(\"Journey\"==n.checkinText?\"Seat No.\":\"Room No.\"),l.zb(2),l.Kc(\"Journey\"==n.checkinText?\"Journey Date\":\"Checkin Date\"),l.zb(3),l.mc(\"ngIf\",\"Journey\"!=n.checkinText),l.zb(1),l.mc(\"ngIf\",\"Journey\"!=n.checkinText),l.zb(5),l.mc(\"ngIf\",\"Journey\"!=n.checkinText),l.zb(1),l.mc(\"ngIf\",\"Journey\"!=n.checkinText),l.zb(4),l.mc(\"ngForOf\",n.savedList),l.zb(8),l.Kc(n.total.totalSeatNumber),l.zb(3),l.Kc(n.total.totalrent),l.zb(1),l.mc(\"ngIf\",\"Journey\"!=n.checkinText),l.zb(1),l.mc(\"ngIf\",\"Journey\"!=n.checkinText),l.zb(3),l.Kc(n.total.totalCommission),l.zb(1),l.mc(\"ngIf\",\"Journey\"!=n.checkinText),l.zb(1),l.mc(\"ngIf\",\"Journey\"!=n.checkinText)}}function Ge(e,t){if(1&e&&(l.Qb(0,\"tr\"),l.Qb(1,\"td\"),l.Jc(2),l.Pb(),l.Qb(3,\"td\"),l.Jc(4),l.Pb(),l.Pb()),2&e){var n=t.$implicit,i=l.ec(2);l.zb(2),l.Kc(n.key),l.zb(2),l.Kc(i.paymentMethodAmountMap.get(n.key))}}function Ue(e,t){if(1&e&&(l.Qb(0,\"div\",30),l.Qb(1,\"div\",8),l.Qb(2,\"table\",41),l.Qb(3,\"tr\"),l.Qb(4,\"th\"),l.Jc(5,\"Payment Method\"),l.Pb(),l.Qb(6,\"th\"),l.Jc(7,\"Amount\"),l.Pb(),l.Pb(),l.Hc(8,Ge,5,2,\"tr\",48),l.fc(9,\"keyvalue\"),l.Qb(10,\"tr\"),l.Qb(11,\"th\"),l.Jc(12,\"Total\"),l.Pb(),l.Qb(13,\"th\"),l.Jc(14),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&e){var n=l.ec();l.zb(8),l.mc(\"ngForOf\",l.gc(9,2,n.paymentMethodAmountMap)),l.zb(6),l.Kc(n.total.totalAdvance)}}function qe(e,t){1&e&&(l.Qb(0,\"h4\",40),l.Mb(1,\"i\",49),l.Jc(2,\" No record yet \"),l.Pb())}var je=function(){function e(e,t,n,i,o){this.userService=e,this.hotelService=t,this.reportService=n,this.util=i,this.restDataService=o,this.daterange={},this.reportType=\"Sells\",this.loading=!1,this.reportList=[],this.savedList=[],this.message=\"\",this.dropdownData=[],this.selectedList=[],this.checkinText=\"Checkin\",this.dropdownServiceNameData=[],this.selectedServiceNameList=[],this.serviceTypes=[],this.filterServiceName=\"All\",this.filterBookingStatus=\"ROOM_SOLD\",this.paymentMethodAmountMap=new Map}return e.prototype.ngOnInit=function(){this.dropdownSettings={singleSelection:!0,idField:\"id\",textField:\"name\",selectAllText:\"Select All\",unSelectAllText:\"UnSelect All\",itemsShowLimit:3,allowSearchFilter:!0},this.getAllHotels(),this.getServiceTypeList(),this.loadRoleDropdown(),this.setDateRanges()},e.prototype.getServiceTypeList=function(){var e=this;try{this.restDataService.sendAuthenticateGetRequestObserver(\"api/v1/admin/reports/service-type\",\"\").subscribe(function(t){e.responseModel=t,e.serviceTypes=e.responseModel.content;for(var n=[],i=[],o=0;o<e.serviceTypes.length;o++)0===o&&i.push({id:e.serviceTypes[o],name:e.serviceTypes[o]}),n.push({id:e.serviceTypes[o],name:e.serviceTypes[o]});e.dropdownData=n,e.selectedList=i})}catch(t){console.log(t)}},e.prototype.loadRoleDropdown=function(){var e=this;try{this.restDataService.sendAuthenticateGetRequestObserver(\"api/v1/admin/reports/role-dropdown\",\"\").subscribe(function(t){e.responseModel=t,e.roles=e.responseModel.content})}catch(t){console.log(t)}},e.prototype.loadServiceNameDropdown=function(e){var t=this;if(null!=e&&e.length>0)try{\"Ship\"===e[0].id?this.checkinText=\"Journey\":\"Hotel\"===e[0].id&&(this.checkinText=\"Checkin\"),this.serviceType=e[0].id,this.selectedList=e,this.restDataService.sendAuthenticateGetRequestObserver(\"api/v1/admin/reports/service-dropdown/\"+e[0].id,\"\").subscribe(function(e){t.responseModel=e,t.serviceNames=t.responseModel.content;var n=[];n.push({id:\"\",name:\"All\"});for(var i=0;i<t.serviceNames.length;i++)n.push({id:t.serviceNames[i].id,name:t.serviceNames[i].serviceName});t.dropdownServiceNameData=n,t.selectedServiceNameList=[{id:\"\",name:\"All\"}],t.reportList=null,t.savedList=null})}catch(n){console.log(n)}},e.prototype.setDateRanges=function(){this.daterange.startDate=new Date,this.daterange.endDate=new Date,(new Date).setDate(this.daterange.startDate.getDate()-490),(new Date).setDate(this.daterange.endDate.getDate()+90),this.daterange.startDate.setDate(this.daterange.endDate.getDate()-10),this.daterange.endDate.setDate(this.daterange.endDate.getDate()+10),this.options={autoApply:!0,locale:{format:\"DD MMM,YY\"},startDate:this.daterange.startDate,endDate:this.daterange.endDate,alwaysShowCalendars:!1}},e.prototype.selectedDate=function(e){this.savedList=null,this.daterange.startDate=e.start._d,this.daterange.endDate=e.end._d,this.daterange.label=e.label},e.prototype.getAllHotels=function(){return Me(this,void 0,void 0,function(){var e,t;return ke(this,function(n){switch(n.label){case 0:this.loading=!0,n.label=1;case 1:return n.trys.push([1,3,,4]),e=this,[4,this.hotelService.gethotelsList().toPromise()];case 2:return e.hotelList=n.sent(),this.hotelList.sort(this.util.dynamicSortObject(\"name\")),this.loading=!1,[3,4];case 3:return t=n.sent(),console.log(t),[3,4];case 4:return[2]}})})},e.prototype.onServiceChange=function(){var e=this;if(this.selectedServiceNameList.length>0){var t=this.selectedServiceNameList[0].name;if(t)switch(t){case\"All\":this.savedList=this.reportList;break;default:this.savedList=this.reportList.filter(function(e){return e.hotelName===t})}this.filterBookingStatus&&null!==this.savedList&&(this.savedList=this.savedList.filter(function(t){return t.bookingStatus===e.filterBookingStatus})),this.calculateServiceAdminBookingReportList()}},e.prototype.getUserListByRole=function(e){return Me(this,void 0,void 0,function(){var t,n;return ke(this,function(i){switch(i.label){case 0:this.savedList=null,this.loading=!0,i.label=1;case 1:return i.trys.push([1,3,,4]),t=this,[4,this.userService.getCounterUserListByRole(e).toPromise()];case 2:return t.userList=i.sent(),this.userList.sort(this.util.dynamicSortObject(\"name\")),this.loading=!1,[3,4];case 3:return n=i.sent(),console.log(n),[3,4];case 4:return[2]}})})},e.prototype.onSearch=function(){switch(this.reportType){case\"Sells\":this.getAdminSellsRangeReport(1,this.counter.id,this.daterange.startDate,this.daterange.endDate,this.serviceType);break;case\"Reservation\":this.getAdminSellsRangeReport(0,this.counter.id,this.daterange.startDate,this.daterange.endDate,this.serviceType)}},e.prototype.getAdminSellsRangeReport=function(e,t,n,i,o){return Me(this,void 0,void 0,function(){var c,r,a,s;return ke(this,function(l){switch(l.label){case 0:this.loading=!0,c=this.util.getDateString(n),r=this.util.getDateString(i),l.label=1;case 1:return l.trys.push([1,3,,4]),a=this,[4,this.reportService.getAdminSellsReportRangeForIndividual(e,t,c,r,o).toPromise()];case 2:return a.reportList=l.sent(),this.reportList.sort(this.util.dynamicSortObject(\"created\")),this.savedList=this.reportList,this.onServiceChange(),this.loading=!1,[3,4];case 3:return s=l.sent(),console.log(s),[3,4];case 4:return[2]}})})},e.prototype.onCounterChange=function(e){this.savedList=null,this.counter=this.userList.find(function(t){return t.id.toString()===e})},e.prototype.getDate=function(){return this.daterange.startDate.getDate()+\"-\"+(this.daterange.startDate.getMonth()+1)+\"-\"+this.daterange.startDate.getFullYear()+\"-\"+this.daterange.endDate.getDate()+\" to \"+(this.daterange.endDate.getMonth()+1)+\"-\"+this.daterange.endDate.getFullYear()},e.prototype.calculateServiceAdminBookingReportList=function(){var e=this;this.total={totalrent:0,totalAdvance:0,totalDue:0,totalSeatNumber:0,totalCommission:0},this.paymentMethodAmountMap=new Map,null!==this.savedList&&this.savedList.forEach(function(t){e.total.totalrent+=t.price,e.total.totalAdvance+=t.advance,e.total.totalSeatNumber+=t.numberOfSeat,e.total.totalDue+=t.due,e.total.totalCommission+=t.commission,null!==t.paymentMethod&&\"\"!==t.paymentMethod&&e.paymentMethodAmountMap.set(t.paymentMethod,e.paymentMethodAmountMap.get(t.paymentMethod)?e.paymentMethodAmountMap.get(t.paymentMethod)+t.advance:t.advance),null!==t.paymentMethod&&\"\"!==t.paymentMethod||(t.paymentMethod=\"Others\",e.paymentMethodAmountMap.set(t.paymentMethod,e.paymentMethodAmountMap.get(t.paymentMethod)?e.paymentMethodAmountMap.get(t.paymentMethod)+t.advance:t.advance))})},e.prototype.clear=function(){this.savedList=null},e.prototype.onPrint=function(){window.print()},e.\\u0275fac=function(t){return new(t||e)(l.Lb(Se.a),l.Lb(Qe.a),l.Lb(c.a),l.Lb(r.a),l.Lb(a.a))},e.\\u0275cmp=l.Fb({type:e,selectors:[[\"app-couter-report\"]],decls:64,vars:19,consts:[[1,\"container-fluid\"],[1,\"row\",\"px-3\",\"details-title\",\"text-left\"],[1,\"row\",\"d-print-none\",\"bg-light\",\"shadow-sm\"],[1,\"col-sm-1\",\"p-0\",2,\"margin-left\",\"5px!important\",\"margin-top\",\"25px\"],[1,\"input-group\",\"mb-2\"],[\"id\",\"serviceType\",\"name\",\"serviceType\",2,\"width\",\"100%\",3,\"placeholder\",\"settings\",\"data\",\"ngModel\",\"ngModelChange\"],[1,\"col-sm-2\",\"p-0\",2,\"margin-left\",\"5px!important\",\"margin-top\",\"25px\"],[\"id\",\"serviceName\",\"name\",\"serviceName\",2,\"width\",\"100%\",3,\"placeholder\",\"settings\",\"data\",\"ngModel\",\"ngModelChange\"],[1,\"col-auto\"],[1,\"form-group\"],[\"for\",\"counterType\"],[\"id\",\"counterType\",1,\"form-control\",3,\"change\"],[\"value\",\"\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"for\",\"counterUser\"],[\"id\",\"counterUser\",1,\"form-control\",3,\"change\"],[\"for\",\"dateRange\"],[\"type\",\"text\",\"id\",\"dateRange\",\"name\",\"daterangeInput\",\"daterangepicker\",\"\",1,\"form-control\",3,\"options\",\"selected\"],[\"for\",\"reportType\"],[\"id\",\"reportType\",1,\"form-control\",3,\"ngModel\",\"ngModelChange\",\"change\"],[\"value\",\"Sells\"],[\"value\",\"Reservation\"],[\"id\",\"status\",1,\"form-control\",3,\"ngModel\",\"ngModelChange\",\"change\"],[\"value\",\"ROOM_SOLD\"],[\"value\",\"ROOM_RESERVED\"],[\"value\",\"ROOM_CANCELED\"],[\"class\",\"d-flex align-items-center\",4,\"ngIf\"],[1,\"d-flex\",\"align-items-center\",\"ml-auto\",\"mr-2\"],[1,\"btn\",\"btn-sm\",\"btn-primary\",3,\"click\"],[1,\"fa\",\"fa-print\"],[1,\"row\"],[1,\"col-12\"],[4,\"ngIf\"],[4,\"ngIf\",\"ngIfElse\"],[\"class\",\"row\",4,\"ngIf\"],[\"noRecord\",\"\"],[3,\"value\"],[1,\"d-flex\",\"align-items-center\"],[1,\"btn\",\"btn-sm\",\"btn-success\",3,\"click\"],[3,\"message\"],[1,\"text-center\"],[1,\"table\",\"table-bordered\",\"table-hover\",\"table-responsive-sm\"],[1,\"text-right\"],[\"class\",\"text-right\",4,\"ngIf\"],[3,\"ngClass\",4,\"ngFor\",\"ngForOf\"],[2,\"text-align\",\"center\",\"font-weight\",\"bold\"],[3,\"ngClass\"],[1,\"text-white\",3,\"ngClass\"],[4,\"ngFor\",\"ngForOf\"],[1,\"fa\",\"fa-frown-o\"]],template:function(e,t){if(1&e&&(l.Qb(0,\"div\",0),l.Qb(1,\"span\",1),l.Jc(2,\"Details report\"),l.Pb(),l.Pb(),l.Qb(3,\"div\",0),l.Qb(4,\"div\",2),l.Qb(5,\"div\",3),l.Qb(6,\"div\",4),l.Qb(7,\"ng-multiselect-dropdown\",5),l.bc(\"ngModelChange\",function(e){return t.loadServiceNameDropdown(e)})(\"ngModelChange\",function(e){return t.selectedList=e}),l.Pb(),l.Pb(),l.Pb(),l.Qb(8,\"div\",6),l.Qb(9,\"div\",4),l.Qb(10,\"ng-multiselect-dropdown\",7),l.bc(\"ngModelChange\",function(e){return t.selectedServiceNameList=e})(\"ngModelChange\",function(){return t.onServiceChange()}),l.Pb(),l.Pb(),l.Pb(),l.Qb(11,\"div\",8),l.Qb(12,\"div\",9),l.Qb(13,\"label\",10),l.Jc(14,\"Type\"),l.Pb(),l.Qb(15,\"select\",11),l.bc(\"change\",function(e){return t.getUserListByRole(e.target.value)}),l.Qb(16,\"option\",12),l.Jc(17,\" Select Type\"),l.Pb(),l.Hc(18,De,2,2,\"option\",13),l.Pb(),l.Pb(),l.Pb(),l.Qb(19,\"div\",8),l.Qb(20,\"div\",9),l.Qb(21,\"label\",14),l.Jc(22,\"User\"),l.Pb(),l.Qb(23,\"select\",15),l.bc(\"change\",function(e){return t.onCounterChange(e.target.value)}),l.Qb(24,\"option\",12),l.Jc(25,\" Select User\"),l.Pb(),l.Hc(26,we,2,3,\"option\",13),l.Pb(),l.Pb(),l.Pb(),l.Qb(27,\"div\",8),l.Qb(28,\"div\",9),l.Qb(29,\"label\",16),l.Jc(30,\"Date Range\"),l.Pb(),l.Qb(31,\"input\",17),l.bc(\"selected\",function(e){return t.selectedDate(e)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(32,\"div\",8),l.Qb(33,\"label\",18),l.Jc(34,\"Report Type\"),l.Pb(),l.Qb(35,\"div\",4),l.Qb(36,\"select\",19),l.bc(\"ngModelChange\",function(e){return t.reportType=e})(\"change\",function(){return t.clear()}),l.Qb(37,\"option\",20),l.Jc(38,\" By Sells Date\"),l.Pb(),l.Qb(39,\"option\",21),l.Jc(40),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(41,\"div\",8),l.Qb(42,\"label\",18),l.Jc(43,\"Status\"),l.Pb(),l.Qb(44,\"div\",4),l.Qb(45,\"select\",22),l.bc(\"ngModelChange\",function(e){return t.filterBookingStatus=e})(\"change\",function(){return t.onServiceChange()}),l.Qb(46,\"option\",23),l.Jc(47,\" Sold\"),l.Pb(),l.Qb(48,\"option\",24),l.Jc(49,\" Reserved\"),l.Pb(),l.Qb(50,\"option\",25),l.Jc(51,\" Canceled\"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Hc(52,Le,3,0,\"div\",26),l.Qb(53,\"div\",27),l.Qb(54,\"button\",28),l.bc(\"click\",function(){return t.onPrint()}),l.Mb(55,\"i\",29),l.Jc(56,\" Print \"),l.Pb(),l.Pb(),l.Pb(),l.Qb(57,\"div\",30),l.Qb(58,\"div\",31),l.Hc(59,Je,2,1,\"div\",32),l.Hc(60,$e,49,17,\"div\",33),l.Hc(61,Ue,15,4,\"div\",34),l.Hc(62,qe,3,0,\"ng-template\",null,35,l.Ic),l.Pb(),l.Pb(),l.Pb()),2&e){var n=l.wc(63);l.zb(7),l.mc(\"placeholder\",\"Select Service Type\")(\"settings\",t.dropdownSettings)(\"data\",t.dropdownData)(\"ngModel\",t.selectedList),l.zb(3),l.mc(\"placeholder\",\"Select Service Name\")(\"settings\",t.dropdownSettings)(\"data\",t.dropdownServiceNameData)(\"ngModel\",t.selectedServiceNameList),l.zb(8),l.mc(\"ngForOf\",t.roles),l.zb(8),l.mc(\"ngForOf\",t.userList),l.zb(5),l.mc(\"options\",t.options),l.zb(5),l.mc(\"ngModel\",t.reportType),l.zb(4),l.Lc(\" By \",t.checkinText,\" Date\"),l.zb(5),l.mc(\"ngModel\",t.filterBookingStatus),l.zb(7),l.mc(\"ngIf\",null!=t.counter),l.zb(7),l.mc(\"ngIf\",t.loading),l.zb(1),l.mc(\"ngIf\",(null==t.savedList?null:t.savedList.length)>0&&!t.loading)(\"ngIfElse\",n),l.zb(1),l.mc(\"ngIf\",(null==t.savedList?null:t.savedList.length)>0)}},directives:[p.a,d.n,d.q,d.r,d.x,h.o,te.b,d.v,h.p,u.a,h.n],pipes:[h.f,h.j],styles:[\".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.15rem}\"]}),e}(),Ye=n(\"KZX/\");function Ve(e,t){if(1&e){var n=l.Rb();l.Qb(0,\"option\",34),l.bc(\"change\",function(e){l.yc(n);var t=l.ec();return t.onFilterChange(e.target.value,t.filterBookingStatus)}),l.Jc(1),l.Pb()}if(2&e){var i=t.$implicit;l.mc(\"value\",i.name),l.zb(1),l.Lc(\" \",i.name,\" \")}}function Xe(e,t){if(1&e&&(l.Qb(0,\"div\"),l.Mb(1,\"loading\",35),l.Pb()),2&e){var n=l.ec();l.zb(1),l.mc(\"message\",n.message)}}function Ze(e,t){if(1&e&&(l.Ob(0),l.Mb(1,\"booking-report-list\",36),l.Nb()),2&e){var n=l.ec();l.zb(1),l.mc(\"title\",n.reportHead)(\"bookingList\",n.serviceAdminBookingReportList)(\"serviceType\",n.selectedList[0].id)}}function We(e,t){1&e&&(l.Qb(0,\"h4\",37),l.Mb(1,\"i\",38),l.Jc(2,\" No record yet \"),l.Pb())}var et=[{path:\"booking-report\",component:W},{path:\"booking-report-admin-service\",component:function(){function e(e,t,n){this.reportService=e,this.utilService=t,this.restDataService=n,this.savedList=[],this.serviceAdminBookingReportList=[],this.reportType=\"Booking\",this.checkinText=\"Checkin\",this.filterRole=\"All\",this.filterServiceName=\"All\",this.filterBookingStatus=\"all\",this.reportHead=\"\",this.loading=!1,this.dropdownData=[],this.selectedList=[],this.serviceTypes=[],this.dropdownServiceNameData=[],this.selectedServiceNameList=[],this.dropdownRoleData=[]}return e.prototype.ngOnInit=function(){this.dropdownSettings={singleSelection:!0,idField:\"id\",textField:\"name\",selectAllText:\"Select All\",unSelectAllText:\"UnSelect All\",itemsShowLimit:3,allowSearchFilter:!0},this.setDate(),this.getServiceTypeList(),this.loadRoleDropdown()},e.prototype.getServiceTypeList=function(){var e=this;try{this.restDataService.sendAuthenticateGetRequestObserver(\"api/v1/admin/reports/service-type\",\"\").subscribe(function(t){e.responseModel=t,e.serviceTypes=e.responseModel.content;for(var n=[],i=[],o=0;o<e.serviceTypes.length;o++)0===o&&i.push({id:e.serviceTypes[o],name:e.serviceTypes[o]}),n.push({id:e.serviceTypes[o],name:e.serviceTypes[o]});e.dropdownData=n,e.selectedList=i,e.onLoad(0)})}catch(t){console.log(t)}},e.prototype.setDate=function(){var e=new Date;this.date={year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}},e.prototype.getDate=function(){return this.date.day+\"-\"+this.date.month+\"-\"+this.date.year},e.prototype.onLoad=function(e){var t=null;if(null!==this.selectedList&&this.selectedList.length>0&&(t=this.selectedList[0].id),null!==t){var n=new Date(this.date.year,this.date.month-1,this.date.day+e);switch(this.date=this.utilService.convertJsDateToNgbDate(n),this.reportType){case\"Reservation\":this.getAdminBookingReport(this.date,t,0);break;case\"Booking\":this.getAdminBookingReport(this.date,t,1)}}},e.prototype.onTypeChange=function(e){this.reportType=e,this.onLoad(0)},e.prototype.onPrint=function(){window.print()},e.prototype.onFilterChange=function(e,t){var n=\"All\";switch(null!=e?\"string\"==typeof e?(this.filterRole=e,n=e):(this.filterRole=e.length>0?e[0].name:\"All\",e.length>0&&(n=e[0].name)):this.filterRole=\"All\",this.filterBookingStatus=t,n){case\"All\":this.serviceAdminBookingReportList=this.savedList;break;default:this.serviceAdminBookingReportList=this.savedList.filter(function(e){return e.role===n})}\"all\"!==t&&(this.serviceAdminBookingReportList=this.serviceAdminBookingReportList.filter(function(e){return e.bookingStatus===t}))},e.prototype.getAdminBookingReport=function(e,t,n){return i=this,void 0,c=function(){var i=this;return function(e,t){var n,i,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(n)throw new TypeError(\"Generator is already executing.\");for(;r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(a){c=[6,a],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}(this,function(o){switch(o.label){case 0:return this.loading=!0,[4,this.reportService.getAdminBookingReport(this.utilService.makeDateString(e),t,n,0).subscribe(function(e){i.savedList=e,i.savedList.sort(i.utilService.dynamicSortObject(\"date\")),i.savedList.sort(i.utilService.dynamicSortObject(\"roomNumber\")),i.onFilterChange(i.filterRole,i.filterBookingStatus),i.reportHead=\"Booking report for date of : \"+i.getDate(),i.loading=!1})];case 1:return o.sent(),[2]}})},new((o=void 0)||(o=Promise))(function(e,t){function n(e){try{a(c.next(e))}catch(n){t(n)}}function r(e){try{a(c.throw(e))}catch(n){t(n)}}function a(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o(function(e){e(i)})).then(n,r)}a((c=c.apply(i,[])).next())});var i,o,c},e.prototype.loadServiceNameDropdown=function(e){var t=this;if(null!=e&&e.length>0)try{\"Ship\"===e[0].id?this.checkinText=\"Journey\":\"Hotel\"===e[0].id&&(this.checkinText=\"Checkin\"),this.selectedList=e,this.onLoad(0),this.restDataService.sendAuthenticateGetRequestObserver(\"api/v1/admin/reports/service-dropdown/\"+e[0].id,\"\").subscribe(function(e){t.responseModel=e,t.serviceNames=t.responseModel.content;var n=[];n.push({id:\"\",name:\"All\"});for(var i=0;i<t.serviceNames.length;i++)n.push({id:t.serviceNames[i].id,name:t.serviceNames[i].serviceName});t.dropdownServiceNameData=n,t.selectedServiceNameList=[{id:\"\",name:\"All\"}]})}catch(n){console.log(n)}},e.prototype.loadRoleDropdown=function(){var e=this;try{this.restDataService.sendAuthenticateGetRequestObserver(\"api/v1/admin/reports/role-dropdown?isAdmin=1\",null).subscribe(function(t){e.responseModel=t,e.roles=e.responseModel.content})}catch(t){console.log(t)}},e.prototype.filterReportDataByServiceName=function(e){if(null!=e&&e.length>0)switch(this.filterServiceName=e[0].name,e[0].name){case\"All\":this.serviceAdminBookingReportList=this.savedList;break;default:this.serviceAdminBookingReportList=this.savedList.filter(function(t){return t.hotelName===e[0].name})}},e.\\u0275fac=function(t){return new(t||e)(l.Lb(c.a),l.Lb(r.a),l.Lb(a.a))},e.\\u0275cmp=l.Fb({type:e,selectors:[[\"app-booking-report-admin-service\"]],decls:62,vars:15,consts:[[1,\"container-fluid\",\"d-print-none\"],[1,\"row\",\"px-3\",\"details-title\",\"text-left\"],[1,\"container-fluid\"],[1,\"row\",\"d-print-none\"],[1,\"col-sm-2\",\"p-0\",2,\"margin-left\",\"5px!important\"],[1,\"input-group\",\"mb-2\"],[1,\"input-group-prepend\"],[1,\"input-group-text\"],[\"placeholder\",\"yyyy-mm-dd\",\"name\",\"dp\",\"id\",\"reportDate\",\"ngbDatepicker\",\"\",1,\"form-control\",3,\"ngModel\",\"ngModelChange\",\"dateSelect\",\"click\"],[\"d\",\"ngbDatepicker\"],[1,\"input-group-append\"],[\"type\",\"button\",1,\"btn\",\"btn-outline-secondary\",3,\"click\"],[1,\"fa\",\"fa-calendar\"],[\"id\",\"serviceType\",\"name\",\"serviceType\",2,\"width\",\"100%\",3,\"placeholder\",\"settings\",\"data\",\"ngModel\",\"ngModelChange\"],[\"id\",\"serviceName\",\"name\",\"serviceName\",2,\"width\",\"100%\",3,\"placeholder\",\"settings\",\"data\",\"ngModel\",\"ngModelChange\"],[1,\"col-auto\"],[\"id\",\"reportType\",1,\"form-control\",3,\"ngModel\",\"ngModelChange\",\"change\"],[\"value\",\"Booking\"],[\"value\",\"Reservation\"],[\"id\",\"role\",1,\"form-control\"],[\"value\",\"All\"],[3,\"value\",\"change\",4,\"ngFor\",\"ngForOf\"],[\"id\",\"status\",1,\"form-control\",3,\"change\"],[\"value\",\"all\"],[\"value\",\"ROOM_SOLD\"],[\"value\",\"ROOM_RESERVED\"],[\"value\",\"ROOM_CANCELED\"],[1,\"btn\",\"btn-sm\",\"btn-primary\",3,\"click\"],[1,\"fa\",\"fa-print\"],[1,\"row\"],[1,\"col-12\"],[4,\"ngIf\"],[4,\"ngIf\",\"ngIfElse\"],[\"noRecord\",\"\"],[3,\"value\",\"change\"],[3,\"message\"],[3,\"title\",\"bookingList\",\"serviceType\"],[1,\"text-center\"],[1,\"fa\",\"fa-frown-o\"]],template:function(e,t){if(1&e){var n=l.Rb();l.Qb(0,\"div\",0),l.Qb(1,\"span\",1),l.Jc(2,\"Booking report\"),l.Pb(),l.Pb(),l.Qb(3,\"div\",2),l.Qb(4,\"div\",3),l.Qb(5,\"div\",4),l.Qb(6,\"div\",5),l.Qb(7,\"div\",6),l.Qb(8,\"div\",7),l.Jc(9,\"Date\"),l.Pb(),l.Pb(),l.Qb(10,\"input\",8,9),l.bc(\"ngModelChange\",function(e){return t.date=e})(\"dateSelect\",function(){return t.onLoad(0)})(\"click\",function(){return l.yc(n),l.wc(11).toggle()}),l.Pb(),l.Qb(12,\"div\",10),l.Qb(13,\"button\",11),l.bc(\"click\",function(){return l.yc(n),l.wc(11).toggle()}),l.Mb(14,\"i\",12),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(15,\"div\",4),l.Qb(16,\"div\",5),l.Qb(17,\"ng-multiselect-dropdown\",13),l.bc(\"ngModelChange\",function(e){return t.loadServiceNameDropdown(e)})(\"ngModelChange\",function(e){return t.selectedList=e}),l.Pb(),l.Pb(),l.Pb(),l.Qb(18,\"div\",4),l.Qb(19,\"div\",5),l.Qb(20,\"ng-multiselect-dropdown\",14),l.bc(\"ngModelChange\",function(e){return t.selectedServiceNameList=e})(\"ngModelChange\",function(e){return t.filterReportDataByServiceName(e)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(21,\"div\",15),l.Qb(22,\"div\",5),l.Qb(23,\"div\",6),l.Qb(24,\"div\",7),l.Jc(25,\"Type\"),l.Pb(),l.Pb(),l.Qb(26,\"select\",16),l.bc(\"ngModelChange\",function(e){return t.reportType=e})(\"change\",function(e){return t.onTypeChange(e.target.value)}),l.Qb(27,\"option\",17),l.Jc(28,\" Sale date \"),l.Pb(),l.Qb(29,\"option\",18),l.Jc(30),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(31,\"div\",15),l.Qb(32,\"div\",5),l.Qb(33,\"div\",6),l.Qb(34,\"div\",7),l.Jc(35,\"Role\"),l.Pb(),l.Pb(),l.Qb(36,\"select\",19),l.Qb(37,\"option\",20),l.Jc(38,\"All\"),l.Pb(),l.Hc(39,Ve,2,2,\"option\",21),l.Pb(),l.Qb(40,\"div\",6),l.Qb(41,\"div\",7),l.Jc(42,\"Status\"),l.Pb(),l.Pb(),l.Qb(43,\"select\",22),l.bc(\"change\",function(e){return t.onFilterChange(t.filterRole,e.target.value)}),l.Qb(44,\"option\",23),l.Jc(45,\" All \"),l.Pb(),l.Qb(46,\"option\",24),l.Jc(47,\" Sold \"),l.Pb(),l.Qb(48,\"option\",25),l.Jc(49,\" Reserved \"),l.Pb(),l.Qb(50,\"option\",26),l.Jc(51,\" Cancled \"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(52,\"div\",15),l.Qb(53,\"button\",27),l.bc(\"click\",function(){return t.onPrint()}),l.Mb(54,\"i\",28),l.Jc(55,\" Print \"),l.Pb(),l.Pb(),l.Pb(),l.Qb(56,\"div\",29),l.Qb(57,\"div\",30),l.Hc(58,Xe,2,1,\"div\",31),l.Hc(59,Ze,2,3,\"ng-container\",32),l.Hc(60,We,3,0,\"ng-template\",null,33,l.Ic),l.Pb(),l.Pb(),l.Pb()}if(2&e){var i=l.wc(61);l.zb(10),l.mc(\"ngModel\",t.date),l.zb(7),l.mc(\"placeholder\",\"Select Service Type\")(\"settings\",t.dropdownSettings)(\"data\",t.dropdownData)(\"ngModel\",t.selectedList),l.zb(3),l.mc(\"placeholder\",\"Select Service Name\")(\"settings\",t.dropdownSettings)(\"data\",t.dropdownServiceNameData)(\"ngModel\",t.selectedServiceNameList),l.zb(6),l.mc(\"ngModel\",t.reportType),l.zb(4),l.Lc(\" \",t.checkinText,\" Date\"),l.zb(9),l.mc(\"ngForOf\",t.roles),l.zb(19),l.mc(\"ngIf\",t.loading),l.zb(1),l.mc(\"ngIf\",t.serviceAdminBookingReportList.length>0&&!t.loading)(\"ngIfElse\",i)}},directives:[b.j,d.b,d.n,d.q,p.a,d.v,d.r,d.x,h.o,h.p,u.a,$],styles:[\"\"]}),e}()},{path:\"booking-range-report\",component:de},{path:\"counter-report\",component:je},{path:\"commission-report\",component:Pe}],tt=function(){function e(){}return e.\\u0275mod=l.Jb({type:e}),e.\\u0275inj=l.Ib({factory:function(t){return new(t||e)},imports:[[o.a,Ye.a,i.d.forChild(et),p.b]]}),e}()}}]);","name":"16.4fc6b80d1d3bec569233.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[16],{\n\n/***/ \"3whx\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return AdminSharedModule; });\n/* harmony import */ var src_shared_shared_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"KZX/\");\n/* harmony import */ var angular_datatables__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"oTcB\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"8Y7J\");\n\n\n\nvar AdminSharedModule = /** @class */ /*@__PURE__*/ (function () {\n    function AdminSharedModule() {\n    }\n    AdminSharedModule.mod = _angular_core__WEBPACK_IMPORTED_MODULE_2__[/* defineNgModule */ \"Jb\"]({ type: AdminSharedModule });\n    AdminSharedModule.inj = _angular_core__WEBPACK_IMPORTED_MODULE_2__[/* defineInjector */ \"Ib\"]({ factory: function AdminSharedModule_Factory(t) { return new (t || AdminSharedModule)(); }, imports: [[src_shared_shared_module__WEBPACK_IMPORTED_MODULE_0__[/* SharedModule */ \"a\"], angular_datatables__WEBPACK_IMPORTED_MODULE_1__[/* DataTablesModule */ \"b\"]], src_shared_shared_module__WEBPACK_IMPORTED_MODULE_0__[/* SharedModule */ \"a\"]] });\n    return AdminSharedModule;\n}());\n\n\n\n/***/ }),\n\n/***/ \"U6ZW\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"ROUTES\", function() { return /* binding */ ROUTES; });\n__webpack_require__.d(__webpack_exports__, \"AdminReportModule\", function() { return /* binding */ admin_report_module_AdminReportModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/fesm2015/router.js + 9 modules\nvar router = __webpack_require__(\"iInd\");\n\n// EXTERNAL MODULE: ./src/dashboard/admin/admin-shared/admin-shared.module.ts\nvar admin_shared_module = __webpack_require__(\"3whx\");\n\n// EXTERNAL MODULE: ./src/services/report.service.ts\nvar report_service = __webpack_require__(\"kU/X\");\n\n// EXTERNAL MODULE: ./src/services/util.service.ts\nvar util_service = __webpack_require__(\"/e7+\");\n\n// EXTERNAL MODULE: ./src/services/rest-data.service.ts\nvar rest_data_service = __webpack_require__(\"jgEc\");\n\n// EXTERNAL MODULE: ./src/services/auth.service.ts\nvar auth_service = __webpack_require__(\"LLt/\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/fesm2015/core.js + 2 modules\nvar core = __webpack_require__(\"8Y7J\");\n\n// EXTERNAL MODULE: ./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js + 9 modules\nvar ng_bootstrap = __webpack_require__(\"G0yt\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/fesm2015/forms.js + 1 modules\nvar fesm2015_forms = __webpack_require__(\"s7LF\");\n\n// EXTERNAL MODULE: ./node_modules/ng-multiselect-dropdown/fesm2015/ng-multiselect-dropdown.js\nvar ng_multiselect_dropdown = __webpack_require__(\"UPO+\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/fesm2015/common.js\nvar common = __webpack_require__(\"SVse\");\n\n// EXTERNAL MODULE: ./src/shared/components/loading/loading.component.ts\nvar loading_component = __webpack_require__(\"HF3I\");\n\n// CONCATENATED MODULE: ./src/dashboard/admin/admin-shared/components/booking-report-list/booking-report-list.component.ts\n\n\n\n\n\n\nfunction BookingReportListComponent_th_15_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\");\n        core[\"Jc\" /* text */](1, \"Sale Date\");\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nfunction BookingReportListComponent_th_20_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\", 3);\n        core[\"Jc\" /* text */](1, \"Advance\");\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nfunction BookingReportListComponent_th_21_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\", 3);\n        core[\"Jc\" /* text */](1, \"Due\");\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nfunction BookingReportListComponent_th_26_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\");\n        core[\"Jc\" /* text */](1, \"Ref\");\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nfunction BookingReportListComponent_th_27_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\", 3);\n        core[\"Jc\" /* text */](1, \"ref. fee\");\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nfunction BookingReportListComponent_th_28_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\");\n        core[\"Jc\" /* text */](1, \"Status\");\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nfunction BookingReportListComponent_tr_32_td_13_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"td\");\n        core[\"Jc\" /* text */](1);\n        core[\"fc\" /* pipe */](2, \"date\");\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var rep_r11 = core[\"ec\" /* nextContext */]().$implicit;\n        core[\"zb\" /* advance */](1);\n        core[\"Lc\" /* textInterpolate1 */](\" \", core[\"hc\" /* pipeBind2 */](2, 1, rep_r11.created, \"d MMM,y\"), \" \");\n    }\n}\nfunction BookingReportListComponent_tr_32_td_19_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"td\", 3);\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var rep_r11 = core[\"ec\" /* nextContext */]().$implicit;\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](rep_r11.advance);\n    }\n}\nfunction BookingReportListComponent_tr_32_td_20_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"td\", 3);\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var rep_r11 = core[\"ec\" /* nextContext */]().$implicit;\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](rep_r11.due);\n    }\n}\nfunction BookingReportListComponent_tr_32_td_25_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"td\");\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var rep_r11 = core[\"ec\" /* nextContext */]().$implicit;\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](rep_r11.ref);\n    }\n}\nfunction BookingReportListComponent_tr_32_td_26_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"td\", 3);\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var rep_r11 = core[\"ec\" /* nextContext */]().$implicit;\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](rep_r11.refFee);\n    }\n}\nvar _c0 = function (a0, a1) { return { \"bg-primary\": a0, \"bg-danger\": a1 }; };\nfunction BookingReportListComponent_tr_32_td_27_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"td\", 13);\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var rep_r11 = core[\"ec\" /* nextContext */]().$implicit;\n        core[\"mc\" /* property */](\"ngClass\", core[\"rc\" /* pureFunction2 */](2, _c0, rep_r11.status == \"Paid\", rep_r11.status == \"Unpaid\"));\n        core[\"zb\" /* advance */](1);\n        core[\"Lc\" /* textInterpolate1 */](\" \", rep_r11.status, \" \");\n    }\n}\nfunction BookingReportListComponent_tr_32_td_28_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"td\");\n        core[\"Qb\" /* elementStart */](1, \"a\", 14);\n        core[\"Jc\" /* text */](2);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var rep_r11 = core[\"ec\" /* nextContext */]().$implicit;\n        core[\"zb\" /* advance */](1);\n        core[\"oc\" /* propertyInterpolate1 */](\"routerLink\", \"/dashboard/printTicket/\", rep_r11.bookingId, \"\");\n        core[\"zb\" /* advance */](1);\n        core[\"Lc\" /* textInterpolate1 */](\" \", rep_r11.bookingId, \"\");\n    }\n}\nfunction BookingReportListComponent_tr_32_td_29_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"td\");\n        core[\"Qb\" /* elementStart */](1, \"a\", 14);\n        core[\"Jc\" /* text */](2);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var rep_r11 = core[\"ec\" /* nextContext */]().$implicit;\n        core[\"zb\" /* advance */](1);\n        core[\"oc\" /* propertyInterpolate1 */](\"routerLink\", \"/dashboard/ship-print-ticket/\", rep_r11.bookingId, \"\");\n        core[\"zb\" /* advance */](1);\n        core[\"Lc\" /* textInterpolate1 */](\" \", rep_r11.bookingId, \"\");\n    }\n}\nfunction BookingReportListComponent_tr_32_td_30_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"td\");\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var rep_r11 = core[\"ec\" /* nextContext */]().$implicit;\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](rep_r11.bookingId);\n    }\n}\nvar _c1 = function (a0, a1) { return { \"bg-warning\": a0, \"bg-danger\": a1 }; };\nfunction BookingReportListComponent_tr_32_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"tr\", 11);\n        core[\"Qb\" /* elementStart */](1, \"td\");\n        core[\"Jc\" /* text */](2);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](3, \"td\");\n        core[\"Jc\" /* text */](4);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](5, \"td\");\n        core[\"Jc\" /* text */](6);\n        core[\"Mb\" /* element */](7, \"br\");\n        core[\"Jc\" /* text */](8);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](9, \"td\");\n        core[\"Jc\" /* text */](10);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](11, \"td\");\n        core[\"Jc\" /* text */](12);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Hc\" /* template */](13, BookingReportListComponent_tr_32_td_13_Template, 3, 4, \"td\", 2);\n        core[\"Qb\" /* elementStart */](14, \"td\");\n        core[\"Jc\" /* text */](15);\n        core[\"fc\" /* pipe */](16, \"date\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](17, \"td\", 3);\n        core[\"Jc\" /* text */](18);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Hc\" /* template */](19, BookingReportListComponent_tr_32_td_19_Template, 2, 1, \"td\", 4);\n        core[\"Hc\" /* template */](20, BookingReportListComponent_tr_32_td_20_Template, 2, 1, \"td\", 4);\n        core[\"Qb\" /* elementStart */](21, \"td\", 3);\n        core[\"Jc\" /* text */](22);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](23, \"td\", 3);\n        core[\"Jc\" /* text */](24);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Hc\" /* template */](25, BookingReportListComponent_tr_32_td_25_Template, 2, 1, \"td\", 2);\n        core[\"Hc\" /* template */](26, BookingReportListComponent_tr_32_td_26_Template, 2, 1, \"td\", 4);\n        core[\"Hc\" /* template */](27, BookingReportListComponent_tr_32_td_27_Template, 2, 5, \"td\", 12);\n        core[\"Hc\" /* template */](28, BookingReportListComponent_tr_32_td_28_Template, 3, 2, \"td\", 2);\n        core[\"Hc\" /* template */](29, BookingReportListComponent_tr_32_td_29_Template, 3, 2, \"td\", 2);\n        core[\"Hc\" /* template */](30, BookingReportListComponent_tr_32_td_30_Template, 2, 1, \"td\", 2);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var rep_r11 = ctx.$implicit;\n        var i_r12 = ctx.index;\n        var ctx_r6 = core[\"ec\" /* nextContext */]();\n        core[\"mc\" /* property */](\"ngClass\", core[\"rc\" /* pureFunction2 */](26, _c1, rep_r11.bookingStatus == \"ROOM_RESERVED\", rep_r11.bookingStatus == \"ROOM_CANCELED\"));\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](i_r12 + 1);\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](rep_r11.hotelName);\n        core[\"zb\" /* advance */](2);\n        core[\"Mc\" /* textInterpolate2 */](\" \", rep_r11.company, \" \", rep_r11.role ? \"[\" + rep_r11.role + \"]\" : \"\", \" \");\n        core[\"zb\" /* advance */](2);\n        core[\"Lc\" /* textInterpolate1 */](\" \", rep_r11.updatedBy ? \"Canceled by : \" + rep_r11.updatedBy : \"\", \" \");\n        core[\"zb\" /* advance */](2);\n        core[\"Mc\" /* textInterpolate2 */](\"\", rep_r11.customerName, \"[\", rep_r11.customerPhone, \"]\");\n        core[\"zb\" /* advance */](2);\n        core[\"Mc\" /* textInterpolate2 */](\"\", rep_r11.roomNumber, \" [\", rep_r11.category, \"]\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r6.serviceType === \"Ship\");\n        core[\"zb\" /* advance */](2);\n        core[\"Lc\" /* textInterpolate1 */](\" \", core[\"hc\" /* pipeBind2 */](16, 23, rep_r11.date, \"d MMM,y\"), \" \");\n        core[\"zb\" /* advance */](3);\n        core[\"Kc\" /* textInterpolate */](rep_r11.price);\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r6.serviceType === \"Hotel\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r6.serviceType === \"Hotel\");\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](rep_r11.paymentMethod);\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](rep_r11.commission);\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r6.serviceType === \"Hotel\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r6.serviceType === \"Hotel\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r6.serviceType === \"Hotel\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r6.serviceType === \"Hotel\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r6.serviceType === \"Ship\" && !ctx_r6.authService.isAgent());\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r6.serviceType === \"Ship\" && ctx_r6.authService.isAgent());\n    }\n}\nfunction BookingReportListComponent_th_41_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Mb\" /* element */](0, \"th\");\n    }\n}\nfunction BookingReportListComponent_th_44_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\", 7);\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r8 = core[\"ec\" /* nextContext */]();\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](ctx_r8.total.totalAdvance);\n    }\n}\nfunction BookingReportListComponent_th_45_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\", 7);\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r9 = core[\"ec\" /* nextContext */]();\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](ctx_r9.total.totalDue);\n    }\n}\nfunction BookingReportListComponent_div_50_th_12_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\");\n        core[\"Jc\" /* text */](1, \"Advance\");\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nfunction BookingReportListComponent_div_50_th_13_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\");\n        core[\"Jc\" /* text */](1, \"Due\");\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nfunction BookingReportListComponent_div_50_tr_14_td_9_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"td\");\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var item_r36 = core[\"ec\" /* nextContext */]().$implicit;\n        var ctx_r37 = core[\"ec\" /* nextContext */](2);\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](ctx_r37.advanceMap.get(item_r36.key));\n    }\n}\nfunction BookingReportListComponent_div_50_tr_14_td_10_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"td\");\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var item_r36 = core[\"ec\" /* nextContext */]().$implicit;\n        var ctx_r38 = core[\"ec\" /* nextContext */](2);\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](ctx_r38.dueMap.get(item_r36.key));\n    }\n}\nfunction BookingReportListComponent_div_50_tr_14_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"tr\");\n        core[\"Qb\" /* elementStart */](1, \"td\");\n        core[\"Jc\" /* text */](2);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](3, \"td\");\n        core[\"Jc\" /* text */](4);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](5, \"td\");\n        core[\"Jc\" /* text */](6);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](7, \"td\");\n        core[\"Jc\" /* text */](8);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Hc\" /* template */](9, BookingReportListComponent_div_50_tr_14_td_9_Template, 2, 1, \"td\", 2);\n        core[\"Hc\" /* template */](10, BookingReportListComponent_div_50_tr_14_td_10_Template, 2, 1, \"td\", 2);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var item_r36 = ctx.$implicit;\n        var ctx_r33 = core[\"ec\" /* nextContext */](2);\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](item_r36.key);\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](ctx_r33.totalSeatMap.get(item_r36.key));\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](ctx_r33.rentMap.get(item_r36.key));\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](ctx_r33.totalCommissionMap.get(item_r36.key));\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r33.serviceType === \"Hotel\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r33.serviceType === \"Hotel\");\n    }\n}\nfunction BookingReportListComponent_div_50_th_25_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\");\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r34 = core[\"ec\" /* nextContext */](2);\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](ctx_r34.total.totalAdvance);\n    }\n}\nfunction BookingReportListComponent_div_50_th_26_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\");\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r35 = core[\"ec\" /* nextContext */](2);\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](ctx_r35.total.totalDue);\n    }\n}\nfunction BookingReportListComponent_div_50_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"div\", 15);\n        core[\"Qb\" /* elementStart */](1, \"div\", 16);\n        core[\"Qb\" /* elementStart */](2, \"table\", 1);\n        core[\"Qb\" /* elementStart */](3, \"tr\");\n        core[\"Qb\" /* elementStart */](4, \"th\");\n        core[\"Jc\" /* text */](5, \"User Name\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](6, \"th\");\n        core[\"Jc\" /* text */](7);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](8, \"th\");\n        core[\"Jc\" /* text */](9, \"Rent\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](10, \"th\");\n        core[\"Jc\" /* text */](11, \"Commission\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Hc\" /* template */](12, BookingReportListComponent_div_50_th_12_Template, 2, 0, \"th\", 2);\n        core[\"Hc\" /* template */](13, BookingReportListComponent_div_50_th_13_Template, 2, 0, \"th\", 2);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Hc\" /* template */](14, BookingReportListComponent_div_50_tr_14_Template, 11, 6, \"tr\", 17);\n        core[\"fc\" /* pipe */](15, \"keyvalue\");\n        core[\"Qb\" /* elementStart */](16, \"tr\");\n        core[\"Qb\" /* elementStart */](17, \"th\");\n        core[\"Jc\" /* text */](18, \"Total\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](19, \"th\");\n        core[\"Jc\" /* text */](20);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](21, \"th\");\n        core[\"Jc\" /* text */](22);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](23, \"th\");\n        core[\"Jc\" /* text */](24);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Hc\" /* template */](25, BookingReportListComponent_div_50_th_25_Template, 2, 1, \"th\", 2);\n        core[\"Hc\" /* template */](26, BookingReportListComponent_div_50_th_26_Template, 2, 1, \"th\", 2);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r10 = core[\"ec\" /* nextContext */]();\n        core[\"zb\" /* advance */](7);\n        core[\"Kc\" /* textInterpolate */](ctx_r10.serviceType === \"Hotel\" ? \"No. of Room\" : \"No. Of Seat\");\n        core[\"zb\" /* advance */](5);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r10.serviceType === \"Hotel\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r10.serviceType === \"Hotel\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngForOf\", core[\"gc\" /* pipeBind1 */](15, 9, ctx_r10.rentMap));\n        core[\"zb\" /* advance */](6);\n        core[\"Kc\" /* textInterpolate */](ctx_r10.total.totalSeatNumber);\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](ctx_r10.total.totalrent);\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](ctx_r10.total.totalCommission);\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r10.serviceType === \"Hotel\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r10.serviceType === \"Hotel\");\n    }\n}\nvar booking_report_list_component_BookingReportListComponent = /** @class */ /*@__PURE__*/ (function () {\n    function BookingReportListComponent(authService) {\n        this.authService = authService;\n        this.rentMap = new Map();\n        this.advanceMap = new Map();\n        this.dueMap = new Map();\n        this.totalSeatMap = new Map();\n        this.totalCommissionMap = new Map();\n    }\n    BookingReportListComponent.prototype.ngOnChanges = function (changes) {\n        if (changes.bookingList && this.bookingList != null) {\n            this.calculateReportList();\n        }\n    };\n    BookingReportListComponent.prototype.calculateReportList = function () {\n        var _this = this;\n        this.total = { totalrent: 0, totalAdvance: 0, totalDue: 0, totalSeatNumber: 0, totalCommission: 0 };\n        this.rentMap = new Map();\n        this.advanceMap = new Map();\n        this.dueMap = new Map();\n        this.totalSeatMap = new Map();\n        this.totalCommissionMap = new Map();\n        this.bookingList.forEach(function (sb) {\n            _this.total.totalrent += sb.price;\n            _this.total.totalAdvance += sb.advance;\n            _this.total.totalDue += sb.due;\n            _this.total.totalCommission += sb.commission;\n            _this.total.totalSeatNumber += sb.numberOfSeat;\n            if (sb.company) {\n                _this.rentMap.set(sb.company, _this.rentMap.get(sb.company) ? _this.rentMap.get(sb.company) + sb.price : sb.price);\n                _this.advanceMap.set(sb.company, _this.advanceMap.get(sb.company) ? _this.advanceMap.get(sb.company) + sb.advance : sb.advance);\n                _this.dueMap.set(sb.company, _this.dueMap.get(sb.company) ? _this.dueMap.get(sb.company) + sb.due : sb.due);\n                // tslint:disable-next-line:max-line-length\n                _this.totalSeatMap.set(sb.company, _this.totalSeatMap.get(sb.company) ? _this.totalSeatMap.get(sb.company) + sb.numberOfSeat : sb.numberOfSeat);\n                // tslint:disable-next-line:max-line-length\n                _this.totalCommissionMap.set(sb.company, _this.totalCommissionMap.get(sb.company) ? _this.totalCommissionMap.get(sb.company) + sb.commission : sb.commission);\n            }\n        });\n    };\n    BookingReportListComponent.fac = function BookingReportListComponent_Factory(t) { return new (t || BookingReportListComponent)(core[\"Lb\" /* directiveInject */](auth_service[\"a\" /* AuthService */])); };\n    BookingReportListComponent.cmp = core[\"Fb\" /* defineComponent */]({ type: BookingReportListComponent, selectors: [[\"booking-report-list\"]], inputs: { title: \"title\", bookingList: \"bookingList\", serviceType: \"serviceType\" }, features: [core[\"xb\" /* NgOnChangesFeature */]], decls: 51, vars: 18, consts: [[1, \"text-center\"], [1, \"table\", \"table-bordered\", \"table-hover\", \"table-responsive-sm\"], [4, \"ngIf\"], [1, \"text-right\"], [\"class\", \"text-right\", 4, \"ngIf\"], [3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [\"colspan\", \"3\"], [2, \"text-align\", \"center\"], [\"style\", \"text-align: center;\", 4, \"ngIf\"], [\"colspan\", \"4\"], [\"class\", \"row\", 4, \"ngIf\"], [3, \"ngClass\"], [\"class\", \"text-white\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"text-white\", 3, \"ngClass\"], [\"target\", \"_blank\", 3, \"routerLink\"], [1, \"row\"], [1, \"col-auto\"], [4, \"ngFor\", \"ngForOf\"]], template: function BookingReportListComponent_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Qb\" /* elementStart */](0, \"h3\", 0);\n                core[\"Jc\" /* text */](1);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](2, \"table\", 1);\n                core[\"Qb\" /* elementStart */](3, \"thead\");\n                core[\"Qb\" /* elementStart */](4, \"tr\");\n                core[\"Qb\" /* elementStart */](5, \"th\");\n                core[\"Jc\" /* text */](6, \"#\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](7, \"th\");\n                core[\"Jc\" /* text */](8);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](9, \"th\");\n                core[\"Jc\" /* text */](10, \"Sold by\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](11, \"th\");\n                core[\"Jc\" /* text */](12, \"Customer\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](13, \"th\");\n                core[\"Jc\" /* text */](14);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Hc\" /* template */](15, BookingReportListComponent_th_15_Template, 2, 0, \"th\", 2);\n                core[\"Qb\" /* elementStart */](16, \"th\", 3);\n                core[\"Jc\" /* text */](17);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](18, \"th\", 3);\n                core[\"Jc\" /* text */](19, \"Price\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Hc\" /* template */](20, BookingReportListComponent_th_20_Template, 2, 0, \"th\", 4);\n                core[\"Hc\" /* template */](21, BookingReportListComponent_th_21_Template, 2, 0, \"th\", 4);\n                core[\"Qb\" /* elementStart */](22, \"th\", 3);\n                core[\"Jc\" /* text */](23, \"Payment Method\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](24, \"th\", 3);\n                core[\"Jc\" /* text */](25, \"Commission\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Hc\" /* template */](26, BookingReportListComponent_th_26_Template, 2, 0, \"th\", 2);\n                core[\"Hc\" /* template */](27, BookingReportListComponent_th_27_Template, 2, 0, \"th\", 4);\n                core[\"Hc\" /* template */](28, BookingReportListComponent_th_28_Template, 2, 0, \"th\", 2);\n                core[\"Qb\" /* elementStart */](29, \"th\");\n                core[\"Jc\" /* text */](30, \"Id\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](31, \"tbody\");\n                core[\"Hc\" /* template */](32, BookingReportListComponent_tr_32_Template, 31, 29, \"tr\", 5);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](33, \"tfoot\");\n                core[\"Qb\" /* elementStart */](34, \"tr\");\n                core[\"Mb\" /* element */](35, \"td\", 6);\n                core[\"Qb\" /* elementStart */](36, \"th\");\n                core[\"Jc\" /* text */](37, \"Total\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](38, \"th\", 7);\n                core[\"Jc\" /* text */](39);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Mb\" /* element */](40, \"th\");\n                core[\"Hc\" /* template */](41, BookingReportListComponent_th_41_Template, 1, 0, \"th\", 2);\n                core[\"Qb\" /* elementStart */](42, \"th\", 7);\n                core[\"Jc\" /* text */](43);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Hc\" /* template */](44, BookingReportListComponent_th_44_Template, 2, 1, \"th\", 8);\n                core[\"Hc\" /* template */](45, BookingReportListComponent_th_45_Template, 2, 1, \"th\", 8);\n                core[\"Mb\" /* element */](46, \"th\");\n                core[\"Qb\" /* elementStart */](47, \"th\", 7);\n                core[\"Jc\" /* text */](48);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Mb\" /* element */](49, \"th\", 9);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Hc\" /* template */](50, BookingReportListComponent_div_50_Template, 27, 11, \"div\", 10);\n            }\n            if (rf & 2) {\n                core[\"zb\" /* advance */](1);\n                core[\"Lc\" /* textInterpolate1 */](\" \", ctx.title, \"\\n\");\n                core[\"zb\" /* advance */](7);\n                core[\"Kc\" /* textInterpolate */](ctx.serviceType === \"Ship\" ? \"Ship Name\" : \"Hotel Name\");\n                core[\"zb\" /* advance */](6);\n                core[\"Kc\" /* textInterpolate */](ctx.serviceType === \"Ship\" ? \"Seat No.\" : \"Room No.\");\n                core[\"zb\" /* advance */](1);\n                core[\"mc\" /* property */](\"ngIf\", ctx.serviceType === \"Ship\");\n                core[\"zb\" /* advance */](2);\n                core[\"Kc\" /* textInterpolate */](ctx.serviceType === \"Ship\" ? \"Journey Date\" : \"Checkin Date\");\n                core[\"zb\" /* advance */](3);\n                core[\"mc\" /* property */](\"ngIf\", ctx.serviceType === \"Hotel\");\n                core[\"zb\" /* advance */](1);\n                core[\"mc\" /* property */](\"ngIf\", ctx.serviceType === \"Hotel\");\n                core[\"zb\" /* advance */](5);\n                core[\"mc\" /* property */](\"ngIf\", ctx.serviceType === \"Hotel\");\n                core[\"zb\" /* advance */](1);\n                core[\"mc\" /* property */](\"ngIf\", ctx.serviceType === \"Hotel\");\n                core[\"zb\" /* advance */](1);\n                core[\"mc\" /* property */](\"ngIf\", ctx.serviceType === \"Hotel\");\n                core[\"zb\" /* advance */](4);\n                core[\"mc\" /* property */](\"ngForOf\", ctx.bookingList);\n                core[\"zb\" /* advance */](7);\n                core[\"Kc\" /* textInterpolate */](ctx.total.totalSeatNumber);\n                core[\"zb\" /* advance */](2);\n                core[\"mc\" /* property */](\"ngIf\", ctx.serviceType === \"Ship\");\n                core[\"zb\" /* advance */](2);\n                core[\"Kc\" /* textInterpolate */](ctx.total.totalrent);\n                core[\"zb\" /* advance */](1);\n                core[\"mc\" /* property */](\"ngIf\", ctx.serviceType === \"Hotel\");\n                core[\"zb\" /* advance */](1);\n                core[\"mc\" /* property */](\"ngIf\", ctx.serviceType === \"Hotel\");\n                core[\"zb\" /* advance */](3);\n                core[\"Kc\" /* textInterpolate */](ctx.total.totalCommission);\n                core[\"zb\" /* advance */](2);\n                core[\"mc\" /* property */](\"ngIf\", !ctx.authService.hasRole(\"SERVICE_AGENT_SHIP\") && !ctx.authService.hasRole(\"OFFICE_AGENT\"));\n            }\n        }, directives: [common[\"p\" /* NgIf */], common[\"o\" /* NgForOf */], common[\"n\" /* NgClass */], router[\"c\" /* RouterLinkWithHref */]], pipes: [common[\"f\" /* DatePipe */], common[\"j\" /* KeyValuePipe */]], styles: [\".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:3px;font-size:14px}\"] });\n    return BookingReportListComponent;\n}());\n\n\n// CONCATENATED MODULE: ./src/dashboard/admin/admin-report/containers/booking-report/booking-report.component.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try {\n            step(generator.next(value));\n        }\n        catch (e) {\n            reject(e);\n        } }\n        function rejected(value) { try {\n            step(generator[\"throw\"](value));\n        }\n        catch (e) {\n            reject(e);\n        } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function () { if (t[0] & 1)\n            throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f)\n            throw new TypeError(\"Generator is already executing.\");\n        while (_)\n            try {\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)\n                    return t;\n                if (y = 0, t)\n                    op = [op[0] & 2, t.value];\n                switch (op[0]) {\n                    case 0:\n                    case 1:\n                        t = op;\n                        break;\n                    case 4:\n                        _.label++;\n                        return { value: op[1], done: false };\n                    case 5:\n                        _.label++;\n                        y = op[1];\n                        op = [0];\n                        continue;\n                    case 7:\n                        op = _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                    default:\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                            _ = 0;\n                            continue;\n                        }\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                            _.label = op[1];\n                            break;\n                        }\n                        if (op[0] === 6 && _.label < t[1]) {\n                            _.label = t[1];\n                            t = op;\n                            break;\n                        }\n                        if (t && _.label < t[2]) {\n                            _.label = t[2];\n                            _.ops.push(op);\n                            break;\n                        }\n                        if (t[2])\n                            _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                }\n                op = body.call(thisArg, _);\n            }\n            catch (e) {\n                op = [6, e];\n                y = 0;\n            }\n            finally {\n                f = t = 0;\n            }\n        if (op[0] & 5)\n            throw op[1];\n        return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction BookingReportComponent_option_29_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"option\", 36);\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r1 = core[\"ec\" /* nextContext */]();\n        core[\"zb\" /* advance */](1);\n        core[\"Lc\" /* textInterpolate1 */](\"\", ctx_r1.checkinText, \" Date\");\n    }\n}\nfunction BookingReportComponent_div_34_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"div\", 6);\n        core[\"Qb\" /* elementStart */](1, \"div\", 7);\n        core[\"Jc\" /* text */](2, \"Role\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nfunction BookingReportComponent_option_38_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"option\", 37);\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var role_r9 = ctx.$implicit;\n        core[\"mc\" /* property */](\"value\", role_r9.name);\n        core[\"zb\" /* advance */](1);\n        core[\"Lc\" /* textInterpolate1 */](\" \", role_r9.name, \" \");\n    }\n}\nfunction BookingReportComponent_option_45_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"option\", 38);\n        core[\"Jc\" /* text */](1, \" Reserved \");\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nfunction BookingReportComponent_div_54_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"div\");\n        core[\"Mb\" /* element */](1, \"loading\", 39);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r5 = core[\"ec\" /* nextContext */]();\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"message\", ctx_r5.message);\n    }\n}\nfunction BookingReportComponent_ng_container_55_booking_report_list_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Mb\" /* element */](0, \"booking-report-list\", 41);\n    }\n    if (rf & 2) {\n        var ctx_r10 = core[\"ec\" /* nextContext */](2);\n        core[\"mc\" /* property */](\"title\", ctx_r10.reportHead)(\"bookingList\", ctx_r10.serviceAdminBookingReportList)(\"serviceType\", ctx_r10.selectedList[0].id);\n    }\n}\nfunction BookingReportComponent_ng_container_55_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ob\" /* elementContainerStart */](0);\n        core[\"Hc\" /* template */](1, BookingReportComponent_ng_container_55_booking_report_list_1_Template, 1, 3, \"booking-report-list\", 40);\n        core[\"Nb\" /* elementContainerEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r6 = core[\"ec\" /* nextContext */]();\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r6.selectedList != null && ctx_r6.selectedList.length > 0);\n    }\n}\nfunction BookingReportComponent_ng_template_56_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"h4\", 42);\n        core[\"Mb\" /* element */](1, \"i\", 43);\n        core[\"Jc\" /* text */](2, \" No record yet \");\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nvar booking_report_component_BookingReportComponent = /** @class */ /*@__PURE__*/ (function () {\n    function BookingReportComponent(reportService, utilService, authService, restDataService) {\n        this.reportService = reportService;\n        this.utilService = utilService;\n        this.authService = authService;\n        this.restDataService = restDataService;\n        this.savedList = [];\n        this.serviceAdminBookingReportList = [];\n        this.reportType = 'Booking';\n        this.checkinText = 'Checkin';\n        this.allText = 'All';\n        this.filterRole = 'All';\n        this.filterServiceName = 'All';\n        this.filterBookingStatus = 'ROOM_SOLD';\n        this.reportHead = '';\n        this.loading = false;\n        this.dropdownData = [];\n        this.selectedList = [];\n        this.serviceTypes = [];\n        this.dropdownServiceNameData = [];\n        this.selectedServiceNameList = [];\n    }\n    BookingReportComponent.prototype.ngOnInit = function () {\n        this.dropdownSettings = {\n            singleSelection: true,\n            idField: 'id',\n            textField: 'name',\n            selectAllText: 'Select All',\n            unSelectAllText: 'UnSelect All',\n            itemsShowLimit: 3,\n            allowSearchFilter: true\n        };\n        this.setDate();\n        this.getServiceTypeList();\n        this.loadRoleDropdown();\n    };\n    BookingReportComponent.prototype.getServiceTypeList = function () {\n        var _this = this;\n        try {\n            this.restDataService.sendAuthenticateGetRequestObserver('api/v1/admin/reports/service-type', '').subscribe(function (data) {\n                _this.responseModel = data;\n                _this.serviceTypes = _this.responseModel.content;\n                var listTest = [];\n                var selectedVal = [];\n                // tslint:disable-next-line:prefer-for-of\n                for (var i = 0; i < _this.serviceTypes.length; i++) {\n                    // tslint:disable-next-line:max-line-length\n                    if (i === 0) {\n                        // @ts-ignore\n                        selectedVal.push({ id: _this.serviceTypes[i], name: _this.serviceTypes[i] });\n                    }\n                    var dropdownItemName = { id: _this.serviceTypes[i], name: _this.serviceTypes[i] };\n                    listTest.push(dropdownItemName);\n                    // this.dropdownList.push(dropdownItemName);\n                }\n                _this.dropdownData = listTest;\n                _this.selectedList = selectedVal;\n                _this.onLoad(0);\n            });\n        }\n        catch (err) {\n            console.log(err);\n        }\n    };\n    BookingReportComponent.prototype.setDate = function () {\n        var now = new Date();\n        this.date = {\n            year: now.getFullYear(),\n            month: now.getMonth() + 1,\n            day: now.getDate()\n        };\n    };\n    BookingReportComponent.prototype.getDate = function () {\n        return this.date.day + '-' + this.date.month + '-' + this.date.year;\n    };\n    BookingReportComponent.prototype.onLoad = function (day) {\n        var serviceType = null;\n        if (this.selectedList !== null && this.selectedList.length > 0) {\n            serviceType = this.selectedList[0].id;\n        }\n        if (serviceType !== null) {\n            var date = new Date(this.date.year, this.date.month - 1, this.date.day + day);\n            this.date = this.utilService.convertJsDateToNgbDate(date);\n            switch (this.reportType) {\n                case 'Reservation':\n                    this.getAdminBookingReport(this.date, serviceType, 0, 0);\n                    break;\n                case 'Booking':\n                    this.getAdminBookingReport(this.date, serviceType, 1, 0);\n                    break;\n                case 'Checkin':\n                    this.getAdminBookingReport(this.date, serviceType, 0, 1);\n                    break;\n            }\n        }\n    };\n    BookingReportComponent.prototype.onTypeChange = function (value) {\n        this.reportType = value;\n        this.onLoad(0);\n    };\n    BookingReportComponent.prototype.onPrint = function () {\n        window.print();\n    };\n    BookingReportComponent.prototype.onFilterChange = function () {\n        var _this = this;\n        if (this.selectedServiceNameList.length > 0) {\n            switch (this.filterRole) {\n                case 'All':\n                    this.serviceAdminBookingReportList = this.savedList;\n                    break;\n                default:\n                    this.serviceAdminBookingReportList = this.savedList.filter(function (sl) { return sl.role === _this.filterRole; });\n            }\n            var serviceName_1 = this.selectedServiceNameList[0].name;\n            // Filter by status\n            if (this.filterBookingStatus) {\n                this.serviceAdminBookingReportList = this.serviceAdminBookingReportList.filter(function (sa) { return sa.bookingStatus === _this.filterBookingStatus; });\n            }\n            if (serviceName_1) {\n                switch (serviceName_1) {\n                    case 'All':\n                        break;\n                    default:\n                        // tslint:disable-next-line:max-line-length\n                        this.serviceAdminBookingReportList = this.serviceAdminBookingReportList.filter(function (sl) { return sl.hotelName === serviceName_1; });\n                }\n            }\n        }\n    };\n    BookingReportComponent.prototype.getAdminBookingReport = function (date, serviceType, isSaleDate, isCheckinDate) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.loading = true;\n                        // tslint:disable-next-line:max-line-length\n                        return [4 /*yield*/, this.reportService.getAdminBookingReport(this.utilService.makeDateString(date), serviceType, isSaleDate, isCheckinDate).subscribe(function (data) {\n                                _this.savedList = data;\n                                _this.savedList.sort(_this.utilService.dynamicSortObject('date'));\n                                _this.savedList.sort(_this.utilService.dynamicSortObject('roomNumber'));\n                                _this.onFilterChange();\n                                _this.reportHead = 'Booking report for date of : ' + _this.getDate();\n                                _this.loading = false;\n                            })];\n                    case 1:\n                        // tslint:disable-next-line:max-line-length\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    BookingReportComponent.prototype.loadServiceNameDropdown = function (event) {\n        var _this = this;\n        if (event != null && event.length > 0) {\n            try {\n                if (event[0].id === 'Ship') {\n                    this.checkinText = 'Journey';\n                    this.allText = '';\n                }\n                else if (event[0].id === 'Hotel') {\n                    this.checkinText = 'Checkin';\n                    this.allText = 'All';\n                }\n                this.selectedList = event;\n                this.onLoad(0);\n                // tslint:disable-next-line:max-line-length\n                this.restDataService.sendAuthenticateGetRequestObserver('api/v1/admin/reports/service-dropdown/' + event[0].id, '').subscribe(function (data) {\n                    _this.responseModel = data;\n                    _this.serviceNames = _this.responseModel.content;\n                    var listTest = [];\n                    listTest.push({ id: '', name: 'All' });\n                    // tslint:disable-next-line:prefer-for-of\n                    for (var i = 0; i < _this.serviceNames.length; i++) {\n                        // tslint:disable-next-line:max-line-length\n                        var dropdownItemName = { id: _this.serviceNames[i].id, name: _this.serviceNames[i].serviceName };\n                        listTest.push(dropdownItemName);\n                        // this.dropdownList.push(dropdownItemName);\n                    }\n                    _this.dropdownServiceNameData = listTest;\n                    _this.selectedServiceNameList = [{ id: '', name: 'All' }];\n                });\n            }\n            catch (err) {\n                console.log(err);\n            }\n        }\n    };\n    BookingReportComponent.prototype.loadRoleDropdown = function () {\n        var _this = this;\n        try {\n            this.restDataService.sendAuthenticateGetRequestObserver('api/v1/admin/reports/role-dropdown', '').subscribe(function (data) {\n                _this.responseModel = data;\n                _this.roles = _this.responseModel.content;\n            });\n        }\n        catch (err) {\n            console.log(err);\n        }\n    };\n    BookingReportComponent.fac = function BookingReportComponent_Factory(t) { return new (t || BookingReportComponent)(core[\"Lb\" /* directiveInject */](report_service[\"a\" /* ReportService */]), core[\"Lb\" /* directiveInject */](util_service[\"a\" /* UtilService */]), core[\"Lb\" /* directiveInject */](auth_service[\"a\" /* AuthService */]), core[\"Lb\" /* directiveInject */](rest_data_service[\"a\" /* RestDataService */])); };\n    BookingReportComponent.cmp = core[\"Fb\" /* defineComponent */]({ type: BookingReportComponent, selectors: [[\"app-booking-report\"]], decls: 58, vars: 21, consts: [[1, \"container-fluid\", \"d-print-none\"], [1, \"row\", \"px-3\", \"details-title\", \"text-left\"], [1, \"container-fluid\"], [1, \"row\", \"d-print-none\"], [1, \"col-sm-2\", \"p-0\", 2, \"margin-left\", \"2px!important\"], [1, \"input-group\", \"mb-2\"], [1, \"input-group-prepend\"], [1, \"input-group-text\"], [\"placeholder\", \"yyyy-mm-dd\", \"name\", \"dp\", \"id\", \"reportDate\", \"ngbDatepicker\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"dateSelect\", \"click\"], [\"d\", \"ngbDatepicker\"], [1, \"input-group-append\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", 3, \"click\"], [1, \"fa\", \"fa-calendar\"], [\"id\", \"serviceType\", \"name\", \"serviceType\", 2, \"width\", \"100%\", 3, \"placeholder\", \"settings\", \"data\", \"ngModel\", \"ngModelChange\"], [\"id\", \"serviceName\", \"name\", \"serviceName\", 2, \"width\", \"100%\", 3, \"placeholder\", \"settings\", \"data\", \"ngModel\", \"ngModelChange\"], [\"id\", \"reportType\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"Booking\"], [\"value\", \"Checkin\", 4, \"ngIf\"], [\"value\", \"Reservation\"], [1, \"col-sm-3\", \"p-0\", 2, \"margin-left\", \"2px!important\"], [\"class\", \"input-group-prepend\", 4, \"ngIf\"], [\"id\", \"role\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"All\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"status\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"ROOM_SOLD\"], [\"value\", \"ROOM_RESERVED\", 4, \"ngIf\"], [\"value\", \"ROOM_CANCELED\"], [1, \"col-auto\"], [1, \"btn\", \"btn-sm\", \"btn-primary\", 3, \"click\"], [1, \"fa\", \"fa-print\"], [1, \"row\"], [1, \"col-12\"], [4, \"ngIf\"], [4, \"ngIf\", \"ngIfElse\"], [\"noRecord\", \"\"], [\"value\", \"Checkin\"], [3, \"value\"], [\"value\", \"ROOM_RESERVED\"], [3, \"message\"], [3, \"title\", \"bookingList\", \"serviceType\", 4, \"ngIf\"], [3, \"title\", \"bookingList\", \"serviceType\"], [1, \"text-center\"], [1, \"fa\", \"fa-frown-o\"]], template: function BookingReportComponent_Template(rf, ctx) {\n            if (rf & 1) {\n                var _r11 = core[\"Rb\" /* getCurrentView */]();\n                core[\"Qb\" /* elementStart */](0, \"div\", 0);\n                core[\"Qb\" /* elementStart */](1, \"span\", 1);\n                core[\"Jc\" /* text */](2, \"Booking report\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](3, \"div\", 2);\n                core[\"Qb\" /* elementStart */](4, \"div\", 3);\n                core[\"Qb\" /* elementStart */](5, \"div\", 4);\n                core[\"Qb\" /* elementStart */](6, \"div\", 5);\n                core[\"Qb\" /* elementStart */](7, \"div\", 6);\n                core[\"Qb\" /* elementStart */](8, \"div\", 7);\n                core[\"Jc\" /* text */](9, \"Date\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](10, \"input\", 8, 9);\n                core[\"bc\" /* listener */](\"ngModelChange\", function BookingReportComponent_Template_input_ngModelChange_10_listener($event) { return ctx.date = $event; })(\"dateSelect\", function BookingReportComponent_Template_input_dateSelect_10_listener() { return ctx.onLoad(0); })(\"click\", function BookingReportComponent_Template_input_click_10_listener() { core[\"yc\" /* restoreView */](_r11); var _r0 = core[\"wc\" /* reference */](11); return _r0.toggle(); });\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](12, \"div\", 10);\n                core[\"Qb\" /* elementStart */](13, \"button\", 11);\n                core[\"bc\" /* listener */](\"click\", function BookingReportComponent_Template_button_click_13_listener() { core[\"yc\" /* restoreView */](_r11); var _r0 = core[\"wc\" /* reference */](11); return _r0.toggle(); });\n                core[\"Mb\" /* element */](14, \"i\", 12);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](15, \"div\", 4);\n                core[\"Qb\" /* elementStart */](16, \"div\", 5);\n                core[\"Qb\" /* elementStart */](17, \"ng-multiselect-dropdown\", 13);\n                core[\"bc\" /* listener */](\"ngModelChange\", function BookingReportComponent_Template_ng_multiselect_dropdown_ngModelChange_17_listener($event) { return ctx.loadServiceNameDropdown($event); })(\"ngModelChange\", function BookingReportComponent_Template_ng_multiselect_dropdown_ngModelChange_17_listener($event) { return ctx.selectedList = $event; });\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](18, \"div\", 4);\n                core[\"Qb\" /* elementStart */](19, \"div\", 5);\n                core[\"Qb\" /* elementStart */](20, \"ng-multiselect-dropdown\", 14);\n                core[\"bc\" /* listener */](\"ngModelChange\", function BookingReportComponent_Template_ng_multiselect_dropdown_ngModelChange_20_listener($event) { return ctx.selectedServiceNameList = $event; })(\"ngModelChange\", function BookingReportComponent_Template_ng_multiselect_dropdown_ngModelChange_20_listener() { return ctx.onFilterChange(); });\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](21, \"div\", 4);\n                core[\"Qb\" /* elementStart */](22, \"div\", 5);\n                core[\"Qb\" /* elementStart */](23, \"div\", 6);\n                core[\"Qb\" /* elementStart */](24, \"div\", 7);\n                core[\"Jc\" /* text */](25, \"Type\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](26, \"select\", 15);\n                core[\"bc\" /* listener */](\"ngModelChange\", function BookingReportComponent_Template_select_ngModelChange_26_listener($event) { return ctx.reportType = $event; })(\"change\", function BookingReportComponent_Template_select_change_26_listener($event) { return ctx.onTypeChange($event.target.value); });\n                core[\"Qb\" /* elementStart */](27, \"option\", 16);\n                core[\"Jc\" /* text */](28, \" Sale date \");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Hc\" /* template */](29, BookingReportComponent_option_29_Template, 2, 1, \"option\", 17);\n                core[\"Qb\" /* elementStart */](30, \"option\", 18);\n                core[\"Jc\" /* text */](31);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](32, \"div\", 19);\n                core[\"Qb\" /* elementStart */](33, \"div\", 5);\n                core[\"Hc\" /* template */](34, BookingReportComponent_div_34_Template, 3, 0, \"div\", 20);\n                core[\"Qb\" /* elementStart */](35, \"select\", 21);\n                core[\"bc\" /* listener */](\"ngModelChange\", function BookingReportComponent_Template_select_ngModelChange_35_listener($event) { return ctx.filterRole = $event; })(\"change\", function BookingReportComponent_Template_select_change_35_listener() { return ctx.onFilterChange(); });\n                core[\"Qb\" /* elementStart */](36, \"option\", 22);\n                core[\"Jc\" /* text */](37, \"All\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Hc\" /* template */](38, BookingReportComponent_option_38_Template, 2, 2, \"option\", 23);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](39, \"div\", 6);\n                core[\"Qb\" /* elementStart */](40, \"div\", 7);\n                core[\"Jc\" /* text */](41, \"Status\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](42, \"select\", 24);\n                core[\"bc\" /* listener */](\"ngModelChange\", function BookingReportComponent_Template_select_ngModelChange_42_listener($event) { return ctx.filterBookingStatus = $event; })(\"change\", function BookingReportComponent_Template_select_change_42_listener() { return ctx.onFilterChange(); });\n                core[\"Qb\" /* elementStart */](43, \"option\", 25);\n                core[\"Jc\" /* text */](44, \" Sold \");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Hc\" /* template */](45, BookingReportComponent_option_45_Template, 2, 0, \"option\", 26);\n                core[\"Qb\" /* elementStart */](46, \"option\", 27);\n                core[\"Jc\" /* text */](47, \" Canceled \");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](48, \"div\", 28);\n                core[\"Qb\" /* elementStart */](49, \"button\", 29);\n                core[\"bc\" /* listener */](\"click\", function BookingReportComponent_Template_button_click_49_listener() { return ctx.onPrint(); });\n                core[\"Mb\" /* element */](50, \"i\", 30);\n                core[\"Jc\" /* text */](51, \" Print \");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](52, \"div\", 31);\n                core[\"Qb\" /* elementStart */](53, \"div\", 32);\n                core[\"Hc\" /* template */](54, BookingReportComponent_div_54_Template, 2, 1, \"div\", 33);\n                core[\"Hc\" /* template */](55, BookingReportComponent_ng_container_55_Template, 2, 1, \"ng-container\", 34);\n                core[\"Hc\" /* template */](56, BookingReportComponent_ng_template_56_Template, 3, 0, \"ng-template\", null, 35, core[\"Ic\" /* templateRefExtractor */]);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n            }\n            if (rf & 2) {\n                var _r7 = core[\"wc\" /* reference */](57);\n                core[\"zb\" /* advance */](10);\n                core[\"mc\" /* property */](\"ngModel\", ctx.date);\n                core[\"zb\" /* advance */](7);\n                core[\"mc\" /* property */](\"placeholder\", \"Select Service Type\")(\"settings\", ctx.dropdownSettings)(\"data\", ctx.dropdownData)(\"ngModel\", ctx.selectedList);\n                core[\"zb\" /* advance */](3);\n                core[\"mc\" /* property */](\"placeholder\", \"Select Service Name\")(\"settings\", ctx.dropdownSettings)(\"data\", ctx.dropdownServiceNameData)(\"ngModel\", ctx.selectedServiceNameList);\n                core[\"zb\" /* advance */](6);\n                core[\"mc\" /* property */](\"ngModel\", ctx.reportType);\n                core[\"zb\" /* advance */](3);\n                core[\"mc\" /* property */](\"ngIf\", ctx.selectedList != null && ctx.selectedList.length > 0 && ctx.selectedList[0].id === \"Hotel\");\n                core[\"zb\" /* advance */](2);\n                core[\"Mc\" /* textInterpolate2 */](\" \", ctx.checkinText, \" Date \", ctx.allText, \"\");\n                core[\"zb\" /* advance */](3);\n                core[\"mc\" /* property */](\"ngIf\", !ctx.authService.hasRole(\"SERVICE_AGENT_SHIP\") && !ctx.authService.hasRole(\"B2B_AGENT\") && !ctx.authService.hasRole(\"SERVICE_AGENT_HOTEL\") && !ctx.authService.hasRole(\"OFFICE_AGENT\"));\n                core[\"zb\" /* advance */](1);\n                core[\"mc\" /* property */](\"ngModel\", ctx.filterRole);\n                core[\"zb\" /* advance */](3);\n                core[\"mc\" /* property */](\"ngForOf\", ctx.roles);\n                core[\"zb\" /* advance */](4);\n                core[\"mc\" /* property */](\"ngModel\", ctx.filterBookingStatus);\n                core[\"zb\" /* advance */](3);\n                core[\"mc\" /* property */](\"ngIf\", !ctx.authService.hasRole(\"SERVICE_AGENT_SHIP\") && !ctx.authService.hasRole(\"B2B_AGENT\") && !ctx.authService.hasRole(\"B2B_COUNTER\") && !ctx.authService.hasRole(\"SERVICE_AGENT_HOTEL\") && !ctx.authService.hasRole(\"OFFICE_AGENT\"));\n                core[\"zb\" /* advance */](9);\n                core[\"mc\" /* property */](\"ngIf\", ctx.loading);\n                core[\"zb\" /* advance */](1);\n                core[\"mc\" /* property */](\"ngIf\", ctx.serviceAdminBookingReportList.length > 0 && !ctx.loading)(\"ngIfElse\", _r7);\n            }\n        }, directives: [ng_bootstrap[\"j\" /* NgbInputDatepicker */], fesm2015_forms[\"b\" /* DefaultValueAccessor */], fesm2015_forms[\"n\" /* NgControlStatus */], fesm2015_forms[\"q\" /* NgModel */], ng_multiselect_dropdown[\"a\" /* MultiSelectComponent */], fesm2015_forms[\"v\" /* SelectControlValueAccessor */], fesm2015_forms[\"r\" /* NgSelectOption */], fesm2015_forms[\"x\" /* angular_packages_forms_forms_x */], common[\"p\" /* NgIf */], common[\"o\" /* NgForOf */], loading_component[\"a\" /* LoadingComponent */], booking_report_list_component_BookingReportListComponent], styles: [\"\"] });\n    return BookingReportComponent;\n}());\n\n\n// EXTERNAL MODULE: ./node_modules/ngx-toastr/fesm2015/ngx-toastr.js\nvar ngx_toastr = __webpack_require__(\"EApP\");\n\n// EXTERNAL MODULE: ./node_modules/ng2-daterangepicker/fesm2015/ng2-daterangepicker.js\nvar ng2_daterangepicker = __webpack_require__(\"53Co\");\n\n// CONCATENATED MODULE: ./src/dashboard/admin/admin-report/containers/booking-range-report/booking-range-report.component.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction BookingRangeReportComponent_div_31_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"div\", 22);\n        core[\"Mb\" /* element */](1, \"loading\");\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nfunction BookingRangeReportComponent_div_32_th_14_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\", 25);\n        core[\"Jc\" /* text */](1, \"Advance\");\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nfunction BookingRangeReportComponent_div_32_th_15_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\", 25);\n        core[\"Jc\" /* text */](1, \"Due\");\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nfunction BookingRangeReportComponent_div_32_tr_17_td_11_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"td\", 25);\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var rep_r7 = core[\"ec\" /* nextContext */]().$implicit;\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](rep_r7.totalAdvance);\n    }\n}\nfunction BookingRangeReportComponent_div_32_tr_17_td_12_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"td\", 25);\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var rep_r7 = core[\"ec\" /* nextContext */]().$implicit;\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](rep_r7.totalDue);\n    }\n}\nfunction BookingRangeReportComponent_div_32_tr_17_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"tr\");\n        core[\"Qb\" /* elementStart */](1, \"td\");\n        core[\"Jc\" /* text */](2);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](3, \"td\");\n        core[\"Jc\" /* text */](4);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](5, \"td\");\n        core[\"Jc\" /* text */](6);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](7, \"td\", 25);\n        core[\"Jc\" /* text */](8);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](9, \"td\", 25);\n        core[\"Jc\" /* text */](10);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Hc\" /* template */](11, BookingRangeReportComponent_div_32_tr_17_td_11_Template, 2, 1, \"td\", 26);\n        core[\"Hc\" /* template */](12, BookingRangeReportComponent_div_32_tr_17_td_12_Template, 2, 1, \"td\", 26);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var rep_r7 = ctx.$implicit;\n        var i_r8 = ctx.index;\n        var ctx_r4 = core[\"ec\" /* nextContext */](2);\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](i_r8 + 1);\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](rep_r7 == null ? null : rep_r7.date);\n        core[\"zb\" /* advance */](2);\n        core[\"Lc\" /* textInterpolate1 */](\" \", rep_r7.hotelName, \" \");\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](rep_r7.totalNumberOfRooms);\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](rep_r7.totalRent);\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r4.checkinText !== \"Journey\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r4.checkinText !== \"Journey\");\n    }\n}\nfunction BookingRangeReportComponent_div_32_td_27_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"td\", 25);\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r5 = core[\"ec\" /* nextContext */](2);\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](ctx_r5.getSum(\"totalAdvance\"));\n    }\n}\nfunction BookingRangeReportComponent_div_32_td_28_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"td\", 25);\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r6 = core[\"ec\" /* nextContext */](2);\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](ctx_r6.getSum(\"totalDue\"));\n    }\n}\nfunction BookingRangeReportComponent_div_32_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"div\", 23);\n        core[\"Qb\" /* elementStart */](1, \"table\", 24);\n        core[\"Qb\" /* elementStart */](2, \"thead\");\n        core[\"Qb\" /* elementStart */](3, \"tr\");\n        core[\"Qb\" /* elementStart */](4, \"th\");\n        core[\"Jc\" /* text */](5, \"Sl.\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](6, \"th\");\n        core[\"Jc\" /* text */](7, \"Date\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](8, \"th\");\n        core[\"Jc\" /* text */](9);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](10, \"th\", 25);\n        core[\"Jc\" /* text */](11);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](12, \"th\", 25);\n        core[\"Jc\" /* text */](13, \"Rent\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Hc\" /* template */](14, BookingRangeReportComponent_div_32_th_14_Template, 2, 0, \"th\", 26);\n        core[\"Hc\" /* template */](15, BookingRangeReportComponent_div_32_th_15_Template, 2, 0, \"th\", 26);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](16, \"tbody\");\n        core[\"Hc\" /* template */](17, BookingRangeReportComponent_div_32_tr_17_Template, 13, 7, \"tr\", 27);\n        core[\"Qb\" /* elementStart */](18, \"tr\");\n        core[\"Mb\" /* element */](19, \"td\");\n        core[\"Mb\" /* element */](20, \"td\");\n        core[\"Qb\" /* elementStart */](21, \"td\", 25);\n        core[\"Jc\" /* text */](22, \"Total\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](23, \"td\", 25);\n        core[\"Jc\" /* text */](24);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](25, \"td\", 25);\n        core[\"Jc\" /* text */](26);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Hc\" /* template */](27, BookingRangeReportComponent_div_32_td_27_Template, 2, 1, \"td\", 26);\n        core[\"Hc\" /* template */](28, BookingRangeReportComponent_div_32_td_28_Template, 2, 1, \"td\", 26);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r1 = core[\"ec\" /* nextContext */]();\n        core[\"zb\" /* advance */](9);\n        core[\"Kc\" /* textInterpolate */](ctx_r1.checkinText == \"Journey\" ? \"Ship Name\" : \"Hotel Name\");\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](ctx_r1.checkinText == \"Journey\" ? \"Number of Seats\" : \"Number of Rooms\");\n        core[\"zb\" /* advance */](3);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r1.checkinText !== \"Journey\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r1.checkinText !== \"Journey\");\n        core[\"zb\" /* advance */](2);\n        core[\"mc\" /* property */](\"ngForOf\", ctx_r1.serviceAdminBookingReportList);\n        core[\"zb\" /* advance */](7);\n        core[\"Kc\" /* textInterpolate */](ctx_r1.getSum(\"totalNumberOfRooms\"));\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](ctx_r1.getSum(\"totalRent\"));\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r1.checkinText !== \"Journey\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r1.checkinText !== \"Journey\");\n    }\n}\nvar booking_range_report_component_BookingRangeReportComponent = /** @class */ /*@__PURE__*/ (function () {\n    function BookingRangeReportComponent(reportService, utilService, toastrService, restDataService) {\n        this.reportService = reportService;\n        this.utilService = utilService;\n        this.toastrService = toastrService;\n        this.restDataService = restDataService;\n        this.reportList = [];\n        this.serviceAdminBookingReportList = [];\n        this.daterange = {};\n        this.mode = 'Sell';\n        this.loading = false;\n        this.dropdownData = [];\n        this.selectedList = [];\n        this.checkinText = 'Checkin';\n        this.dropdownServiceNameData = [];\n        this.selectedServiceNameList = [];\n        this.serviceTypes = [];\n        this.filterServiceName = 'All';\n    }\n    BookingRangeReportComponent.prototype.ngOnInit = function () {\n        this.dropdownSettings = {\n            singleSelection: true,\n            idField: 'id',\n            textField: 'name',\n            selectAllText: 'Select All',\n            unSelectAllText: 'UnSelect All',\n            itemsShowLimit: 3,\n            allowSearchFilter: true\n        };\n        this.setDateRanges();\n        this.getServiceTypeList();\n    };\n    BookingRangeReportComponent.prototype.getServiceTypeList = function () {\n        var _this = this;\n        try {\n            this.restDataService.sendAuthenticateGetRequestObserver('api/v1/admin/reports/service-type', '').subscribe(function (data) {\n                _this.responseModel = data;\n                _this.serviceTypes = _this.responseModel.content;\n                var listTest = [];\n                var selectedVal = [];\n                // tslint:disable-next-line:prefer-for-of\n                for (var i = 0; i < _this.serviceTypes.length; i++) {\n                    // tslint:disable-next-line:max-line-length\n                    if (i === 0) {\n                        // @ts-ignore\n                        selectedVal.push({ id: _this.serviceTypes[i], name: _this.serviceTypes[i] });\n                    }\n                    var dropdownItemName = { id: _this.serviceTypes[i], name: _this.serviceTypes[i] };\n                    listTest.push(dropdownItemName);\n                    // this.dropdownList.push(dropdownItemName);\n                }\n                _this.dropdownData = listTest;\n                _this.selectedList = selectedVal;\n            });\n        }\n        catch (err) {\n            console.log(err);\n        }\n    };\n    BookingRangeReportComponent.prototype.loadServiceNameDropdown = function (event) {\n        var _this = this;\n        if (event != null && event.length > 0) {\n            try {\n                if (event[0].id === 'Ship') {\n                    this.checkinText = 'Journey';\n                }\n                else if (event[0].id === 'Hotel') {\n                    this.checkinText = 'Checkin';\n                }\n                this.selectedList = event;\n                // tslint:disable-next-line:max-line-length\n                this.restDataService.sendAuthenticateGetRequestObserver('api/v1/admin/reports/service-dropdown/' + event[0].id, '').subscribe(function (data) {\n                    _this.responseModel = data;\n                    _this.serviceNames = _this.responseModel.content;\n                    var listTest = [];\n                    // listTest.push({id: '', name: 'All'});\n                    // tslint:disable-next-line:prefer-for-of\n                    for (var i = 0; i < _this.serviceNames.length; i++) {\n                        // tslint:disable-next-line:max-line-length\n                        var dropdownItemName = { id: _this.serviceNames[i].id, name: _this.serviceNames[i].serviceName };\n                        listTest.push(dropdownItemName);\n                        // this.dropdownList.push(dropdownItemName);\n                    }\n                    _this.dropdownServiceNameData = listTest;\n                    // this.selectedServiceNameList = [{id: '', name: 'All'}];\n                });\n            }\n            catch (err) {\n                console.log(err);\n            }\n        }\n    };\n    BookingRangeReportComponent.prototype.setDateRanges = function () {\n        this.daterange.checkoutDate = new Date();\n        this.daterange.checkinDate = new Date();\n        this.daterange.checkinDate.setDate(this.daterange.checkinDate.getDate() - 10);\n        var minDate = new Date();\n        minDate.setDate(this.daterange.checkinDate.getDate() - 90);\n        var maxDate = new Date();\n        maxDate.setDate(this.daterange.checkinDate.getDate() + 2);\n        this.options = {\n            autoApply: true,\n            locale: { format: 'DD MMM,YY' },\n            // minDate: minDate,\n            // maxDate: maxDate,\n            startDate: this.daterange.checkinDate,\n            endDate: this.daterange.checkoutDate,\n            alwaysShowCalendars: false\n        };\n    };\n    BookingRangeReportComponent.prototype.selectedDate = function (value) {\n        this.daterange.checkinDate = value.start._d;\n        this.daterange.checkoutDate = value.end._d;\n        this.daterange.label = value.label;\n    };\n    BookingRangeReportComponent.prototype.filterReportDataByServiceName = function (event) {\n        if (event != null && event.length > 0) {\n            this.filterServiceName = event[0].name;\n            switch (event[0].name) {\n                case 'All':\n                    this.serviceAdminBookingReportList = this.reportList;\n                    break;\n                default:\n                    this.serviceAdminBookingReportList = this.reportList.filter(function (sl) { return sl.hotelName === event[0].name; });\n            }\n        }\n    };\n    BookingRangeReportComponent.prototype.getSum = function (column) {\n        var sum = 0;\n        for (var i = 0; i < this.serviceAdminBookingReportList.length; i++) {\n            sum += this.serviceAdminBookingReportList[i][column];\n        }\n        return sum;\n    };\n    BookingRangeReportComponent.prototype.getAdminReservationReportRange = function (sd, ed, serviceType, mood, serviceName) {\n        var _this = this;\n        this.loading = true;\n        this.serviceAdminBookingReportList = [];\n        this.reportList = [];\n        // tslint:disable-next-line:max-line-length\n        this.reportService.getAdminReservationReportRange(this.utilService.getDateString(sd), this.utilService.getDateString(ed), serviceType, mood, serviceName).subscribe(function (data) {\n            _this.reportList = data;\n            _this.serviceAdminBookingReportList = data;\n            _this.loading = false;\n        });\n    };\n    BookingRangeReportComponent.prototype.onSearch = function () {\n        var serviceType = null;\n        var serviceName = null;\n        if (this.selectedList !== null && this.selectedList.length > 0) {\n            serviceType = this.selectedList[0].id;\n        }\n        if (this.selectedServiceNameList !== null && this.selectedServiceNameList.length > 0) {\n            serviceName = this.selectedServiceNameList[0].id;\n        }\n        if (serviceType === null) {\n            this.toastrService.error('Error', 'Please service type first');\n            return;\n        }\n        if (serviceName === null) {\n            this.toastrService.error('Error', 'Please service name first');\n            return;\n        }\n        this.getAdminReservationReportRange(this.daterange.checkinDate, this.daterange.checkoutDate, serviceType, this.mode, serviceName);\n    };\n    BookingRangeReportComponent.fac = function BookingRangeReportComponent_Factory(t) { return new (t || BookingRangeReportComponent)(core[\"Lb\" /* directiveInject */](report_service[\"a\" /* ReportService */]), core[\"Lb\" /* directiveInject */](util_service[\"a\" /* UtilService */]), core[\"Lb\" /* directiveInject */](ngx_toastr[\"b\" /* ToastrService */]), core[\"Lb\" /* directiveInject */](rest_data_service[\"a\" /* RestDataService */])); };\n    BookingRangeReportComponent.cmp = core[\"Fb\" /* defineComponent */]({ type: BookingRangeReportComponent, selectors: [[\"app-booking-range-report\"]], decls: 33, vars: 13, consts: [[1, \"container-fluid\"], [1, \"row\", \"px-3\", \"details-title\", \"text-left\"], [1, \"row\"], [1, \"col-auto\", \"mb-2\"], [1, \"input-group\"], [1, \"input-group-prepend\"], [1, \"input-group-text\"], [1, \"fa\", \"fa-calendar\"], [\"type\", \"text\", \"name\", \"daterangeInput\", \"daterangepicker\", \"\", 1, \"form-control\", 3, \"options\", \"selected\"], [1, \"col-sm-2\", \"p-0\", 2, \"margin-left\", \"5px!important\"], [1, \"input-group\", \"mb-2\"], [\"id\", \"serviceType\", \"name\", \"serviceType\", 2, \"width\", \"100%\", 3, \"placeholder\", \"settings\", \"data\", \"ngModel\", \"ngModelChange\"], [\"id\", \"serviceName\", \"name\", \"serviceName\", 2, \"width\", \"100%\", 3, \"placeholder\", \"settings\", \"data\", \"ngModel\", \"ngModelChange\"], [1, \"col-auto\"], [\"id\", \"reportType\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"Sell\"], [\"value\", \"Reserve\"], [1, \"d-flex\", \"align-items-center\"], [1, \"btn\", \"btn-sm\", \"btn-success\", 2, \"margin-bottom\", \"100px\", \"margin-left\", \"20px\", 3, \"click\"], [1, \"row\", \"mb-5\"], [\"class\", \"col text-center\", 4, \"ngIf\"], [\"class\", \"col\", 4, \"ngIf\"], [1, \"col\", \"text-center\"], [1, \"col\"], [1, \"table\", \"table-bordered\", \"table-hover\", \"table-responsive-sm\"], [1, \"text-right\"], [\"class\", \"text-right\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"]], template: function BookingRangeReportComponent_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Qb\" /* elementStart */](0, \"div\", 0);\n                core[\"Qb\" /* elementStart */](1, \"span\", 1);\n                core[\"Jc\" /* text */](2, \"Booking range report\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](3, \"div\", 0);\n                core[\"Qb\" /* elementStart */](4, \"div\", 2);\n                core[\"Qb\" /* elementStart */](5, \"div\", 3);\n                core[\"Qb\" /* elementStart */](6, \"div\", 4);\n                core[\"Qb\" /* elementStart */](7, \"div\", 5);\n                core[\"Qb\" /* elementStart */](8, \"div\", 6);\n                core[\"Mb\" /* element */](9, \"i\", 7);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](10, \"input\", 8);\n                core[\"bc\" /* listener */](\"selected\", function BookingRangeReportComponent_Template_input_selected_10_listener($event) { return ctx.selectedDate($event); });\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](11, \"div\", 9);\n                core[\"Qb\" /* elementStart */](12, \"div\", 10);\n                core[\"Qb\" /* elementStart */](13, \"ng-multiselect-dropdown\", 11);\n                core[\"bc\" /* listener */](\"ngModelChange\", function BookingRangeReportComponent_Template_ng_multiselect_dropdown_ngModelChange_13_listener($event) { return ctx.loadServiceNameDropdown($event); })(\"ngModelChange\", function BookingRangeReportComponent_Template_ng_multiselect_dropdown_ngModelChange_13_listener($event) { return ctx.selectedList = $event; });\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](14, \"div\", 9);\n                core[\"Qb\" /* elementStart */](15, \"div\", 10);\n                core[\"Qb\" /* elementStart */](16, \"ng-multiselect-dropdown\", 12);\n                core[\"bc\" /* listener */](\"ngModelChange\", function BookingRangeReportComponent_Template_ng_multiselect_dropdown_ngModelChange_16_listener($event) { return ctx.selectedServiceNameList = $event; })(\"ngModelChange\", function BookingRangeReportComponent_Template_ng_multiselect_dropdown_ngModelChange_16_listener($event) { return ctx.filterReportDataByServiceName($event); });\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](17, \"div\", 13);\n                core[\"Qb\" /* elementStart */](18, \"div\", 10);\n                core[\"Qb\" /* elementStart */](19, \"div\", 5);\n                core[\"Qb\" /* elementStart */](20, \"div\", 6);\n                core[\"Jc\" /* text */](21, \"Type\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](22, \"select\", 14);\n                core[\"bc\" /* listener */](\"ngModelChange\", function BookingRangeReportComponent_Template_select_ngModelChange_22_listener($event) { return ctx.mode = $event; });\n                core[\"Qb\" /* elementStart */](23, \"option\", 15);\n                core[\"Jc\" /* text */](24, \"sells date \");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](25, \"option\", 16);\n                core[\"Jc\" /* text */](26);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](27, \"div\", 17);\n                core[\"Qb\" /* elementStart */](28, \"button\", 18);\n                core[\"bc\" /* listener */](\"click\", function BookingRangeReportComponent_Template_button_click_28_listener() { return ctx.onSearch(); });\n                core[\"Jc\" /* text */](29, \"Search\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](30, \"div\", 19);\n                core[\"Hc\" /* template */](31, BookingRangeReportComponent_div_31_Template, 2, 0, \"div\", 20);\n                core[\"Hc\" /* template */](32, BookingRangeReportComponent_div_32_Template, 29, 9, \"div\", 21);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"zb\" /* advance */](10);\n                core[\"mc\" /* property */](\"options\", ctx.options);\n                core[\"zb\" /* advance */](3);\n                core[\"mc\" /* property */](\"placeholder\", \"Select Service Type\")(\"settings\", ctx.dropdownSettings)(\"data\", ctx.dropdownData)(\"ngModel\", ctx.selectedList);\n                core[\"zb\" /* advance */](3);\n                core[\"mc\" /* property */](\"placeholder\", \"Select Service Name\")(\"settings\", ctx.dropdownSettings)(\"data\", ctx.dropdownServiceNameData)(\"ngModel\", ctx.selectedServiceNameList);\n                core[\"zb\" /* advance */](6);\n                core[\"mc\" /* property */](\"ngModel\", ctx.mode);\n                core[\"zb\" /* advance */](4);\n                core[\"Lc\" /* textInterpolate1 */](\"\", ctx.checkinText, \" date \");\n                core[\"zb\" /* advance */](5);\n                core[\"mc\" /* property */](\"ngIf\", ctx.loading);\n                core[\"zb\" /* advance */](1);\n                core[\"mc\" /* property */](\"ngIf\", !ctx.loading);\n            }\n        }, directives: [ng2_daterangepicker[\"b\" /* DaterangepickerComponent */], ng_multiselect_dropdown[\"a\" /* MultiSelectComponent */], fesm2015_forms[\"n\" /* NgControlStatus */], fesm2015_forms[\"q\" /* NgModel */], fesm2015_forms[\"v\" /* SelectControlValueAccessor */], fesm2015_forms[\"r\" /* NgSelectOption */], fesm2015_forms[\"x\" /* angular_packages_forms_forms_x */], common[\"p\" /* NgIf */], loading_component[\"a\" /* LoadingComponent */], common[\"o\" /* NgForOf */]], styles: [\"td[_ngcontent-%COMP%]{padding:3px;font-size:14px}\"] });\n    return BookingRangeReportComponent;\n}());\n\n\n// EXTERNAL MODULE: ./src/services/booking.service.ts\nvar booking_service = __webpack_require__(\"0sMf\");\n\n// EXTERNAL MODULE: ./src/dashboard/admin/admin-shared/components/booking-details/booking-details.component.ts\nvar booking_details_component = __webpack_require__(\"YBP9\");\n\n// CONCATENATED MODULE: ./src/dashboard/admin/admin-report/containers/commission-report/commission-report.component.ts\nvar commission_report_component_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try {\n            step(generator.next(value));\n        }\n        catch (e) {\n            reject(e);\n        } }\n        function rejected(value) { try {\n            step(generator[\"throw\"](value));\n        }\n        catch (e) {\n            reject(e);\n        } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar commission_report_component_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function () { if (t[0] & 1)\n            throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f)\n            throw new TypeError(\"Generator is already executing.\");\n        while (_)\n            try {\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)\n                    return t;\n                if (y = 0, t)\n                    op = [op[0] & 2, t.value];\n                switch (op[0]) {\n                    case 0:\n                    case 1:\n                        t = op;\n                        break;\n                    case 4:\n                        _.label++;\n                        return { value: op[1], done: false };\n                    case 5:\n                        _.label++;\n                        y = op[1];\n                        op = [0];\n                        continue;\n                    case 7:\n                        op = _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                    default:\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                            _ = 0;\n                            continue;\n                        }\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                            _.label = op[1];\n                            break;\n                        }\n                        if (op[0] === 6 && _.label < t[1]) {\n                            _.label = t[1];\n                            t = op;\n                            break;\n                        }\n                        if (t && _.label < t[2]) {\n                            _.label = t[2];\n                            _.ops.push(op);\n                            break;\n                        }\n                        if (t[2])\n                            _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                }\n                op = body.call(thisArg, _);\n            }\n            catch (e) {\n                op = [6, e];\n                y = 0;\n            }\n            finally {\n                f = t = 0;\n            }\n        if (op[0] & 5)\n            throw op[1];\n        return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\nfunction CommissionReportComponent_loading_23_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Mb\" /* element */](0, \"loading\");\n    }\n}\nfunction CommissionReportComponent_table_24_tr_18_Template(rf, ctx) {\n    if (rf & 1) {\n        var _r7 = core[\"Rb\" /* getCurrentView */]();\n        core[\"Qb\" /* elementStart */](0, \"tr\");\n        core[\"Qb\" /* elementStart */](1, \"td\");\n        core[\"Jc\" /* text */](2);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](3, \"td\");\n        core[\"Jc\" /* text */](4);\n        core[\"fc\" /* pipe */](5, \"date\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](6, \"td\");\n        core[\"Jc\" /* text */](7);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](8, \"td\", 19);\n        core[\"Jc\" /* text */](9);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](10, \"td\", 19);\n        core[\"Jc\" /* text */](11);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](12, \"td\", 19);\n        core[\"Jc\" /* text */](13);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](14, \"td\", 19);\n        core[\"Qb\" /* elementStart */](15, \"a\", 22);\n        core[\"bc\" /* listener */](\"click\", function CommissionReportComponent_table_24_tr_18_Template_a_click_15_listener() { core[\"yc\" /* restoreView */](_r7); var rep_r4 = ctx.$implicit; var ctx_r6 = core[\"ec\" /* nextContext */](2); return ctx_r6.onBookingDetails(rep_r4.bookingId); });\n        core[\"Jc\" /* text */](16);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var rep_r4 = ctx.$implicit;\n        var i_r5 = ctx.index;\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](i_r5 + 1);\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](core[\"gc\" /* pipeBind1 */](5, 8, rep_r4.date));\n        core[\"zb\" /* advance */](3);\n        core[\"Mc\" /* textInterpolate2 */](\" \", rep_r4.company, \" \", rep_r4.role ? \"[\" + rep_r4.role + \"]\" : \"\", \" \");\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](rep_r4.hotelswaveCommission);\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](rep_r4.hotelswaveAgentCommission);\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](rep_r4.price);\n        core[\"zb\" /* advance */](3);\n        core[\"Kc\" /* textInterpolate */](rep_r4.bookingId);\n    }\n}\nfunction CommissionReportComponent_table_24_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"table\", 18);\n        core[\"Qb\" /* elementStart */](1, \"thead\");\n        core[\"Qb\" /* elementStart */](2, \"tr\");\n        core[\"Qb\" /* elementStart */](3, \"th\");\n        core[\"Jc\" /* text */](4, \"Sl.\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](5, \"th\");\n        core[\"Jc\" /* text */](6, \"Date\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](7, \"th\");\n        core[\"Jc\" /* text */](8, \"Sold by\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](9, \"th\", 19);\n        core[\"Jc\" /* text */](10, \"Hotelswave Commission\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](11, \"th\", 19);\n        core[\"Jc\" /* text */](12, \"Hotelswave Agent Commission\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](13, \"th\", 19);\n        core[\"Jc\" /* text */](14, \"Price\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](15, \"th\", 19);\n        core[\"Jc\" /* text */](16, \"Bookign ID\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](17, \"tbody\");\n        core[\"Hc\" /* template */](18, CommissionReportComponent_table_24_tr_18_Template, 17, 10, \"tr\", 20);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](19, \"tfoot\");\n        core[\"Qb\" /* elementStart */](20, \"tr\");\n        core[\"Mb\" /* element */](21, \"th\");\n        core[\"Qb\" /* elementStart */](22, \"th\");\n        core[\"Jc\" /* text */](23, \"Total\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Mb\" /* element */](24, \"th\");\n        core[\"Qb\" /* elementStart */](25, \"th\", 19);\n        core[\"Jc\" /* text */](26);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](27, \"th\", 19);\n        core[\"Jc\" /* text */](28);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](29, \"th\", 19);\n        core[\"Jc\" /* text */](30);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Mb\" /* element */](31, \"th\", 21);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r1 = core[\"ec\" /* nextContext */]();\n        core[\"zb\" /* advance */](18);\n        core[\"mc\" /* property */](\"ngForOf\", ctx_r1.reportList);\n        core[\"zb\" /* advance */](8);\n        core[\"Kc\" /* textInterpolate */](ctx_r1.total.totalHotelswaveCommission);\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](ctx_r1.total.toatalHotelswaveAgentCommission);\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](ctx_r1.total.totalPrice);\n    }\n}\nfunction CommissionReportComponent_div_25_Template(rf, ctx) {\n    if (rf & 1) {\n        var _r9 = core[\"Rb\" /* getCurrentView */]();\n        core[\"Qb\" /* elementStart */](0, \"div\", 9);\n        core[\"Mb\" /* element */](1, \"admin-booking-details\", 23);\n        core[\"Qb\" /* elementStart */](2, \"button\", 24);\n        core[\"bc\" /* listener */](\"click\", function CommissionReportComponent_div_25_Template_button_click_2_listener() { core[\"yc\" /* restoreView */](_r9); var ctx_r8 = core[\"ec\" /* nextContext */](); return ctx_r8.onCloseBooking(); });\n        core[\"Jc\" /* text */](3, \"Close\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r2 = core[\"ec\" /* nextContext */]();\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"booking\", ctx_r2.booking);\n    }\n}\nvar commission_report_component_CommissionReportComponent = /** @class */ /*@__PURE__*/ (function () {\n    function CommissionReportComponent(reportService, bookingService, utilService) {\n        this.reportService = reportService;\n        this.bookingService = bookingService;\n        this.utilService = utilService;\n        this.loading = false;\n        this.mode = 'Reserve';\n        this.reportList = [];\n        this.daterange = {};\n    }\n    CommissionReportComponent.prototype.ngOnInit = function () {\n        this.total = { totalHotelswaveCommission: 0, toatalHotelswaveAgentCommission: 0, totalPrice: 0 };\n        this.setDateRanges();\n        this.onLoad();\n    };\n    CommissionReportComponent.prototype.setDateRanges = function () {\n        this.daterange.checkoutDate = new Date();\n        this.daterange.checkinDate = new Date();\n        this.daterange.checkinDate.setDate(this.daterange.checkinDate.getDate() - 1);\n        var minDate = new Date();\n        minDate.setDate(this.daterange.checkinDate.getDate() - 90);\n        var maxDate = new Date();\n        maxDate.setDate(this.daterange.checkinDate.getDate() + 90);\n        this.options = {\n            autoApply: true,\n            locale: { format: 'DD MMM,YY' },\n            minDate: minDate,\n            maxDate: maxDate,\n            startDate: this.daterange.checkinDate,\n            endDate: this.daterange.checkoutDate,\n            alwaysShowCalendars: false\n        };\n    };\n    CommissionReportComponent.prototype.selectedDate = function (value) {\n        this.daterange.checkinDate = value.start._d;\n        this.daterange.checkoutDate = value.end._d;\n        this.daterange.label = value.label;\n        this.onLoad();\n    };\n    CommissionReportComponent.prototype.onLoad = function () {\n        switch (this.mode) {\n            case 'Reserve':\n                this.getAdminCommissionReportByCheckIn(this.daterange.checkinDate, this.daterange.checkoutDate);\n                break;\n            case 'Sell':\n                this.getAdminCommissionReportBySells(this.daterange.checkinDate, this.daterange.checkoutDate);\n                break;\n        }\n    };\n    CommissionReportComponent.prototype.getAdminCommissionReportBySells = function (sd, ed) {\n        return commission_report_component_awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return commission_report_component_generator(this, function (_a) {\n                this.loading = true;\n                // tslint:disable-next-line:max-line-length\n                this.reportService.getAdminCommissionReportBySells(this.utilService.getDateString(sd), this.utilService.getDateString(ed)).subscribe(function (data) {\n                    _this.reportList = data;\n                    _this.calculateServiceAdminBookingReportList();\n                    _this.loading = false;\n                });\n                return [2 /*return*/];\n            });\n        });\n    };\n    CommissionReportComponent.prototype.getAdminCommissionReportByCheckIn = function (sd, ed) {\n        return commission_report_component_awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return commission_report_component_generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.loading = true;\n                        // tslint:disable-next-line:max-line-length\n                        return [4 /*yield*/, this.reportService.getAdminCommissionReportByCheckIn(this.utilService.getDateString(sd), this.utilService.getDateString(ed)).subscribe(function (data) {\n                                _this.reportList = data;\n                                _this.calculateServiceAdminBookingReportList();\n                                _this.loading = false;\n                            })];\n                    case 1:\n                        // tslint:disable-next-line:max-line-length\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CommissionReportComponent.prototype.onBookingDetails = function (bookingId) {\n        return commission_report_component_awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return commission_report_component_generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        console.log('Details: ', bookingId);\n                        return [4 /*yield*/, this.bookingService.getAdminBooking(bookingId).subscribe(function (data) {\n                                _this.booking = data;\n                            })];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CommissionReportComponent.prototype.onCloseBooking = function () {\n        this.booking = null;\n    };\n    CommissionReportComponent.prototype.calculateServiceAdminBookingReportList = function () {\n        var _this = this;\n        this.total = { totalHotelswaveCommission: 0, toatalHotelswaveAgentCommission: 0, totalPrice: 0 };\n        this.reportList.forEach(function (sb) {\n            _this.total.totalHotelswaveCommission += sb.hotelswaveCommission;\n            _this.total.toatalHotelswaveAgentCommission += sb.hotelswaveAgentCommission;\n            _this.total.totalPrice += sb.price;\n        });\n    };\n    CommissionReportComponent.fac = function CommissionReportComponent_Factory(t) { return new (t || CommissionReportComponent)(core[\"Lb\" /* directiveInject */](report_service[\"a\" /* ReportService */]), core[\"Lb\" /* directiveInject */](booking_service[\"a\" /* BookingService */]), core[\"Lb\" /* directiveInject */](util_service[\"a\" /* UtilService */])); };\n    CommissionReportComponent.cmp = core[\"Fb\" /* defineComponent */]({ type: CommissionReportComponent, selectors: [[\"app-commission-report\"]], decls: 26, vars: 5, consts: [[1, \"container-fluid\"], [1, \"row\", \"px-3\", \"details-title\", \"text-left\"], [1, \"row\"], [1, \"col-auto\", \"mb-2\"], [1, \"input-group\"], [1, \"input-group-prepend\"], [1, \"input-group-text\"], [1, \"fa\", \"fa-calendar\"], [\"type\", \"text\", \"name\", \"daterangeInput\", \"daterangepicker\", \"\", 1, \"form-control\", 3, \"options\", \"selected\"], [1, \"col-auto\"], [1, \"input-group\", \"mb-2\"], [\"id\", \"reportType\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"Reserve\"], [\"value\", \"Sell\"], [1, \"col\", \"text-center\"], [4, \"ngIf\"], [\"class\", \"table table-bordered table-hover table-responsive-sm\", 4, \"ngIf\"], [\"class\", \"col-auto\", 4, \"ngIf\"], [1, \"table\", \"table-bordered\", \"table-hover\", \"table-responsive-sm\"], [1, \"text-right\"], [4, \"ngFor\", \"ngForOf\"], [\"colspan\", \"3\"], [3, \"click\"], [3, \"booking\"], [1, \"btn\", \"btn-sm\", \"btn-danger\", 3, \"click\"]], template: function CommissionReportComponent_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Qb\" /* elementStart */](0, \"div\", 0);\n                core[\"Qb\" /* elementStart */](1, \"span\", 1);\n                core[\"Jc\" /* text */](2, \"Commission report\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](3, \"div\", 0);\n                core[\"Qb\" /* elementStart */](4, \"div\", 2);\n                core[\"Qb\" /* elementStart */](5, \"div\", 3);\n                core[\"Qb\" /* elementStart */](6, \"div\", 4);\n                core[\"Qb\" /* elementStart */](7, \"div\", 5);\n                core[\"Qb\" /* elementStart */](8, \"div\", 6);\n                core[\"Mb\" /* element */](9, \"i\", 7);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](10, \"input\", 8);\n                core[\"bc\" /* listener */](\"selected\", function CommissionReportComponent_Template_input_selected_10_listener($event) { return ctx.selectedDate($event); });\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](11, \"div\", 9);\n                core[\"Qb\" /* elementStart */](12, \"div\", 10);\n                core[\"Qb\" /* elementStart */](13, \"div\", 5);\n                core[\"Qb\" /* elementStart */](14, \"div\", 6);\n                core[\"Jc\" /* text */](15, \"Type\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](16, \"select\", 11);\n                core[\"bc\" /* listener */](\"ngModelChange\", function CommissionReportComponent_Template_select_ngModelChange_16_listener($event) { return ctx.mode = $event; })(\"change\", function CommissionReportComponent_Template_select_change_16_listener() { return ctx.onLoad(); });\n                core[\"Qb\" /* elementStart */](17, \"option\", 12);\n                core[\"Jc\" /* text */](18, \" By checkin date \");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](19, \"option\", 13);\n                core[\"Jc\" /* text */](20, \" By sells date \");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](21, \"div\", 2);\n                core[\"Qb\" /* elementStart */](22, \"div\", 14);\n                core[\"Hc\" /* template */](23, CommissionReportComponent_loading_23_Template, 1, 0, \"loading\", 15);\n                core[\"Hc\" /* template */](24, CommissionReportComponent_table_24_Template, 32, 4, \"table\", 16);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Hc\" /* template */](25, CommissionReportComponent_div_25_Template, 4, 1, \"div\", 17);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"zb\" /* advance */](10);\n                core[\"mc\" /* property */](\"options\", ctx.options);\n                core[\"zb\" /* advance */](6);\n                core[\"mc\" /* property */](\"ngModel\", ctx.mode);\n                core[\"zb\" /* advance */](7);\n                core[\"mc\" /* property */](\"ngIf\", ctx.loading);\n                core[\"zb\" /* advance */](1);\n                core[\"mc\" /* property */](\"ngIf\", !ctx.loading);\n                core[\"zb\" /* advance */](1);\n                core[\"mc\" /* property */](\"ngIf\", ctx.booking);\n            }\n        }, directives: [ng2_daterangepicker[\"b\" /* DaterangepickerComponent */], fesm2015_forms[\"v\" /* SelectControlValueAccessor */], fesm2015_forms[\"n\" /* NgControlStatus */], fesm2015_forms[\"q\" /* NgModel */], fesm2015_forms[\"r\" /* NgSelectOption */], fesm2015_forms[\"x\" /* angular_packages_forms_forms_x */], common[\"p\" /* NgIf */], loading_component[\"a\" /* LoadingComponent */], common[\"o\" /* NgForOf */], booking_details_component[\"a\" /* BookingDetailsComponent */]], pipes: [common[\"f\" /* DatePipe */]], styles: [\"td[_ngcontent-%COMP%]{padding:3px;font-size:14px}a[_ngcontent-%COMP%]{cursor:pointer;color:#00f!important;font-weight:600}\"] });\n    return CommissionReportComponent;\n}());\n\n\n// EXTERNAL MODULE: ./src/services/hotel.service.ts\nvar hotel_service = __webpack_require__(\"d26D\");\n\n// EXTERNAL MODULE: ./src/services/user.service.ts\nvar user_service = __webpack_require__(\"ITiG\");\n\n// CONCATENATED MODULE: ./src/dashboard/admin/admin-report/containers/couter-report/couter-report.component.ts\nvar couter_report_component_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try {\n            step(generator.next(value));\n        }\n        catch (e) {\n            reject(e);\n        } }\n        function rejected(value) { try {\n            step(generator[\"throw\"](value));\n        }\n        catch (e) {\n            reject(e);\n        } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar couter_report_component_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function () { if (t[0] & 1)\n            throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f)\n            throw new TypeError(\"Generator is already executing.\");\n        while (_)\n            try {\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)\n                    return t;\n                if (y = 0, t)\n                    op = [op[0] & 2, t.value];\n                switch (op[0]) {\n                    case 0:\n                    case 1:\n                        t = op;\n                        break;\n                    case 4:\n                        _.label++;\n                        return { value: op[1], done: false };\n                    case 5:\n                        _.label++;\n                        y = op[1];\n                        op = [0];\n                        continue;\n                    case 7:\n                        op = _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                    default:\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                            _ = 0;\n                            continue;\n                        }\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                            _.label = op[1];\n                            break;\n                        }\n                        if (op[0] === 6 && _.label < t[1]) {\n                            _.label = t[1];\n                            t = op;\n                            break;\n                        }\n                        if (t && _.label < t[2]) {\n                            _.label = t[2];\n                            _.ops.push(op);\n                            break;\n                        }\n                        if (t[2])\n                            _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                }\n                op = body.call(thisArg, _);\n            }\n            catch (e) {\n                op = [6, e];\n                y = 0;\n            }\n            finally {\n                f = t = 0;\n            }\n        if (op[0] & 5)\n            throw op[1];\n        return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction CouterReportComponent_option_18_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"option\", 36);\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var role_r8 = ctx.$implicit;\n        core[\"mc\" /* property */](\"value\", role_r8.name);\n        core[\"zb\" /* advance */](1);\n        core[\"Lc\" /* textInterpolate1 */](\" \", role_r8.name, \" \");\n    }\n}\nfunction CouterReportComponent_option_26_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"option\", 36);\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var user_r9 = ctx.$implicit;\n        core[\"mc\" /* property */](\"value\", user_r9.id);\n        core[\"zb\" /* advance */](1);\n        core[\"Mc\" /* textInterpolate2 */](\"\", user_r9.name, \"[\", user_r9.phoneNumber, \"] \");\n    }\n}\nfunction CouterReportComponent_div_52_Template(rf, ctx) {\n    if (rf & 1) {\n        var _r11 = core[\"Rb\" /* getCurrentView */]();\n        core[\"Qb\" /* elementStart */](0, \"div\", 37);\n        core[\"Qb\" /* elementStart */](1, \"button\", 38);\n        core[\"bc\" /* listener */](\"click\", function CouterReportComponent_div_52_Template_button_click_1_listener() { core[\"yc\" /* restoreView */](_r11); var ctx_r10 = core[\"ec\" /* nextContext */](); return ctx_r10.onSearch(); });\n        core[\"Jc\" /* text */](2, \"Search\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nfunction CouterReportComponent_div_59_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"div\");\n        core[\"Mb\" /* element */](1, \"loading\", 39);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r3 = core[\"ec\" /* nextContext */]();\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"message\", ctx_r3.message);\n    }\n}\nfunction CouterReportComponent_div_60_th_18_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\", 42);\n        core[\"Jc\" /* text */](1, \"Advance\");\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nfunction CouterReportComponent_div_60_th_19_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\", 42);\n        core[\"Jc\" /* text */](1, \"Due\");\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nfunction CouterReportComponent_div_60_th_24_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\");\n        core[\"Jc\" /* text */](1, \"Ref\");\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nfunction CouterReportComponent_div_60_th_25_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\", 42);\n        core[\"Jc\" /* text */](1, \"Ref Fee.\");\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nfunction CouterReportComponent_div_60_tr_29_td_15_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"td\", 42);\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var rep_r21 = core[\"ec\" /* nextContext */]().$implicit;\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](rep_r21.advance);\n    }\n}\nfunction CouterReportComponent_div_60_tr_29_td_16_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"td\", 42);\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var rep_r21 = core[\"ec\" /* nextContext */]().$implicit;\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](rep_r21.due);\n    }\n}\nfunction CouterReportComponent_div_60_tr_29_td_21_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"td\");\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var rep_r21 = core[\"ec\" /* nextContext */]().$implicit;\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](rep_r21.ref);\n    }\n}\nfunction CouterReportComponent_div_60_tr_29_td_22_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"td\", 42);\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var rep_r21 = core[\"ec\" /* nextContext */]().$implicit;\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](rep_r21.refFee);\n    }\n}\nvar couter_report_component_c0 = function (a0, a1) { return { \"bg-warning\": a0, \"bg-danger\": a1 }; };\nvar couter_report_component_c1 = function (a0, a1) { return { \"bg-primary\": a0, \"bg-danger\": a1 }; };\nfunction CouterReportComponent_div_60_tr_29_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"tr\", 46);\n        core[\"Qb\" /* elementStart */](1, \"td\", 42);\n        core[\"Jc\" /* text */](2);\n        core[\"fc\" /* pipe */](3, \"date\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](4, \"td\");\n        core[\"Jc\" /* text */](5);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](6, \"td\");\n        core[\"Jc\" /* text */](7);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](8, \"td\");\n        core[\"Jc\" /* text */](9);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](10, \"td\", 42);\n        core[\"Jc\" /* text */](11);\n        core[\"fc\" /* pipe */](12, \"date\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](13, \"td\", 42);\n        core[\"Jc\" /* text */](14);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Hc\" /* template */](15, CouterReportComponent_div_60_tr_29_td_15_Template, 2, 1, \"td\", 43);\n        core[\"Hc\" /* template */](16, CouterReportComponent_div_60_tr_29_td_16_Template, 2, 1, \"td\", 43);\n        core[\"Qb\" /* elementStart */](17, \"td\", 42);\n        core[\"Jc\" /* text */](18);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](19, \"td\", 42);\n        core[\"Jc\" /* text */](20);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Hc\" /* template */](21, CouterReportComponent_div_60_tr_29_td_21_Template, 2, 1, \"td\", 32);\n        core[\"Hc\" /* template */](22, CouterReportComponent_div_60_tr_29_td_22_Template, 2, 1, \"td\", 43);\n        core[\"Qb\" /* elementStart */](23, \"td\", 47);\n        core[\"Jc\" /* text */](24);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var rep_r21 = ctx.$implicit;\n        var ctx_r16 = core[\"ec\" /* nextContext */](2);\n        core[\"mc\" /* property */](\"ngClass\", core[\"rc\" /* pureFunction2 */](23, couter_report_component_c0, rep_r21.bookingStatus == \"ROOM_RESERVED\", rep_r21.bookingStatus == \"ROOM_CANCELED\"));\n        core[\"zb\" /* advance */](2);\n        core[\"Lc\" /* textInterpolate1 */](\" \", core[\"hc\" /* pipeBind2 */](3, 17, rep_r21.created, \"d MMM,y\"), \" \");\n        core[\"zb\" /* advance */](3);\n        core[\"Kc\" /* textInterpolate */](rep_r21.hotelName);\n        core[\"zb\" /* advance */](2);\n        core[\"Mc\" /* textInterpolate2 */](\"\", rep_r21.customerName, \"[\", rep_r21.customerPhone, \"]\");\n        core[\"zb\" /* advance */](2);\n        core[\"Mc\" /* textInterpolate2 */](\"\", rep_r21.roomNumber, \" [\", rep_r21.category, \"]\");\n        core[\"zb\" /* advance */](2);\n        core[\"Lc\" /* textInterpolate1 */](\" \", core[\"hc\" /* pipeBind2 */](12, 20, rep_r21.date, \"d MMM,y\"), \" \");\n        core[\"zb\" /* advance */](3);\n        core[\"Kc\" /* textInterpolate */](rep_r21.price);\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r16.checkinText != \"Journey\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r16.checkinText != \"Journey\");\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](rep_r21.paymentMethod);\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](rep_r21.commission);\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r16.checkinText != \"Journey\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r16.checkinText != \"Journey\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngClass\", core[\"rc\" /* pureFunction2 */](26, couter_report_component_c1, rep_r21.status == \"Paid\", rep_r21.status == \"Unpaid\"));\n        core[\"zb\" /* advance */](1);\n        core[\"Lc\" /* textInterpolate1 */](\" \", rep_r21.status, \" \");\n    }\n}\nfunction CouterReportComponent_div_60_th_41_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\", 42);\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r17 = core[\"ec\" /* nextContext */](2);\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](ctx_r17.total.totalAdvance);\n    }\n}\nfunction CouterReportComponent_div_60_th_42_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"th\", 42);\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r18 = core[\"ec\" /* nextContext */](2);\n        core[\"zb\" /* advance */](1);\n        core[\"Kc\" /* textInterpolate */](ctx_r18.total.totalDue);\n    }\n}\nfunction CouterReportComponent_div_60_td_46_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Mb\" /* element */](0, \"td\");\n    }\n}\nfunction CouterReportComponent_div_60_td_47_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Mb\" /* element */](0, \"td\", 42);\n    }\n}\nfunction CouterReportComponent_div_60_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"div\");\n        core[\"Qb\" /* elementStart */](1, \"h3\", 40);\n        core[\"Jc\" /* text */](2);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](3, \"table\", 41);\n        core[\"Qb\" /* elementStart */](4, \"thead\");\n        core[\"Qb\" /* elementStart */](5, \"tr\");\n        core[\"Qb\" /* elementStart */](6, \"th\");\n        core[\"Jc\" /* text */](7, \"Sells Date\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](8, \"th\");\n        core[\"Jc\" /* text */](9);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](10, \"th\");\n        core[\"Jc\" /* text */](11, \"Customer Name\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](12, \"th\");\n        core[\"Jc\" /* text */](13);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](14, \"th\", 42);\n        core[\"Jc\" /* text */](15);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](16, \"th\", 42);\n        core[\"Jc\" /* text */](17, \"Rent\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Hc\" /* template */](18, CouterReportComponent_div_60_th_18_Template, 2, 0, \"th\", 43);\n        core[\"Hc\" /* template */](19, CouterReportComponent_div_60_th_19_Template, 2, 0, \"th\", 43);\n        core[\"Qb\" /* elementStart */](20, \"th\", 42);\n        core[\"Jc\" /* text */](21, \"Payment Method\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](22, \"th\", 42);\n        core[\"Jc\" /* text */](23, \"Commission\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Hc\" /* template */](24, CouterReportComponent_div_60_th_24_Template, 2, 0, \"th\", 32);\n        core[\"Hc\" /* template */](25, CouterReportComponent_div_60_th_25_Template, 2, 0, \"th\", 43);\n        core[\"Qb\" /* elementStart */](26, \"th\");\n        core[\"Jc\" /* text */](27, \"Status\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](28, \"tbody\");\n        core[\"Hc\" /* template */](29, CouterReportComponent_div_60_tr_29_Template, 25, 29, \"tr\", 44);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](30, \"tfoot\");\n        core[\"Qb\" /* elementStart */](31, \"tr\");\n        core[\"Qb\" /* elementStart */](32, \"th\");\n        core[\"Jc\" /* text */](33, \"Total\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Mb\" /* element */](34, \"td\");\n        core[\"Mb\" /* element */](35, \"td\");\n        core[\"Qb\" /* elementStart */](36, \"td\", 45);\n        core[\"Jc\" /* text */](37);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Mb\" /* element */](38, \"th\");\n        core[\"Qb\" /* elementStart */](39, \"th\", 42);\n        core[\"Jc\" /* text */](40);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Hc\" /* template */](41, CouterReportComponent_div_60_th_41_Template, 2, 1, \"th\", 43);\n        core[\"Hc\" /* template */](42, CouterReportComponent_div_60_th_42_Template, 2, 1, \"th\", 43);\n        core[\"Mb\" /* element */](43, \"th\", 42);\n        core[\"Qb\" /* elementStart */](44, \"th\", 42);\n        core[\"Jc\" /* text */](45);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Hc\" /* template */](46, CouterReportComponent_div_60_td_46_Template, 1, 0, \"td\", 32);\n        core[\"Hc\" /* template */](47, CouterReportComponent_div_60_td_47_Template, 1, 0, \"td\", 43);\n        core[\"Mb\" /* element */](48, \"td\", 42);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r4 = core[\"ec\" /* nextContext */]();\n        core[\"zb\" /* advance */](2);\n        core[\"Mc\" /* textInterpolate2 */](\" \", ctx_r4.reportType, \" report for date of : \", ctx_r4.getDate(), \" \");\n        core[\"zb\" /* advance */](7);\n        core[\"Kc\" /* textInterpolate */](ctx_r4.checkinText == \"Journey\" ? \"Ship Name\" : \"Hotel Name\");\n        core[\"zb\" /* advance */](4);\n        core[\"Kc\" /* textInterpolate */](ctx_r4.checkinText == \"Journey\" ? \"Seat No.\" : \"Room No.\");\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](ctx_r4.checkinText == \"Journey\" ? \"Journey Date\" : \"Checkin Date\");\n        core[\"zb\" /* advance */](3);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r4.checkinText != \"Journey\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r4.checkinText != \"Journey\");\n        core[\"zb\" /* advance */](5);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r4.checkinText != \"Journey\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r4.checkinText != \"Journey\");\n        core[\"zb\" /* advance */](4);\n        core[\"mc\" /* property */](\"ngForOf\", ctx_r4.savedList);\n        core[\"zb\" /* advance */](8);\n        core[\"Kc\" /* textInterpolate */](ctx_r4.total.totalSeatNumber);\n        core[\"zb\" /* advance */](3);\n        core[\"Kc\" /* textInterpolate */](ctx_r4.total.totalrent);\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r4.checkinText != \"Journey\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r4.checkinText != \"Journey\");\n        core[\"zb\" /* advance */](3);\n        core[\"Kc\" /* textInterpolate */](ctx_r4.total.totalCommission);\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r4.checkinText != \"Journey\");\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"ngIf\", ctx_r4.checkinText != \"Journey\");\n    }\n}\nfunction CouterReportComponent_div_61_tr_8_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"tr\");\n        core[\"Qb\" /* elementStart */](1, \"td\");\n        core[\"Jc\" /* text */](2);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](3, \"td\");\n        core[\"Jc\" /* text */](4);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var item_r31 = ctx.$implicit;\n        var ctx_r30 = core[\"ec\" /* nextContext */](2);\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](item_r31.key);\n        core[\"zb\" /* advance */](2);\n        core[\"Kc\" /* textInterpolate */](ctx_r30.paymentMethodAmountMap.get(item_r31.key));\n    }\n}\nfunction CouterReportComponent_div_61_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"div\", 30);\n        core[\"Qb\" /* elementStart */](1, \"div\", 8);\n        core[\"Qb\" /* elementStart */](2, \"table\", 41);\n        core[\"Qb\" /* elementStart */](3, \"tr\");\n        core[\"Qb\" /* elementStart */](4, \"th\");\n        core[\"Jc\" /* text */](5, \"Payment Method\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](6, \"th\");\n        core[\"Jc\" /* text */](7, \"Amount\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Hc\" /* template */](8, CouterReportComponent_div_61_tr_8_Template, 5, 2, \"tr\", 48);\n        core[\"fc\" /* pipe */](9, \"keyvalue\");\n        core[\"Qb\" /* elementStart */](10, \"tr\");\n        core[\"Qb\" /* elementStart */](11, \"th\");\n        core[\"Jc\" /* text */](12, \"Total\");\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Qb\" /* elementStart */](13, \"th\");\n        core[\"Jc\" /* text */](14);\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r5 = core[\"ec\" /* nextContext */]();\n        core[\"zb\" /* advance */](8);\n        core[\"mc\" /* property */](\"ngForOf\", core[\"gc\" /* pipeBind1 */](9, 2, ctx_r5.paymentMethodAmountMap));\n        core[\"zb\" /* advance */](6);\n        core[\"Kc\" /* textInterpolate */](ctx_r5.total.totalAdvance);\n    }\n}\nfunction CouterReportComponent_ng_template_62_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"h4\", 40);\n        core[\"Mb\" /* element */](1, \"i\", 49);\n        core[\"Jc\" /* text */](2, \" No record yet \");\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nvar couter_report_component_CouterReportComponent = /** @class */ /*@__PURE__*/ (function () {\n    function CouterReportComponent(userService, hotelService, reportService, util, restDataService) {\n        this.userService = userService;\n        this.hotelService = hotelService;\n        this.reportService = reportService;\n        this.util = util;\n        this.restDataService = restDataService;\n        this.daterange = {};\n        this.reportType = 'Sells';\n        this.loading = false;\n        this.reportList = [];\n        this.savedList = [];\n        this.message = '';\n        this.dropdownData = [];\n        this.selectedList = [];\n        this.checkinText = 'Checkin';\n        this.dropdownServiceNameData = [];\n        this.selectedServiceNameList = [];\n        this.serviceTypes = [];\n        this.filterServiceName = 'All';\n        this.filterBookingStatus = 'ROOM_SOLD';\n        this.paymentMethodAmountMap = new Map();\n    }\n    CouterReportComponent.prototype.ngOnInit = function () {\n        this.dropdownSettings = {\n            singleSelection: true,\n            idField: 'id',\n            textField: 'name',\n            selectAllText: 'Select All',\n            unSelectAllText: 'UnSelect All',\n            itemsShowLimit: 3,\n            allowSearchFilter: true\n        };\n        this.getAllHotels();\n        this.getServiceTypeList();\n        this.loadRoleDropdown();\n        this.setDateRanges();\n    };\n    CouterReportComponent.prototype.getServiceTypeList = function () {\n        var _this = this;\n        try {\n            this.restDataService.sendAuthenticateGetRequestObserver('api/v1/admin/reports/service-type', '').subscribe(function (data) {\n                _this.responseModel = data;\n                _this.serviceTypes = _this.responseModel.content;\n                var listTest = [];\n                var selectedVal = [];\n                // tslint:disable-next-line:prefer-for-of\n                for (var i = 0; i < _this.serviceTypes.length; i++) {\n                    // tslint:disable-next-line:max-line-length\n                    if (i === 0) {\n                        // @ts-ignore\n                        selectedVal.push({ id: _this.serviceTypes[i], name: _this.serviceTypes[i] });\n                    }\n                    var dropdownItemName = { id: _this.serviceTypes[i], name: _this.serviceTypes[i] };\n                    listTest.push(dropdownItemName);\n                    // this.dropdownList.push(dropdownItemName);\n                }\n                _this.dropdownData = listTest;\n                _this.selectedList = selectedVal;\n                // this.onModeChange(this.mode);\n            });\n        }\n        catch (err) {\n            console.log(err);\n        }\n    };\n    CouterReportComponent.prototype.loadRoleDropdown = function () {\n        var _this = this;\n        try {\n            this.restDataService.sendAuthenticateGetRequestObserver('api/v1/admin/reports/role-dropdown', '').subscribe(function (data) {\n                _this.responseModel = data;\n                _this.roles = _this.responseModel.content;\n            });\n        }\n        catch (err) {\n            console.log(err);\n        }\n    };\n    CouterReportComponent.prototype.loadServiceNameDropdown = function (event) {\n        var _this = this;\n        if (event != null && event.length > 0) {\n            try {\n                if (event[0].id === 'Ship') {\n                    this.checkinText = 'Journey';\n                }\n                else if (event[0].id === 'Hotel') {\n                    this.checkinText = 'Checkin';\n                }\n                this.serviceType = event[0].id;\n                this.selectedList = event;\n                // tslint:disable-next-line:max-line-length\n                this.restDataService.sendAuthenticateGetRequestObserver('api/v1/admin/reports/service-dropdown/' + event[0].id, '').subscribe(function (data) {\n                    _this.responseModel = data;\n                    _this.serviceNames = _this.responseModel.content;\n                    var listTest = [];\n                    listTest.push({ id: '', name: 'All' });\n                    for (var i = 0; i < _this.serviceNames.length; i++) {\n                        var dropdownItemName = { id: _this.serviceNames[i].id, name: _this.serviceNames[i].serviceName };\n                        listTest.push(dropdownItemName);\n                    }\n                    _this.dropdownServiceNameData = listTest;\n                    _this.selectedServiceNameList = [{ id: '', name: 'All' }];\n                    _this.reportList = null;\n                    _this.savedList = null;\n                });\n            }\n            catch (err) {\n                console.log(err);\n            }\n        }\n    };\n    CouterReportComponent.prototype.setDateRanges = function () {\n        this.daterange.startDate = new Date();\n        this.daterange.endDate = new Date();\n        var minDate = new Date();\n        minDate.setDate(this.daterange.startDate.getDate() - 490);\n        var maxDate = new Date();\n        maxDate.setDate(this.daterange.endDate.getDate() + 90);\n        this.daterange.startDate.setDate(this.daterange.endDate.getDate() - 10);\n        this.daterange.endDate.setDate(this.daterange.endDate.getDate() + 10);\n        this.options = {\n            autoApply: true,\n            locale: { format: 'DD MMM,YY' },\n            /*minDate: minDate,\n            maxDate: maxDate,*/\n            startDate: this.daterange.startDate,\n            endDate: this.daterange.endDate,\n            alwaysShowCalendars: false\n        };\n    };\n    CouterReportComponent.prototype.selectedDate = function (value) {\n        this.savedList = null;\n        this.daterange.startDate = value.start._d;\n        this.daterange.endDate = value.end._d;\n        this.daterange.label = value.label;\n    };\n    CouterReportComponent.prototype.getAllHotels = function () {\n        return couter_report_component_awaiter(this, void 0, void 0, function () {\n            var _a, err_1;\n            return couter_report_component_generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        this.loading = true;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 3, , 4]);\n                        _a = this;\n                        return [4 /*yield*/, this.hotelService.gethotelsList().toPromise()];\n                    case 2:\n                        _a.hotelList = _b.sent();\n                        this.hotelList.sort(this.util.dynamicSortObject('name'));\n                        this.loading = false;\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_1 = _b.sent();\n                        console.log(err_1);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CouterReportComponent.prototype.onServiceChange = function () {\n        var _this = this;\n        if (this.selectedServiceNameList.length > 0) {\n            var serviceName_1 = this.selectedServiceNameList[0].name;\n            if (serviceName_1) {\n                switch (serviceName_1) {\n                    case 'All':\n                        this.savedList = this.reportList;\n                        break;\n                    default:\n                        // tslint:disable-next-line:max-line-length\n                        this.savedList = this.reportList.filter(function (sl) { return sl.hotelName === serviceName_1; });\n                }\n            }\n            if (this.filterBookingStatus && this.savedList !== null) {\n                this.savedList = this.savedList.filter(function (sa) { return sa.bookingStatus === _this.filterBookingStatus; });\n            }\n            this.calculateServiceAdminBookingReportList();\n        }\n    };\n    CouterReportComponent.prototype.getUserListByRole = function (role) {\n        return couter_report_component_awaiter(this, void 0, void 0, function () {\n            var _a, err_2;\n            return couter_report_component_generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        this.savedList = null;\n                        this.loading = true;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 3, , 4]);\n                        _a = this;\n                        return [4 /*yield*/, this.userService.getCounterUserListByRole(role).toPromise()];\n                    case 2:\n                        _a.userList = _b.sent();\n                        this.userList.sort(this.util.dynamicSortObject('name'));\n                        this.loading = false;\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_2 = _b.sent();\n                        console.log(err_2);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CouterReportComponent.prototype.onSearch = function () {\n        switch (this.reportType) {\n            case 'Sells':\n                // tslint:disable-next-line:max-line-length\n                this.getAdminSellsRangeReport(1, this.counter.id, this.daterange.startDate, this.daterange.endDate, this.serviceType);\n                break;\n            case 'Reservation':\n                // tslint:disable-next-line:max-line-length\n                this.getAdminSellsRangeReport(0, this.counter.id, this.daterange.startDate, this.daterange.endDate, this.serviceType);\n                break;\n        }\n    };\n    CouterReportComponent.prototype.getAdminSellsRangeReport = function (isSaleDate, userId, sd, ed, serviceType) {\n        return couter_report_component_awaiter(this, void 0, void 0, function () {\n            var startDate, endDate, _a, err_3;\n            return couter_report_component_generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        this.loading = true;\n                        startDate = this.util.getDateString(sd);\n                        endDate = this.util.getDateString(ed);\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 3, , 4]);\n                        // tslint:disable-next-line:max-line-length\n                        _a = this;\n                        return [4 /*yield*/, this.reportService.getAdminSellsReportRangeForIndividual(isSaleDate, userId, startDate, endDate, serviceType).toPromise()];\n                    case 2:\n                        // tslint:disable-next-line:max-line-length\n                        _a.reportList = _b.sent();\n                        this.reportList.sort(this.util.dynamicSortObject('created'));\n                        this.savedList = this.reportList;\n                        this.onServiceChange();\n                        this.loading = false;\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_3 = _b.sent();\n                        console.log(err_3);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CouterReportComponent.prototype.onCounterChange = function (id) {\n        this.savedList = null;\n        this.counter = this.userList.find(function (u) { return u.id.toString() === id; });\n    };\n    CouterReportComponent.prototype.getDate = function () {\n        // tslint:disable-next-line:max-line-length\n        return this.daterange.startDate.getDate() + '-' + (this.daterange.startDate.getMonth() + 1) + '-' + this.daterange.startDate.getFullYear() + '-'\n            + this.daterange.endDate.getDate() + ' to ' + (this.daterange.endDate.getMonth() + 1) + '-' + this.daterange.endDate.getFullYear();\n    };\n    CouterReportComponent.prototype.calculateServiceAdminBookingReportList = function () {\n        var _this = this;\n        this.total = { totalrent: 0, totalAdvance: 0, totalDue: 0, totalSeatNumber: 0, totalCommission: 0 };\n        this.paymentMethodAmountMap = new Map();\n        if (this.savedList !== null) {\n            this.savedList.forEach(function (sb) {\n                _this.total.totalrent += sb.price;\n                _this.total.totalAdvance += sb.advance;\n                _this.total.totalSeatNumber += sb.numberOfSeat;\n                _this.total.totalDue += sb.due;\n                _this.total.totalCommission += sb.commission;\n                if (sb.paymentMethod !== null && sb.paymentMethod !== '') {\n                    // tslint:disable-next-line:max-line-length\n                    _this.paymentMethodAmountMap.set(sb.paymentMethod, _this.paymentMethodAmountMap.get(sb.paymentMethod) ? _this.paymentMethodAmountMap.get(sb.paymentMethod) + sb.advance : sb.advance);\n                }\n                if (sb.paymentMethod === null || sb.paymentMethod === '') {\n                    sb.paymentMethod = 'Others';\n                    // tslint:disable-next-line:max-line-length\n                    _this.paymentMethodAmountMap.set(sb.paymentMethod, _this.paymentMethodAmountMap.get(sb.paymentMethod) ? _this.paymentMethodAmountMap.get(sb.paymentMethod) + sb.advance : sb.advance);\n                }\n            });\n        }\n    };\n    CouterReportComponent.prototype.clear = function () {\n        this.savedList = null;\n    };\n    CouterReportComponent.prototype.onPrint = function () {\n        window.print();\n    };\n    CouterReportComponent.fac = function CouterReportComponent_Factory(t) { return new (t || CouterReportComponent)(core[\"Lb\" /* directiveInject */](user_service[\"a\" /* UserService */]), core[\"Lb\" /* directiveInject */](hotel_service[\"a\" /* HotelService */]), core[\"Lb\" /* directiveInject */](report_service[\"a\" /* ReportService */]), core[\"Lb\" /* directiveInject */](util_service[\"a\" /* UtilService */]), core[\"Lb\" /* directiveInject */](rest_data_service[\"a\" /* RestDataService */])); };\n    CouterReportComponent.cmp = core[\"Fb\" /* defineComponent */]({ type: CouterReportComponent, selectors: [[\"app-couter-report\"]], decls: 64, vars: 19, consts: [[1, \"container-fluid\"], [1, \"row\", \"px-3\", \"details-title\", \"text-left\"], [1, \"row\", \"d-print-none\", \"bg-light\", \"shadow-sm\"], [1, \"col-sm-1\", \"p-0\", 2, \"margin-left\", \"5px!important\", \"margin-top\", \"25px\"], [1, \"input-group\", \"mb-2\"], [\"id\", \"serviceType\", \"name\", \"serviceType\", 2, \"width\", \"100%\", 3, \"placeholder\", \"settings\", \"data\", \"ngModel\", \"ngModelChange\"], [1, \"col-sm-2\", \"p-0\", 2, \"margin-left\", \"5px!important\", \"margin-top\", \"25px\"], [\"id\", \"serviceName\", \"name\", \"serviceName\", 2, \"width\", \"100%\", 3, \"placeholder\", \"settings\", \"data\", \"ngModel\", \"ngModelChange\"], [1, \"col-auto\"], [1, \"form-group\"], [\"for\", \"counterType\"], [\"id\", \"counterType\", 1, \"form-control\", 3, \"change\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"counterUser\"], [\"id\", \"counterUser\", 1, \"form-control\", 3, \"change\"], [\"for\", \"dateRange\"], [\"type\", \"text\", \"id\", \"dateRange\", \"name\", \"daterangeInput\", \"daterangepicker\", \"\", 1, \"form-control\", 3, \"options\", \"selected\"], [\"for\", \"reportType\"], [\"id\", \"reportType\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"Sells\"], [\"value\", \"Reservation\"], [\"id\", \"status\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"ROOM_SOLD\"], [\"value\", \"ROOM_RESERVED\"], [\"value\", \"ROOM_CANCELED\"], [\"class\", \"d-flex align-items-center\", 4, \"ngIf\"], [1, \"d-flex\", \"align-items-center\", \"ml-auto\", \"mr-2\"], [1, \"btn\", \"btn-sm\", \"btn-primary\", 3, \"click\"], [1, \"fa\", \"fa-print\"], [1, \"row\"], [1, \"col-12\"], [4, \"ngIf\"], [4, \"ngIf\", \"ngIfElse\"], [\"class\", \"row\", 4, \"ngIf\"], [\"noRecord\", \"\"], [3, \"value\"], [1, \"d-flex\", \"align-items-center\"], [1, \"btn\", \"btn-sm\", \"btn-success\", 3, \"click\"], [3, \"message\"], [1, \"text-center\"], [1, \"table\", \"table-bordered\", \"table-hover\", \"table-responsive-sm\"], [1, \"text-right\"], [\"class\", \"text-right\", 4, \"ngIf\"], [3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [2, \"text-align\", \"center\", \"font-weight\", \"bold\"], [3, \"ngClass\"], [1, \"text-white\", 3, \"ngClass\"], [4, \"ngFor\", \"ngForOf\"], [1, \"fa\", \"fa-frown-o\"]], template: function CouterReportComponent_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Qb\" /* elementStart */](0, \"div\", 0);\n                core[\"Qb\" /* elementStart */](1, \"span\", 1);\n                core[\"Jc\" /* text */](2, \"Details report\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](3, \"div\", 0);\n                core[\"Qb\" /* elementStart */](4, \"div\", 2);\n                core[\"Qb\" /* elementStart */](5, \"div\", 3);\n                core[\"Qb\" /* elementStart */](6, \"div\", 4);\n                core[\"Qb\" /* elementStart */](7, \"ng-multiselect-dropdown\", 5);\n                core[\"bc\" /* listener */](\"ngModelChange\", function CouterReportComponent_Template_ng_multiselect_dropdown_ngModelChange_7_listener($event) { return ctx.loadServiceNameDropdown($event); })(\"ngModelChange\", function CouterReportComponent_Template_ng_multiselect_dropdown_ngModelChange_7_listener($event) { return ctx.selectedList = $event; });\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](8, \"div\", 6);\n                core[\"Qb\" /* elementStart */](9, \"div\", 4);\n                core[\"Qb\" /* elementStart */](10, \"ng-multiselect-dropdown\", 7);\n                core[\"bc\" /* listener */](\"ngModelChange\", function CouterReportComponent_Template_ng_multiselect_dropdown_ngModelChange_10_listener($event) { return ctx.selectedServiceNameList = $event; })(\"ngModelChange\", function CouterReportComponent_Template_ng_multiselect_dropdown_ngModelChange_10_listener() { return ctx.onServiceChange(); });\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](11, \"div\", 8);\n                core[\"Qb\" /* elementStart */](12, \"div\", 9);\n                core[\"Qb\" /* elementStart */](13, \"label\", 10);\n                core[\"Jc\" /* text */](14, \"Type\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](15, \"select\", 11);\n                core[\"bc\" /* listener */](\"change\", function CouterReportComponent_Template_select_change_15_listener($event) { return ctx.getUserListByRole($event.target.value); });\n                core[\"Qb\" /* elementStart */](16, \"option\", 12);\n                core[\"Jc\" /* text */](17, \" Select Type\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Hc\" /* template */](18, CouterReportComponent_option_18_Template, 2, 2, \"option\", 13);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](19, \"div\", 8);\n                core[\"Qb\" /* elementStart */](20, \"div\", 9);\n                core[\"Qb\" /* elementStart */](21, \"label\", 14);\n                core[\"Jc\" /* text */](22, \"User\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](23, \"select\", 15);\n                core[\"bc\" /* listener */](\"change\", function CouterReportComponent_Template_select_change_23_listener($event) { return ctx.onCounterChange($event.target.value); });\n                core[\"Qb\" /* elementStart */](24, \"option\", 12);\n                core[\"Jc\" /* text */](25, \" Select User\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Hc\" /* template */](26, CouterReportComponent_option_26_Template, 2, 3, \"option\", 13);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](27, \"div\", 8);\n                core[\"Qb\" /* elementStart */](28, \"div\", 9);\n                core[\"Qb\" /* elementStart */](29, \"label\", 16);\n                core[\"Jc\" /* text */](30, \"Date Range\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](31, \"input\", 17);\n                core[\"bc\" /* listener */](\"selected\", function CouterReportComponent_Template_input_selected_31_listener($event) { return ctx.selectedDate($event); });\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](32, \"div\", 8);\n                core[\"Qb\" /* elementStart */](33, \"label\", 18);\n                core[\"Jc\" /* text */](34, \"Report Type\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](35, \"div\", 4);\n                core[\"Qb\" /* elementStart */](36, \"select\", 19);\n                core[\"bc\" /* listener */](\"ngModelChange\", function CouterReportComponent_Template_select_ngModelChange_36_listener($event) { return ctx.reportType = $event; })(\"change\", function CouterReportComponent_Template_select_change_36_listener() { return ctx.clear(); });\n                core[\"Qb\" /* elementStart */](37, \"option\", 20);\n                core[\"Jc\" /* text */](38, \" By Sells Date\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](39, \"option\", 21);\n                core[\"Jc\" /* text */](40);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](41, \"div\", 8);\n                core[\"Qb\" /* elementStart */](42, \"label\", 18);\n                core[\"Jc\" /* text */](43, \"Status\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](44, \"div\", 4);\n                core[\"Qb\" /* elementStart */](45, \"select\", 22);\n                core[\"bc\" /* listener */](\"ngModelChange\", function CouterReportComponent_Template_select_ngModelChange_45_listener($event) { return ctx.filterBookingStatus = $event; })(\"change\", function CouterReportComponent_Template_select_change_45_listener() { return ctx.onServiceChange(); });\n                core[\"Qb\" /* elementStart */](46, \"option\", 23);\n                core[\"Jc\" /* text */](47, \" Sold\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](48, \"option\", 24);\n                core[\"Jc\" /* text */](49, \" Reserved\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](50, \"option\", 25);\n                core[\"Jc\" /* text */](51, \" Canceled\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Hc\" /* template */](52, CouterReportComponent_div_52_Template, 3, 0, \"div\", 26);\n                core[\"Qb\" /* elementStart */](53, \"div\", 27);\n                core[\"Qb\" /* elementStart */](54, \"button\", 28);\n                core[\"bc\" /* listener */](\"click\", function CouterReportComponent_Template_button_click_54_listener() { return ctx.onPrint(); });\n                core[\"Mb\" /* element */](55, \"i\", 29);\n                core[\"Jc\" /* text */](56, \" Print \");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](57, \"div\", 30);\n                core[\"Qb\" /* elementStart */](58, \"div\", 31);\n                core[\"Hc\" /* template */](59, CouterReportComponent_div_59_Template, 2, 1, \"div\", 32);\n                core[\"Hc\" /* template */](60, CouterReportComponent_div_60_Template, 49, 17, \"div\", 33);\n                core[\"Hc\" /* template */](61, CouterReportComponent_div_61_Template, 15, 4, \"div\", 34);\n                core[\"Hc\" /* template */](62, CouterReportComponent_ng_template_62_Template, 3, 0, \"ng-template\", null, 35, core[\"Ic\" /* templateRefExtractor */]);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n            }\n            if (rf & 2) {\n                var _r6 = core[\"wc\" /* reference */](63);\n                core[\"zb\" /* advance */](7);\n                core[\"mc\" /* property */](\"placeholder\", \"Select Service Type\")(\"settings\", ctx.dropdownSettings)(\"data\", ctx.dropdownData)(\"ngModel\", ctx.selectedList);\n                core[\"zb\" /* advance */](3);\n                core[\"mc\" /* property */](\"placeholder\", \"Select Service Name\")(\"settings\", ctx.dropdownSettings)(\"data\", ctx.dropdownServiceNameData)(\"ngModel\", ctx.selectedServiceNameList);\n                core[\"zb\" /* advance */](8);\n                core[\"mc\" /* property */](\"ngForOf\", ctx.roles);\n                core[\"zb\" /* advance */](8);\n                core[\"mc\" /* property */](\"ngForOf\", ctx.userList);\n                core[\"zb\" /* advance */](5);\n                core[\"mc\" /* property */](\"options\", ctx.options);\n                core[\"zb\" /* advance */](5);\n                core[\"mc\" /* property */](\"ngModel\", ctx.reportType);\n                core[\"zb\" /* advance */](4);\n                core[\"Lc\" /* textInterpolate1 */](\" By \", ctx.checkinText, \" Date\");\n                core[\"zb\" /* advance */](5);\n                core[\"mc\" /* property */](\"ngModel\", ctx.filterBookingStatus);\n                core[\"zb\" /* advance */](7);\n                core[\"mc\" /* property */](\"ngIf\", ctx.counter != null);\n                core[\"zb\" /* advance */](7);\n                core[\"mc\" /* property */](\"ngIf\", ctx.loading);\n                core[\"zb\" /* advance */](1);\n                core[\"mc\" /* property */](\"ngIf\", (ctx.savedList == null ? null : ctx.savedList.length) > 0 && !ctx.loading)(\"ngIfElse\", _r6);\n                core[\"zb\" /* advance */](1);\n                core[\"mc\" /* property */](\"ngIf\", (ctx.savedList == null ? null : ctx.savedList.length) > 0);\n            }\n        }, directives: [ng_multiselect_dropdown[\"a\" /* MultiSelectComponent */], fesm2015_forms[\"n\" /* NgControlStatus */], fesm2015_forms[\"q\" /* NgModel */], fesm2015_forms[\"r\" /* NgSelectOption */], fesm2015_forms[\"x\" /* angular_packages_forms_forms_x */], common[\"o\" /* NgForOf */], ng2_daterangepicker[\"b\" /* DaterangepickerComponent */], fesm2015_forms[\"v\" /* SelectControlValueAccessor */], common[\"p\" /* NgIf */], loading_component[\"a\" /* LoadingComponent */], common[\"n\" /* NgClass */]], pipes: [common[\"f\" /* DatePipe */], common[\"j\" /* KeyValuePipe */]], styles: [\".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.15rem}\"] });\n    return CouterReportComponent;\n}());\n\n\n// EXTERNAL MODULE: ./src/shared/shared.module.ts\nvar shared_module = __webpack_require__(\"KZX/\");\n\n// CONCATENATED MODULE: ./src/dashboard/admin/admin-report/containers/booking-report-admin-service/booking-report-admin-service.component.ts\nvar booking_report_admin_service_component_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try {\n            step(generator.next(value));\n        }\n        catch (e) {\n            reject(e);\n        } }\n        function rejected(value) { try {\n            step(generator[\"throw\"](value));\n        }\n        catch (e) {\n            reject(e);\n        } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar booking_report_admin_service_component_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function () { if (t[0] & 1)\n            throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f)\n            throw new TypeError(\"Generator is already executing.\");\n        while (_)\n            try {\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)\n                    return t;\n                if (y = 0, t)\n                    op = [op[0] & 2, t.value];\n                switch (op[0]) {\n                    case 0:\n                    case 1:\n                        t = op;\n                        break;\n                    case 4:\n                        _.label++;\n                        return { value: op[1], done: false };\n                    case 5:\n                        _.label++;\n                        y = op[1];\n                        op = [0];\n                        continue;\n                    case 7:\n                        op = _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                    default:\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                            _ = 0;\n                            continue;\n                        }\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                            _.label = op[1];\n                            break;\n                        }\n                        if (op[0] === 6 && _.label < t[1]) {\n                            _.label = t[1];\n                            t = op;\n                            break;\n                        }\n                        if (t && _.label < t[2]) {\n                            _.label = t[2];\n                            _.ops.push(op);\n                            break;\n                        }\n                        if (t[2])\n                            _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                }\n                op = body.call(thisArg, _);\n            }\n            catch (e) {\n                op = [6, e];\n                y = 0;\n            }\n            finally {\n                f = t = 0;\n            }\n        if (op[0] & 5)\n            throw op[1];\n        return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction BookingReportAdminServiceComponent_option_39_Template(rf, ctx) {\n    if (rf & 1) {\n        var _r8 = core[\"Rb\" /* getCurrentView */]();\n        core[\"Qb\" /* elementStart */](0, \"option\", 34);\n        core[\"bc\" /* listener */](\"change\", function BookingReportAdminServiceComponent_option_39_Template_option_change_0_listener($event) { core[\"yc\" /* restoreView */](_r8); var ctx_r7 = core[\"ec\" /* nextContext */](); return ctx_r7.onFilterChange($event.target.value, ctx_r7.filterBookingStatus); });\n        core[\"Jc\" /* text */](1);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var role_r6 = ctx.$implicit;\n        core[\"mc\" /* property */](\"value\", role_r6.name);\n        core[\"zb\" /* advance */](1);\n        core[\"Lc\" /* textInterpolate1 */](\" \", role_r6.name, \" \");\n    }\n}\nfunction BookingReportAdminServiceComponent_div_58_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"div\");\n        core[\"Mb\" /* element */](1, \"loading\", 35);\n        core[\"Pb\" /* elementEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r2 = core[\"ec\" /* nextContext */]();\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"message\", ctx_r2.message);\n    }\n}\nfunction BookingReportAdminServiceComponent_ng_container_59_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ob\" /* elementContainerStart */](0);\n        core[\"Mb\" /* element */](1, \"booking-report-list\", 36);\n        core[\"Nb\" /* elementContainerEnd */]();\n    }\n    if (rf & 2) {\n        var ctx_r3 = core[\"ec\" /* nextContext */]();\n        core[\"zb\" /* advance */](1);\n        core[\"mc\" /* property */](\"title\", ctx_r3.reportHead)(\"bookingList\", ctx_r3.serviceAdminBookingReportList)(\"serviceType\", ctx_r3.selectedList[0].id);\n    }\n}\nfunction BookingReportAdminServiceComponent_ng_template_60_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Qb\" /* elementStart */](0, \"h4\", 37);\n        core[\"Mb\" /* element */](1, \"i\", 38);\n        core[\"Jc\" /* text */](2, \" No record yet \");\n        core[\"Pb\" /* elementEnd */]();\n    }\n}\nvar booking_report_admin_service_component_BookingReportAdminServiceComponent = /** @class */ /*@__PURE__*/ (function () {\n    function BookingReportAdminServiceComponent(reportService, utilService, restDataService) {\n        this.reportService = reportService;\n        this.utilService = utilService;\n        this.restDataService = restDataService;\n        this.savedList = [];\n        this.serviceAdminBookingReportList = [];\n        this.reportType = 'Booking';\n        this.checkinText = 'Checkin';\n        this.filterRole = 'All';\n        this.filterServiceName = 'All';\n        this.filterBookingStatus = 'all';\n        this.reportHead = '';\n        this.loading = false;\n        this.dropdownData = [];\n        this.selectedList = [];\n        this.serviceTypes = [];\n        this.dropdownServiceNameData = [];\n        this.selectedServiceNameList = [];\n        this.dropdownRoleData = [];\n    }\n    BookingReportAdminServiceComponent.prototype.ngOnInit = function () {\n        this.dropdownSettings = {\n            singleSelection: true,\n            idField: 'id',\n            textField: 'name',\n            selectAllText: 'Select All',\n            unSelectAllText: 'UnSelect All',\n            itemsShowLimit: 3,\n            allowSearchFilter: true\n        };\n        this.setDate();\n        this.getServiceTypeList();\n        this.loadRoleDropdown();\n    };\n    BookingReportAdminServiceComponent.prototype.getServiceTypeList = function () {\n        var _this = this;\n        try {\n            this.restDataService.sendAuthenticateGetRequestObserver('api/v1/admin/reports/service-type', '').subscribe(function (data) {\n                _this.responseModel = data;\n                _this.serviceTypes = _this.responseModel.content;\n                var listTest = [];\n                var selectedVal = [];\n                // tslint:disable-next-line:prefer-for-of\n                for (var i = 0; i < _this.serviceTypes.length; i++) {\n                    // tslint:disable-next-line:max-line-length\n                    if (i === 0) {\n                        // @ts-ignore\n                        selectedVal.push({ id: _this.serviceTypes[i], name: _this.serviceTypes[i] });\n                    }\n                    var dropdownItemName = { id: _this.serviceTypes[i], name: _this.serviceTypes[i] };\n                    listTest.push(dropdownItemName);\n                    // this.dropdownList.push(dropdownItemName);\n                }\n                _this.dropdownData = listTest;\n                _this.selectedList = selectedVal;\n                _this.onLoad(0);\n            });\n        }\n        catch (err) {\n            console.log(err);\n        }\n    };\n    BookingReportAdminServiceComponent.prototype.setDate = function () {\n        var now = new Date();\n        this.date = {\n            year: now.getFullYear(),\n            month: now.getMonth() + 1,\n            day: now.getDate()\n        };\n    };\n    BookingReportAdminServiceComponent.prototype.getDate = function () {\n        return this.date.day + '-' + this.date.month + '-' + this.date.year;\n    };\n    BookingReportAdminServiceComponent.prototype.onLoad = function (day) {\n        var serviceType = null;\n        if (this.selectedList !== null && this.selectedList.length > 0) {\n            serviceType = this.selectedList[0].id;\n        }\n        if (serviceType !== null) {\n            var date = new Date(this.date.year, this.date.month - 1, this.date.day + day);\n            this.date = this.utilService.convertJsDateToNgbDate(date);\n            switch (this.reportType) {\n                case 'Reservation':\n                    this.getAdminBookingReport(this.date, serviceType, 0);\n                    break;\n                case 'Booking':\n                    this.getAdminBookingReport(this.date, serviceType, 1);\n                    break;\n            }\n        }\n    };\n    BookingReportAdminServiceComponent.prototype.onTypeChange = function (value) {\n        this.reportType = value;\n        this.onLoad(0);\n    };\n    BookingReportAdminServiceComponent.prototype.onPrint = function () {\n        window.print();\n    };\n    BookingReportAdminServiceComponent.prototype.onFilterChange = function (role, bookingStatus) {\n        var roleName = 'All';\n        if (role !== undefined && role !== null) {\n            if (typeof (role) === 'string') {\n                this.filterRole = role;\n                roleName = role;\n            }\n            else {\n                this.filterRole = role.length > 0 ? role[0].name : 'All';\n                if (role.length > 0) {\n                    roleName = role[0].name;\n                }\n            }\n        }\n        else {\n            this.filterRole = 'All';\n        }\n        this.filterBookingStatus = bookingStatus;\n        // Filter by role\n        switch (roleName) {\n            case 'All':\n                this.serviceAdminBookingReportList = this.savedList;\n                break;\n            default:\n                this.serviceAdminBookingReportList = this.savedList.filter(function (sl) { return sl.role === roleName; });\n        }\n        // Filter by status\n        if (bookingStatus !== 'all') {\n            this.serviceAdminBookingReportList = this.serviceAdminBookingReportList.filter(function (sa) { return sa.bookingStatus === bookingStatus; });\n        }\n        // this.calculateServiceAdminBookingReportList();\n    };\n    BookingReportAdminServiceComponent.prototype.getAdminBookingReport = function (date, serviceType, isSaleDate) {\n        return booking_report_admin_service_component_awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return booking_report_admin_service_component_generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.loading = true;\n                        // const date = `${year}-${month}-${day}`;\n                        return [4 /*yield*/, this.reportService.getAdminBookingReport(this.utilService.makeDateString(date), serviceType, isSaleDate, 0).subscribe(function (data) {\n                                _this.savedList = data;\n                                _this.savedList.sort(_this.utilService.dynamicSortObject('date'));\n                                _this.savedList.sort(_this.utilService.dynamicSortObject('roomNumber'));\n                                _this.onFilterChange(_this.filterRole, _this.filterBookingStatus);\n                                _this.reportHead = 'Booking report for date of : ' + _this.getDate();\n                                _this.loading = false;\n                            })];\n                    case 1:\n                        // const date = `${year}-${month}-${day}`;\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    BookingReportAdminServiceComponent.prototype.loadServiceNameDropdown = function (event) {\n        var _this = this;\n        if (event != null && event.length > 0) {\n            try {\n                if (event[0].id === 'Ship') {\n                    this.checkinText = 'Journey';\n                }\n                else if (event[0].id === 'Hotel') {\n                    this.checkinText = 'Checkin';\n                }\n                this.selectedList = event;\n                this.onLoad(0);\n                // tslint:disable-next-line:max-line-length\n                this.restDataService.sendAuthenticateGetRequestObserver('api/v1/admin/reports/service-dropdown/' + event[0].id, '').subscribe(function (data) {\n                    _this.responseModel = data;\n                    _this.serviceNames = _this.responseModel.content;\n                    var listTest = [];\n                    listTest.push({ id: '', name: 'All' });\n                    // tslint:disable-next-line:prefer-for-of\n                    for (var i = 0; i < _this.serviceNames.length; i++) {\n                        // tslint:disable-next-line:max-line-length\n                        var dropdownItemName = { id: _this.serviceNames[i].id, name: _this.serviceNames[i].serviceName };\n                        listTest.push(dropdownItemName);\n                        // this.dropdownList.push(dropdownItemName);\n                    }\n                    _this.dropdownServiceNameData = listTest;\n                    _this.selectedServiceNameList = [{ id: '', name: 'All' }];\n                });\n            }\n            catch (err) {\n                console.log(err);\n            }\n        }\n    };\n    BookingReportAdminServiceComponent.prototype.loadRoleDropdown = function () {\n        var _this = this;\n        try {\n            this.restDataService.sendAuthenticateGetRequestObserver('api/v1/admin/reports/role-dropdown?isAdmin=1', null).subscribe(function (data) {\n                _this.responseModel = data;\n                _this.roles = _this.responseModel.content;\n            });\n        }\n        catch (err) {\n            console.log(err);\n        }\n    };\n    BookingReportAdminServiceComponent.prototype.filterReportDataByServiceName = function (event) {\n        if (event != null && event.length > 0) {\n            this.filterServiceName = event[0].name;\n            switch (event[0].name) {\n                case 'All':\n                    this.serviceAdminBookingReportList = this.savedList;\n                    break;\n                default:\n                    this.serviceAdminBookingReportList = this.savedList.filter(function (sl) { return sl.hotelName === event[0].name; });\n            }\n        }\n    };\n    BookingReportAdminServiceComponent.fac = function BookingReportAdminServiceComponent_Factory(t) { return new (t || BookingReportAdminServiceComponent)(core[\"Lb\" /* directiveInject */](report_service[\"a\" /* ReportService */]), core[\"Lb\" /* directiveInject */](util_service[\"a\" /* UtilService */]), core[\"Lb\" /* directiveInject */](rest_data_service[\"a\" /* RestDataService */])); };\n    BookingReportAdminServiceComponent.cmp = core[\"Fb\" /* defineComponent */]({ type: BookingReportAdminServiceComponent, selectors: [[\"app-booking-report-admin-service\"]], decls: 62, vars: 15, consts: [[1, \"container-fluid\", \"d-print-none\"], [1, \"row\", \"px-3\", \"details-title\", \"text-left\"], [1, \"container-fluid\"], [1, \"row\", \"d-print-none\"], [1, \"col-sm-2\", \"p-0\", 2, \"margin-left\", \"5px!important\"], [1, \"input-group\", \"mb-2\"], [1, \"input-group-prepend\"], [1, \"input-group-text\"], [\"placeholder\", \"yyyy-mm-dd\", \"name\", \"dp\", \"id\", \"reportDate\", \"ngbDatepicker\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"dateSelect\", \"click\"], [\"d\", \"ngbDatepicker\"], [1, \"input-group-append\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", 3, \"click\"], [1, \"fa\", \"fa-calendar\"], [\"id\", \"serviceType\", \"name\", \"serviceType\", 2, \"width\", \"100%\", 3, \"placeholder\", \"settings\", \"data\", \"ngModel\", \"ngModelChange\"], [\"id\", \"serviceName\", \"name\", \"serviceName\", 2, \"width\", \"100%\", 3, \"placeholder\", \"settings\", \"data\", \"ngModel\", \"ngModelChange\"], [1, \"col-auto\"], [\"id\", \"reportType\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"Booking\"], [\"value\", \"Reservation\"], [\"id\", \"role\", 1, \"form-control\"], [\"value\", \"All\"], [3, \"value\", \"change\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"status\", 1, \"form-control\", 3, \"change\"], [\"value\", \"all\"], [\"value\", \"ROOM_SOLD\"], [\"value\", \"ROOM_RESERVED\"], [\"value\", \"ROOM_CANCELED\"], [1, \"btn\", \"btn-sm\", \"btn-primary\", 3, \"click\"], [1, \"fa\", \"fa-print\"], [1, \"row\"], [1, \"col-12\"], [4, \"ngIf\"], [4, \"ngIf\", \"ngIfElse\"], [\"noRecord\", \"\"], [3, \"value\", \"change\"], [3, \"message\"], [3, \"title\", \"bookingList\", \"serviceType\"], [1, \"text-center\"], [1, \"fa\", \"fa-frown-o\"]], template: function BookingReportAdminServiceComponent_Template(rf, ctx) {\n            if (rf & 1) {\n                var _r9 = core[\"Rb\" /* getCurrentView */]();\n                core[\"Qb\" /* elementStart */](0, \"div\", 0);\n                core[\"Qb\" /* elementStart */](1, \"span\", 1);\n                core[\"Jc\" /* text */](2, \"Booking report\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](3, \"div\", 2);\n                core[\"Qb\" /* elementStart */](4, \"div\", 3);\n                core[\"Qb\" /* elementStart */](5, \"div\", 4);\n                core[\"Qb\" /* elementStart */](6, \"div\", 5);\n                core[\"Qb\" /* elementStart */](7, \"div\", 6);\n                core[\"Qb\" /* elementStart */](8, \"div\", 7);\n                core[\"Jc\" /* text */](9, \"Date\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](10, \"input\", 8, 9);\n                core[\"bc\" /* listener */](\"ngModelChange\", function BookingReportAdminServiceComponent_Template_input_ngModelChange_10_listener($event) { return ctx.date = $event; })(\"dateSelect\", function BookingReportAdminServiceComponent_Template_input_dateSelect_10_listener() { return ctx.onLoad(0); })(\"click\", function BookingReportAdminServiceComponent_Template_input_click_10_listener() { core[\"yc\" /* restoreView */](_r9); var _r0 = core[\"wc\" /* reference */](11); return _r0.toggle(); });\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](12, \"div\", 10);\n                core[\"Qb\" /* elementStart */](13, \"button\", 11);\n                core[\"bc\" /* listener */](\"click\", function BookingReportAdminServiceComponent_Template_button_click_13_listener() { core[\"yc\" /* restoreView */](_r9); var _r0 = core[\"wc\" /* reference */](11); return _r0.toggle(); });\n                core[\"Mb\" /* element */](14, \"i\", 12);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](15, \"div\", 4);\n                core[\"Qb\" /* elementStart */](16, \"div\", 5);\n                core[\"Qb\" /* elementStart */](17, \"ng-multiselect-dropdown\", 13);\n                core[\"bc\" /* listener */](\"ngModelChange\", function BookingReportAdminServiceComponent_Template_ng_multiselect_dropdown_ngModelChange_17_listener($event) { return ctx.loadServiceNameDropdown($event); })(\"ngModelChange\", function BookingReportAdminServiceComponent_Template_ng_multiselect_dropdown_ngModelChange_17_listener($event) { return ctx.selectedList = $event; });\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](18, \"div\", 4);\n                core[\"Qb\" /* elementStart */](19, \"div\", 5);\n                core[\"Qb\" /* elementStart */](20, \"ng-multiselect-dropdown\", 14);\n                core[\"bc\" /* listener */](\"ngModelChange\", function BookingReportAdminServiceComponent_Template_ng_multiselect_dropdown_ngModelChange_20_listener($event) { return ctx.selectedServiceNameList = $event; })(\"ngModelChange\", function BookingReportAdminServiceComponent_Template_ng_multiselect_dropdown_ngModelChange_20_listener($event) { return ctx.filterReportDataByServiceName($event); });\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](21, \"div\", 15);\n                core[\"Qb\" /* elementStart */](22, \"div\", 5);\n                core[\"Qb\" /* elementStart */](23, \"div\", 6);\n                core[\"Qb\" /* elementStart */](24, \"div\", 7);\n                core[\"Jc\" /* text */](25, \"Type\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](26, \"select\", 16);\n                core[\"bc\" /* listener */](\"ngModelChange\", function BookingReportAdminServiceComponent_Template_select_ngModelChange_26_listener($event) { return ctx.reportType = $event; })(\"change\", function BookingReportAdminServiceComponent_Template_select_change_26_listener($event) { return ctx.onTypeChange($event.target.value); });\n                core[\"Qb\" /* elementStart */](27, \"option\", 17);\n                core[\"Jc\" /* text */](28, \" Sale date \");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](29, \"option\", 18);\n                core[\"Jc\" /* text */](30);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](31, \"div\", 15);\n                core[\"Qb\" /* elementStart */](32, \"div\", 5);\n                core[\"Qb\" /* elementStart */](33, \"div\", 6);\n                core[\"Qb\" /* elementStart */](34, \"div\", 7);\n                core[\"Jc\" /* text */](35, \"Role\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](36, \"select\", 19);\n                core[\"Qb\" /* elementStart */](37, \"option\", 20);\n                core[\"Jc\" /* text */](38, \"All\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Hc\" /* template */](39, BookingReportAdminServiceComponent_option_39_Template, 2, 2, \"option\", 21);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](40, \"div\", 6);\n                core[\"Qb\" /* elementStart */](41, \"div\", 7);\n                core[\"Jc\" /* text */](42, \"Status\");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](43, \"select\", 22);\n                core[\"bc\" /* listener */](\"change\", function BookingReportAdminServiceComponent_Template_select_change_43_listener($event) { return ctx.onFilterChange(ctx.filterRole, $event.target.value); });\n                core[\"Qb\" /* elementStart */](44, \"option\", 23);\n                core[\"Jc\" /* text */](45, \" All \");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](46, \"option\", 24);\n                core[\"Jc\" /* text */](47, \" Sold \");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](48, \"option\", 25);\n                core[\"Jc\" /* text */](49, \" Reserved \");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](50, \"option\", 26);\n                core[\"Jc\" /* text */](51, \" Cancled \");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](52, \"div\", 15);\n                core[\"Qb\" /* elementStart */](53, \"button\", 27);\n                core[\"bc\" /* listener */](\"click\", function BookingReportAdminServiceComponent_Template_button_click_53_listener() { return ctx.onPrint(); });\n                core[\"Mb\" /* element */](54, \"i\", 28);\n                core[\"Jc\" /* text */](55, \" Print \");\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Qb\" /* elementStart */](56, \"div\", 29);\n                core[\"Qb\" /* elementStart */](57, \"div\", 30);\n                core[\"Hc\" /* template */](58, BookingReportAdminServiceComponent_div_58_Template, 2, 1, \"div\", 31);\n                core[\"Hc\" /* template */](59, BookingReportAdminServiceComponent_ng_container_59_Template, 2, 3, \"ng-container\", 32);\n                core[\"Hc\" /* template */](60, BookingReportAdminServiceComponent_ng_template_60_Template, 3, 0, \"ng-template\", null, 33, core[\"Ic\" /* templateRefExtractor */]);\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n                core[\"Pb\" /* elementEnd */]();\n            }\n            if (rf & 2) {\n                var _r4 = core[\"wc\" /* reference */](61);\n                core[\"zb\" /* advance */](10);\n                core[\"mc\" /* property */](\"ngModel\", ctx.date);\n                core[\"zb\" /* advance */](7);\n                core[\"mc\" /* property */](\"placeholder\", \"Select Service Type\")(\"settings\", ctx.dropdownSettings)(\"data\", ctx.dropdownData)(\"ngModel\", ctx.selectedList);\n                core[\"zb\" /* advance */](3);\n                core[\"mc\" /* property */](\"placeholder\", \"Select Service Name\")(\"settings\", ctx.dropdownSettings)(\"data\", ctx.dropdownServiceNameData)(\"ngModel\", ctx.selectedServiceNameList);\n                core[\"zb\" /* advance */](6);\n                core[\"mc\" /* property */](\"ngModel\", ctx.reportType);\n                core[\"zb\" /* advance */](4);\n                core[\"Lc\" /* textInterpolate1 */](\" \", ctx.checkinText, \" Date\");\n                core[\"zb\" /* advance */](9);\n                core[\"mc\" /* property */](\"ngForOf\", ctx.roles);\n                core[\"zb\" /* advance */](19);\n                core[\"mc\" /* property */](\"ngIf\", ctx.loading);\n                core[\"zb\" /* advance */](1);\n                core[\"mc\" /* property */](\"ngIf\", ctx.serviceAdminBookingReportList.length > 0 && !ctx.loading)(\"ngIfElse\", _r4);\n            }\n        }, directives: [ng_bootstrap[\"j\" /* NgbInputDatepicker */], fesm2015_forms[\"b\" /* DefaultValueAccessor */], fesm2015_forms[\"n\" /* NgControlStatus */], fesm2015_forms[\"q\" /* NgModel */], ng_multiselect_dropdown[\"a\" /* MultiSelectComponent */], fesm2015_forms[\"v\" /* SelectControlValueAccessor */], fesm2015_forms[\"r\" /* NgSelectOption */], fesm2015_forms[\"x\" /* angular_packages_forms_forms_x */], common[\"o\" /* NgForOf */], common[\"p\" /* NgIf */], loading_component[\"a\" /* LoadingComponent */], booking_report_list_component_BookingReportListComponent], styles: [\"\"] });\n    return BookingReportAdminServiceComponent;\n}());\n\n\n// CONCATENATED MODULE: ./src/dashboard/admin/admin-report/admin-report.module.ts\n\n\n\n\n\n\n\n\n\n\n\nvar ROUTES = [\n    { path: 'booking-report', component: booking_report_component_BookingReportComponent },\n    { path: 'booking-report-admin-service', component: booking_report_admin_service_component_BookingReportAdminServiceComponent },\n    { path: 'booking-range-report', component: booking_range_report_component_BookingRangeReportComponent },\n    { path: 'counter-report', component: couter_report_component_CouterReportComponent },\n    { path: 'commission-report', component: commission_report_component_CommissionReportComponent }\n];\nvar admin_report_module_AdminReportModule = /** @class */ /*@__PURE__*/ (function () {\n    function AdminReportModule() {\n    }\n    AdminReportModule.mod = core[\"Jb\" /* defineNgModule */]({ type: AdminReportModule });\n    AdminReportModule.inj = core[\"Ib\" /* defineInjector */]({ factory: function AdminReportModule_Factory(t) { return new (t || AdminReportModule)(); }, imports: [[admin_shared_module[\"a\" /* AdminSharedModule */], shared_module[\"a\" /* SharedModule */], router[\"d\" /* RouterModule */].forChild(ROUTES), ng_multiselect_dropdown[\"b\" /* NgMultiSelectDropDownModule */]]] });\n    return AdminReportModule;\n}());\n\n\n\n/***/ })\n\n}]);","inputSourceMap":null}